(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ly(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Dt={},Ga=[],gr=()=>{},T4=()=>!1,nv=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),My=e=>e.startsWith("onUpdate:"),tn=Object.assign,Ny=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},x4=Object.prototype.hasOwnProperty,St=(e,t)=>x4.call(e,t),Ye=Array.isArray,Ka=e=>iv(e)==="[object Map]",NE=e=>iv(e)==="[object Set]",Xe=e=>typeof e=="function",Gt=e=>typeof e=="string",fs=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",FE=e=>(Mt(e)||Xe(e))&&Xe(e.then)&&Xe(e.catch),BE=Object.prototype.toString,iv=e=>BE.call(e),A4=e=>iv(e).slice(8,-1),$E=e=>iv(e)==="[object Object]",Fy=e=>Gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Du=Ly(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},P4=/-(\w)/g,vi=rv(e=>e.replace(P4,(t,n)=>n?n.toUpperCase():"")),V4=/\B([A-Z])/g,Js=rv(e=>e.replace(V4,"-$1").toLowerCase()),Ar=rv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Um=rv(e=>e?`on${Ar(e)}`:""),Bs=(e,t)=>!Object.is(e,t),pf=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},UE=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},$g=e=>{const t=parseFloat(e);return isNaN(t)?e:t},R4=e=>{const t=Gt(e)?Number(e):NaN;return isNaN(t)?e:t};let nw;const sv=()=>nw||(nw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function By(e){if(Ye(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Gt(i)?M4(i):By(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Gt(e)||Mt(e))return e}const D4=/;(?![^(]*\))/g,O4=/:([^]+)/,L4=/\/\*[^]*?\*\//g;function M4(e){const t={};return e.replace(L4,"").split(D4).forEach(n=>{if(n){const i=n.split(O4);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function un(e){let t="";if(Gt(e))t=e;else if(Ye(e))for(let n=0;n<e.length;n++){const i=un(e[n]);i&&(t+=i+" ")}else if(Mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const N4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F4=Ly(N4);function HE(e){return!!e||e===""}const jE=e=>!!(e&&e.__v_isRef===!0),ze=e=>Gt(e)?e:e==null?"":Ye(e)||Mt(e)&&(e.toString===BE||!Xe(e.toString))?jE(e)?ze(e.value):JSON.stringify(e,zE,2):String(e),zE=(e,t)=>jE(t)?zE(e,t.value):Ka(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r],s)=>(n[Hm(i,s)+" =>"]=r,n),{})}:NE(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Hm(n))}:fs(t)?Hm(t):Mt(t)&&!Ye(t)&&!$E(t)?String(t):t,Hm=(e,t="")=>{var n;return fs(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let si;class WE{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=si,!t&&si&&(this.index=(si.scopes||(si.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=si;try{return si=this,t()}finally{si=n}}}on(){si=this}off(){si=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Fc(e){return new WE(e)}function $y(){return si}function wn(e,t=!1){si&&si.cleanups.push(e)}let Lt;const jm=new WeakSet;class qE{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,si&&si.active&&si.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jm.has(this)&&(jm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||KE(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,iw(this),YE(this);const t=Lt,n=Xi;Lt=this,Xi=!0;try{return this.fn()}finally{QE(this),Lt=t,Xi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)jy(t);this.deps=this.depsTail=void 0,iw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ug(this)&&this.run()}get dirty(){return Ug(this)}}let GE=0,Ou,Lu;function KE(e,t=!1){if(e.flags|=8,t){e.next=Lu,Lu=e;return}e.next=Ou,Ou=e}function Uy(){GE++}function Hy(){if(--GE>0)return;if(Lu){let t=Lu;for(Lu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ou;){let t=Ou;for(Ou=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function YE(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function QE(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),jy(i),B4(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function Ug(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(XE(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function XE(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zu))return;e.globalVersion=Zu;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Ug(e)){e.flags&=-3;return}const n=Lt,i=Xi;Lt=e,Xi=!0;try{YE(e);const r=e.fn(e._value);(t.version===0||Bs(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{Lt=n,Xi=i,QE(e),e.flags&=-3}}function jy(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)jy(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function B4(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Xi=!0;const JE=[];function Zs(){JE.push(Xi),Xi=!1}function eo(){const e=JE.pop();Xi=e===void 0?!0:e}function iw(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Lt;Lt=void 0;try{t()}finally{Lt=n}}}let Zu=0;class $4{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ov{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Lt||!Xi||Lt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Lt)n=this.activeLink=new $4(Lt,this),Lt.deps?(n.prevDep=Lt.depsTail,Lt.depsTail.nextDep=n,Lt.depsTail=n):Lt.deps=Lt.depsTail=n,ZE(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Lt.depsTail,n.nextDep=void 0,Lt.depsTail.nextDep=n,Lt.depsTail=n,Lt.deps===n&&(Lt.deps=i)}return n}trigger(t){this.version++,Zu++,this.notify(t)}notify(t){Uy();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Hy()}}}function ZE(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)ZE(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Bf=new WeakMap,Po=Symbol(""),Hg=Symbol(""),ec=Symbol("");function zn(e,t,n){if(Xi&&Lt){let i=Bf.get(e);i||Bf.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new ov),r.map=i,r.key=n),r.track()}}function zr(e,t,n,i,r,s){const o=Bf.get(e);if(!o){Zu++;return}const a=l=>{l&&l.trigger()};if(Uy(),t==="clear")o.forEach(a);else{const l=Ye(e),u=l&&Fy(n);if(l&&n==="length"){const c=Number(i);o.forEach((d,v)=>{(v==="length"||v===ec||!fs(v)&&v>=c)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(ec)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Po)),Ka(e)&&a(o.get(Hg)));break;case"delete":l||(a(o.get(Po)),Ka(e)&&a(o.get(Hg)));break;case"set":Ka(e)&&a(o.get(Po));break}}Hy()}function U4(e,t){const n=Bf.get(e);return n&&n.get(t)}function Ra(e){const t=qe(e);return t===e?t:(zn(t,"iterate",ec),Ni(e)?t:t.map(Wn))}function av(e){return zn(e=qe(e),"iterate",ec),e}const H4={__proto__:null,[Symbol.iterator](){return zm(this,Symbol.iterator,Wn)},concat(...e){return Ra(this).concat(...e.map(t=>Ye(t)?Ra(t):t))},entries(){return zm(this,"entries",e=>(e[1]=Wn(e[1]),e))},every(e,t){return $r(this,"every",e,t,void 0,arguments)},filter(e,t){return $r(this,"filter",e,t,n=>n.map(Wn),arguments)},find(e,t){return $r(this,"find",e,t,Wn,arguments)},findIndex(e,t){return $r(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $r(this,"findLast",e,t,Wn,arguments)},findLastIndex(e,t){return $r(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $r(this,"forEach",e,t,void 0,arguments)},includes(...e){return Wm(this,"includes",e)},indexOf(...e){return Wm(this,"indexOf",e)},join(e){return Ra(this).join(e)},lastIndexOf(...e){return Wm(this,"lastIndexOf",e)},map(e,t){return $r(this,"map",e,t,void 0,arguments)},pop(){return hu(this,"pop")},push(...e){return hu(this,"push",e)},reduce(e,...t){return rw(this,"reduce",e,t)},reduceRight(e,...t){return rw(this,"reduceRight",e,t)},shift(){return hu(this,"shift")},some(e,t){return $r(this,"some",e,t,void 0,arguments)},splice(...e){return hu(this,"splice",e)},toReversed(){return Ra(this).toReversed()},toSorted(e){return Ra(this).toSorted(e)},toSpliced(...e){return Ra(this).toSpliced(...e)},unshift(...e){return hu(this,"unshift",e)},values(){return zm(this,"values",Wn)}};function zm(e,t,n){const i=av(e),r=i[t]();return i!==e&&!Ni(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const j4=Array.prototype;function $r(e,t,n,i,r,s){const o=av(e),a=o!==e&&!Ni(e),l=o[t];if(l!==j4[t]){const d=l.apply(e,s);return a?Wn(d):d}let u=n;o!==e&&(a?u=function(d,v){return n.call(this,Wn(d),v,e)}:n.length>2&&(u=function(d,v){return n.call(this,d,v,e)}));const c=l.call(o,u,i);return a&&r?r(c):c}function rw(e,t,n,i){const r=av(e);let s=n;return r!==e&&(Ni(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,Wn(a),l,e)}),r[t](s,...i)}function Wm(e,t,n){const i=qe(e);zn(i,"iterate",ec);const r=i[t](...n);return(r===-1||r===!1)&&qy(n[0])?(n[0]=qe(n[0]),i[t](...n)):r}function hu(e,t,n=[]){Zs(),Uy();const i=qe(e)[t].apply(e,n);return Hy(),eo(),i}const z4=Ly("__proto__,__v_isRef,__isVue"),eI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fs));function W4(e){fs(e)||(e=String(e));const t=qe(this);return zn(t,"has",e),t.hasOwnProperty(e)}class tI{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?t5:sI:s?rI:iI).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Ye(t);if(!r){let l;if(o&&(l=H4[n]))return l;if(n==="hasOwnProperty")return W4}const a=Reflect.get(t,n,Vt(t)?t:i);return(fs(n)?eI.has(n):z4(n))||(r||zn(t,"get",n),s)?a:Vt(a)?o&&Fy(n)?a:a.value:Mt(a)?r?to(a):xn(a):a}}class nI extends tI{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=$o(s);if(!Ni(i)&&!$o(i)&&(s=qe(s),i=qe(i)),!Ye(t)&&Vt(s)&&!Vt(i))return l?!1:(s.value=i,!0)}const o=Ye(t)&&Fy(n)?Number(n)<t.length:St(t,n),a=Reflect.set(t,n,i,Vt(t)?t:r);return t===qe(r)&&(o?Bs(i,s)&&zr(t,"set",n,i):zr(t,"add",n,i)),a}deleteProperty(t,n){const i=St(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&zr(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!fs(n)||!eI.has(n))&&zn(t,"has",n),i}ownKeys(t){return zn(t,"iterate",Ye(t)?"length":Po),Reflect.ownKeys(t)}}class q4 extends tI{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const G4=new nI,K4=new q4,Y4=new nI(!0);const jg=e=>e,Fd=e=>Reflect.getPrototypeOf(e);function Q4(e,t,n){return function(...i){const r=this.__v_raw,s=qe(r),o=Ka(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...i),c=n?jg:t?zg:Wn;return!t&&zn(s,"iterate",l?Hg:Po),{next(){const{value:d,done:v}=u.next();return v?{value:d,done:v}:{value:a?[c(d[0]),c(d[1])]:c(d),done:v}},[Symbol.iterator](){return this}}}}function Bd(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function X4(e,t){const n={get(r){const s=this.__v_raw,o=qe(s),a=qe(r);e||(Bs(r,a)&&zn(o,"get",r),zn(o,"get",a));const{has:l}=Fd(o),u=t?jg:e?zg:Wn;if(l.call(o,r))return u(s.get(r));if(l.call(o,a))return u(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!e&&zn(qe(r),"iterate",Po),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=qe(s),a=qe(r);return e||(Bs(r,a)&&zn(o,"has",r),zn(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=qe(a),u=t?jg:e?zg:Wn;return!e&&zn(l,"iterate",Po),a.forEach((c,d)=>r.call(s,u(c),u(d),o))}};return tn(n,e?{add:Bd("add"),set:Bd("set"),delete:Bd("delete"),clear:Bd("clear")}:{add(r){!t&&!Ni(r)&&!$o(r)&&(r=qe(r));const s=qe(this);return Fd(s).has.call(s,r)||(s.add(r),zr(s,"add",r,r)),this},set(r,s){!t&&!Ni(s)&&!$o(s)&&(s=qe(s));const o=qe(this),{has:a,get:l}=Fd(o);let u=a.call(o,r);u||(r=qe(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,s),u?Bs(s,c)&&zr(o,"set",r,s):zr(o,"add",r,s),this},delete(r){const s=qe(this),{has:o,get:a}=Fd(s);let l=o.call(s,r);l||(r=qe(r),l=o.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&zr(s,"delete",r,void 0),u},clear(){const r=qe(this),s=r.size!==0,o=r.clear();return s&&zr(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Q4(r,e,t)}),n}function zy(e,t){const n=X4(e,t);return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(St(n,r)&&r in i?n:i,r,s)}const J4={get:zy(!1,!1)},Z4={get:zy(!1,!0)},e5={get:zy(!0,!1)};const iI=new WeakMap,rI=new WeakMap,sI=new WeakMap,t5=new WeakMap;function n5(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function i5(e){return e.__v_skip||!Object.isExtensible(e)?0:n5(A4(e))}function xn(e){return $o(e)?e:Wy(e,!1,G4,J4,iI)}function r5(e){return Wy(e,!1,Y4,Z4,rI)}function to(e){return Wy(e,!0,K4,e5,sI)}function Wy(e,t,n,i,r){if(!Mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=i5(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return r.set(e,a),a}function Ya(e){return $o(e)?Ya(e.__v_raw):!!(e&&e.__v_isReactive)}function $o(e){return!!(e&&e.__v_isReadonly)}function Ni(e){return!!(e&&e.__v_isShallow)}function qy(e){return e?!!e.__v_raw:!1}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function oI(e){return!St(e,"__v_skip")&&Object.isExtensible(e)&&UE(e,"__v_skip",!0),e}const Wn=e=>Mt(e)?xn(e):e,zg=e=>Mt(e)?to(e):e;function Vt(e){return e?e.__v_isRef===!0:!1}function z(e){return aI(e,!1)}function Se(e){return aI(e,!0)}function aI(e,t){return Vt(e)?e:new s5(e,t)}class s5{constructor(t,n){this.dep=new ov,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:qe(t),this._value=n?t:Wn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Ni(t)||$o(t);t=i?t:qe(t),Bs(t,n)&&(this._rawValue=t,this._value=i?t:Wn(t),this.dep.trigger())}}function se(e){return Vt(e)?e.value:e}function Hr(e){return Xe(e)?e():se(e)}const o5={get:(e,t,n)=>t==="__v_raw"?e:se(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Vt(r)&&!Vt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function lI(e){return Ya(e)?e:new Proxy(e,o5)}class a5{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new ov,{get:i,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function l5(e){return new a5(e)}function aa(e){const t=Ye(e)?new Array(e.length):{};for(const n in e)t[n]=uI(e,n);return t}class u5{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return U4(qe(this._object),this._key)}}class c5{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ee(e,t,n){return Vt(e)?e:Xe(e)?new c5(e):Mt(e)&&arguments.length>1?uI(e,t,n):z(e)}function uI(e,t,n){const i=e[t];return Vt(i)?i:new u5(e,t,n)}class d5{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ov(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Lt!==this)return KE(this,!0),!0}get value(){const t=this.dep.track();return XE(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function f5(e,t,n=!1){let i,r;return Xe(e)?i=e:(i=e.get,r=e.set),new d5(i,r,n)}const $d={},$f=new WeakMap;let yo;function h5(e,t=!1,n=yo){if(n){let i=$f.get(n);i||$f.set(n,i=[]),i.push(e)}}function v5(e,t,n=Dt){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=T=>r?T:Ni(T)||r===!1||r===0?Wr(T,1):Wr(T);let c,d,v,m,g=!1,p=!1;if(Vt(e)?(d=()=>e.value,g=Ni(e)):Ya(e)?(d=()=>u(e),g=!0):Ye(e)?(p=!0,g=e.some(T=>Ya(T)||Ni(T)),d=()=>e.map(T=>{if(Vt(T))return T.value;if(Ya(T))return u(T);if(Xe(T))return l?l(T,2):T()})):Xe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(v){Zs();try{v()}finally{eo()}}const T=yo;yo=c;try{return l?l(e,3,[m]):e(m)}finally{yo=T}}:d=gr,t&&r){const T=d,D=r===!0?1/0:r;d=()=>Wr(T(),D)}const y=$y(),_=()=>{c.stop(),y&&Ny(y.effects,c)};if(s&&t){const T=t;t=(...D)=>{T(...D),_()}}let k=p?new Array(e.length).fill($d):$d;const A=T=>{if(!(!(c.flags&1)||!c.dirty&&!T))if(t){const D=c.run();if(r||g||(p?D.some((R,x)=>Bs(R,k[x])):Bs(D,k))){v&&v();const R=yo;yo=c;try{const x=[D,k===$d?void 0:p&&k[0]===$d?[]:k,m];l?l(t,3,x):t(...x),k=D}finally{yo=R}}}else c.run()};return a&&a(A),c=new qE(d),c.scheduler=o?()=>o(A,!1):A,m=T=>h5(T,!1,c),v=c.onStop=()=>{const T=$f.get(c);if(T){if(l)l(T,4);else for(const D of T)D();$f.delete(c)}},t?i?A(!0):k=c.run():o?o(A.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function Wr(e,t=1/0,n){if(t<=0||!Mt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Vt(e))Wr(e.value,t,n);else if(Ye(e))for(let i=0;i<e.length;i++)Wr(e[i],t,n);else if(NE(e)||Ka(e))e.forEach(i=>{Wr(i,t,n)});else if($E(e)){for(const i in e)Wr(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Wr(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bc(e,t,n,i){try{return i?e(...i):e()}catch(r){lv(r,t,n)}}function nr(e,t,n,i){if(Xe(e)){const r=Bc(e,t,n,i);return r&&FE(r)&&r.catch(s=>{lv(s,t,n)}),r}if(Ye(e)){const r=[];for(let s=0;s<e.length;s++)r.push(nr(e[s],t,n,i));return r}}function lv(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Dt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){Zs(),Bc(s,null,10,[e,l,u]),eo();return}}m5(e,n,r,i,o)}function m5(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const oi=[];let ur=-1;const Qa=[];let Ts=null,Fa=0;const cI=Promise.resolve();let Uf=null;function ct(e){const t=Uf||cI;return e?t.then(this?e.bind(this):e):t}function g5(e){let t=ur+1,n=oi.length;for(;t<n;){const i=t+n>>>1,r=oi[i],s=tc(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function Gy(e){if(!(e.flags&1)){const t=tc(e),n=oi[oi.length-1];!n||!(e.flags&2)&&t>=tc(n)?oi.push(e):oi.splice(g5(t),0,e),e.flags|=1,dI()}}function dI(){Uf||(Uf=cI.then(hI))}function p5(e){Ye(e)?Qa.push(...e):Ts&&e.id===-1?Ts.splice(Fa+1,0,e):e.flags&1||(Qa.push(e),e.flags|=1),dI()}function sw(e,t,n=ur+1){for(;n<oi.length;n++){const i=oi[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;oi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function fI(e){if(Qa.length){const t=[...new Set(Qa)].sort((n,i)=>tc(n)-tc(i));if(Qa.length=0,Ts){Ts.push(...t);return}for(Ts=t,Fa=0;Fa<Ts.length;Fa++){const n=Ts[Fa];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ts=null,Fa=0}}const tc=e=>e.id==null?e.flags&2?-1:1/0:e.id;function hI(e){try{for(ur=0;ur<oi.length;ur++){const t=oi[ur];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Bc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ur<oi.length;ur++){const t=oi[ur];t&&(t.flags&=-2)}ur=-1,oi.length=0,fI(),Uf=null,(oi.length||Qa.length)&&hI()}}let _n=null,vI=null;function Hf(e){const t=_n;return _n=e,vI=e&&e.type.__scopeId||null,t}function W(e,t=_n,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&pw(-1);const s=Hf(t);let o;try{o=e(...r)}finally{Hf(s),i._d&&pw(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function xt(e,t){if(_n===null)return e;const n=vv(_n),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,o,a,l=Dt]=t[r];s&&(Xe(s)&&(s={mounted:s,updated:s}),s.deep&&Wr(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function ho(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Zs(),nr(l,n,8,[e.el,a,e,t]),eo())}}const mI=Symbol("_vte"),gI=e=>e.__isTeleport,Mu=e=>e&&(e.disabled||e.disabled===""),y5=e=>e&&(e.defer||e.defer===""),ow=e=>typeof SVGElement<"u"&&e instanceof SVGElement,aw=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Wg=(e,t)=>{const n=e&&e.to;return Gt(n)?t?t(n):null:n},_5={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,o,a,l,u){const{mc:c,pc:d,pbc:v,o:{insert:m,querySelector:g,createText:p,createComment:y}}=u,_=Mu(t.props);let{shapeFlag:k,children:A,dynamicChildren:T}=t;if(e==null){const D=t.el=p(""),R=t.anchor=p("");m(D,n,i),m(R,n,i);const x=(b,C)=>{k&16&&(r&&r.isCE&&(r.ce._teleportTarget=b),c(A,b,C,r,s,o,a,l))},w=()=>{const b=t.target=Wg(t.props,g),C=pI(b,t,p,m);b&&(o!=="svg"&&ow(b)?o="svg":o!=="mathml"&&aw(b)&&(o="mathml"),_||(x(b,C),yf(t,!1)))};_&&(x(n,R),yf(t,!0)),y5(t.props)?li(w,s):w()}else{t.el=e.el,t.targetStart=e.targetStart;const D=t.anchor=e.anchor,R=t.target=e.target,x=t.targetAnchor=e.targetAnchor,w=Mu(e.props),b=w?n:R,C=w?D:x;if(o==="svg"||ow(R)?o="svg":(o==="mathml"||aw(R))&&(o="mathml"),T?(v(e.dynamicChildren,T,b,r,s,o,a),n_(e,t,!0)):l||d(e,t,b,C,r,s,o,a,!1),_)w?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ud(t,n,D,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const E=t.target=Wg(t.props,g);E&&Ud(t,E,null,u,0)}else w&&Ud(t,R,x,u,1);yf(t,_)}},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:v}=e;if(d&&(r(u),r(c)),s&&r(l),o&16){const m=s||!Mu(v);for(let g=0;g<a.length;g++){const p=a[g];i(p,t,n,m,!!p.dynamicChildren)}}},move:Ud,hydrate:b5};function Ud(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&i(o,t,n),(!d||Mu(c))&&l&16)for(let v=0;v<u.length;v++)r(u[v],t,n,2);d&&i(a,t,n)}function b5(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const v=t.target=Wg(t.props,l);if(v){const m=Mu(t.props),g=v._lpa||v.firstChild;if(t.shapeFlag&16)if(m)t.anchor=d(o(e),t,a(e),n,i,r,s),t.targetStart=g,t.targetAnchor=g&&o(g);else{t.anchor=o(e);let p=g;for(;p;){if(p&&p.nodeType===8){if(p.data==="teleport start anchor")t.targetStart=p;else if(p.data==="teleport anchor"){t.targetAnchor=p,v._lpa=t.targetAnchor&&o(t.targetAnchor);break}}p=o(p)}t.targetAnchor||pI(v,t,c,u),d(g&&o(g),t,v,n,i,r,s)}yf(t,m)}return t.anchor&&o(t.anchor)}const w5=_5;function yf(e,t){const n=e.ctx;if(n&&n.ut){let i,r;for(t?(i=e.el,r=e.anchor):(i=e.targetStart,r=e.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function pI(e,t,n,i){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[mI]=s,e&&(i(r,e),i(s,e)),s}const xs=Symbol("_leaveCb"),Hd=Symbol("_enterCb");function yI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qt(()=>{e.isMounted=!0}),kn(()=>{e.isUnmounting=!0}),e}const Di=[Function,Array],_I={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Di,onEnter:Di,onAfterEnter:Di,onEnterCancelled:Di,onBeforeLeave:Di,onLeave:Di,onAfterLeave:Di,onLeaveCancelled:Di,onBeforeAppear:Di,onAppear:Di,onAfterAppear:Di,onAppearCancelled:Di},bI=e=>{const t=e.subTree;return t.component?bI(t.component):t},k5={name:"BaseTransition",props:_I,setup(e,{slots:t}){const n=Rl(),i=yI();return()=>{const r=t.default&&Ky(t.default(),!0);if(!r||!r.length)return;const s=wI(r),o=qe(e),{mode:a}=o;if(i.isLeaving)return qm(s);const l=lw(s);if(!l)return qm(s);let u=nc(l,o,i,n,v=>u=v);l.type!==Yn&&Uo(l,u);const c=n.subTree,d=c&&lw(c);if(d&&d.type!==Yn&&!ko(l,d)&&bI(n).type!==Yn){const v=nc(d,o,i,n);if(Uo(d,v),a==="out-in"&&l.type!==Yn)return i.isLeaving=!0,v.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete v.afterLeave},qm(s);a==="in-out"&&l.type!==Yn&&(v.delayLeave=(m,g,p)=>{const y=kI(i,d);y[String(d.key)]=d,m[xs]=()=>{g(),m[xs]=void 0,delete u.delayedLeave},u.delayedLeave=p})}return s}}};function wI(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Yn){t=n;break}}return t}const S5=k5;function kI(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function nc(e,t,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:v,onLeave:m,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:y,onAppear:_,onAfterAppear:k,onAppearCancelled:A}=t,T=String(e.key),D=kI(n,e),R=(b,C)=>{b&&nr(b,i,9,C)},x=(b,C)=>{const E=C[1];R(b,C),Ye(b)?b.every(I=>I.length<=1)&&E():b.length<=1&&E()},w={mode:o,persisted:a,beforeEnter(b){let C=l;if(!n.isMounted)if(s)C=y||l;else return;b[xs]&&b[xs](!0);const E=D[T];E&&ko(e,E)&&E.el[xs]&&E.el[xs](),R(C,[b])},enter(b){let C=u,E=c,I=d;if(!n.isMounted)if(s)C=_||u,E=k||c,I=A||d;else return;let P=!1;const F=b[Hd]=$=>{P||(P=!0,$?R(I,[b]):R(E,[b]),w.delayedLeave&&w.delayedLeave(),b[Hd]=void 0)};C?x(C,[b,F]):F()},leave(b,C){const E=String(e.key);if(b[Hd]&&b[Hd](!0),n.isUnmounting)return C();R(v,[b]);let I=!1;const P=b[xs]=F=>{I||(I=!0,C(),F?R(p,[b]):R(g,[b]),b[xs]=void 0,D[E]===e&&delete D[E])};D[E]=e,m?x(m,[b,P]):P()},clone(b){const C=nc(b,t,n,i,r);return r&&r(C),C}};return w}function qm(e){if(uv(e))return e=Zr(e),e.children=null,e}function lw(e){if(!uv(e))return gI(e.type)&&e.children?wI(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Xe(n.default))return n.default()}}function Uo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Uo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ky(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===le?(o.patchFlag&128&&r++,i=i.concat(Ky(o.children,t,a))):(t||o.type!==Yn)&&i.push(a!=null?Zr(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function He(e,t){return Xe(e)?tn({name:e.name},t,{setup:e}):e}function SI(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function qg(e,t,n,i,r=!1){if(Ye(e)){e.forEach((g,p)=>qg(g,t&&(Ye(t)?t[p]:t),n,i,r));return}if(Xa(i)&&!r)return;const s=i.shapeFlag&4?vv(i.component):i.el,o=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Dt?a.refs={}:a.refs,d=a.setupState,v=qe(d),m=d===Dt?()=>!1:g=>St(v,g);if(u!=null&&u!==l&&(Gt(u)?(c[u]=null,m(u)&&(d[u]=null)):Vt(u)&&(u.value=null)),Xe(l))Bc(l,a,12,[o,c]);else{const g=Gt(l),p=Vt(l);if(g||p){const y=()=>{if(e.f){const _=g?m(l)?d[l]:c[l]:l.value;r?Ye(_)&&Ny(_,s):Ye(_)?_.includes(s)||_.push(s):g?(c[l]=[s],m(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else g?(c[l]=o,m(l)&&(d[l]=o)):p&&(l.value=o,e.k&&(c[e.k]=o))};o?(y.id=-1,li(y,n)):y()}}}sv().requestIdleCallback;sv().cancelIdleCallback;const Xa=e=>!!e.type.__asyncLoader,uv=e=>e.type.__isKeepAlive;function CI(e,t){EI(e,"a",t)}function Yy(e,t){EI(e,"da",t)}function EI(e,t,n=An){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(cv(t,i,n),n){let r=n.parent;for(;r&&r.parent;)uv(r.parent.vnode)&&C5(i,t,n,r),r=r.parent}}function C5(e,t,n,i){const r=cv(t,e,i,!0);Xy(()=>{Ny(i[t],r)},n)}function cv(e,t,n=An,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Zs();const a=Uc(n),l=nr(t,n,e,o);return a(),eo(),l});return i?r.unshift(s):r.push(s),s}}const hs=e=>(t,n=An)=>{(!rc||e==="sp")&&cv(e,(...i)=>t(...i),n)},dv=hs("bm"),Qt=hs("m"),II=hs("bu"),Qy=hs("u"),kn=hs("bum"),Xy=hs("um"),TI=hs("sp"),E5=hs("rtg"),I5=hs("rtc");function T5(e,t=An){cv("ec",e,t)}const Jy="components",x5="directives";function Y(e,t){return Zy(Jy,e,!0,t)||e}const xI=Symbol.for("v-ndc");function Ji(e){return Gt(e)?Zy(Jy,e,!1)||e:e||xI}function mi(e){return Zy(x5,e)}function Zy(e,t,n=!0,i=!1){const r=_n||An;if(r){const s=r.type;if(e===Jy){const a=hO(s,!1);if(a&&(a===t||a===vi(t)||a===Ar(vi(t))))return s}const o=uw(r[e]||s[e],t)||uw(r.appContext[e],t);return!o&&i?s:o}}function uw(e,t){return e&&(e[t]||e[vi(t)]||e[Ar(vi(t))])}function At(e,t,n,i){let r;const s=n,o=Ye(e);if(o||Gt(e)){const a=o&&Ya(e);let l=!1;a&&(l=!Ni(e),e=av(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?Wn(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s)}else if(Mt(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s)}}else r=[];return r}function Vo(e,t,n={},i,r){if(_n.ce||_n.parent&&Xa(_n.parent)&&_n.parent.ce)return t!=="default"&&(n.name=t),G(),pe(le,null,[f("slot",n,i&&i())],64);let s=e[t];s&&s._c&&(s._d=!1),G();const o=s&&AI(s(n)),a=n.key||o&&o.key,l=pe(le,{key:(a&&!fs(a)?a:`_${t}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function AI(e){return e.some(t=>ll(t)?!(t.type===Yn||t.type===le&&!AI(t.children)):!0)?e:null}const Gg=e=>e?GI(e)?vv(e):Gg(e.parent):null,Nu=tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gg(e.parent),$root:e=>Gg(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>e_(e),$forceUpdate:e=>e.f||(e.f=()=>{Gy(e.update)}),$nextTick:e=>e.n||(e.n=ct.bind(e.proxy)),$watch:e=>Y5.bind(e)}),Gm=(e,t)=>e!==Dt&&!e.__isScriptSetup&&St(e,t),A5={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Gm(i,t))return o[t]=1,i[t];if(r!==Dt&&St(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&St(u,t))return o[t]=3,s[t];if(n!==Dt&&St(n,t))return o[t]=4,n[t];Kg&&(o[t]=0)}}const c=Nu[t];let d,v;if(c)return t==="$attrs"&&zn(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Dt&&St(n,t))return o[t]=4,n[t];if(v=l.config.globalProperties,St(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Gm(r,t)?(r[t]=n,!0):i!==Dt&&St(i,t)?(i[t]=n,!0):St(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||e!==Dt&&St(e,o)||Gm(t,o)||(a=s[0])&&St(a,o)||St(i,o)||St(Nu,o)||St(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:St(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cw(e){return Ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Kg=!0;function P5(e){const t=e_(e),n=e.proxy,i=e.ctx;Kg=!1,t.beforeCreate&&dw(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:v,beforeUpdate:m,updated:g,activated:p,deactivated:y,beforeDestroy:_,beforeUnmount:k,destroyed:A,unmounted:T,render:D,renderTracked:R,renderTriggered:x,errorCaptured:w,serverPrefetch:b,expose:C,inheritAttrs:E,components:I,directives:P,filters:F}=t;if(u&&V5(u,i,null),o)for(const K in o){const U=o[K];Xe(U)&&(i[K]=U.bind(n))}if(r){const K=r.call(n,n);Mt(K)&&(e.data=xn(K))}if(Kg=!0,s)for(const K in s){const U=s[K],B=Xe(U)?U.bind(n,n):Xe(U.get)?U.get.bind(n,n):gr,H=!Xe(U)&&Xe(U.set)?U.set.bind(n):gr,q=V({get:B,set:H});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>q.value,set:J=>q.value=J})}if(a)for(const K in a)PI(a[K],i,n,K);if(l){const K=Xe(l)?l.call(n):l;Reflect.ownKeys(K).forEach(U=>{Ot(U,K[U])})}c&&dw(c,e,"c");function j(K,U){Ye(U)?U.forEach(B=>K(B.bind(n))):U&&K(U.bind(n))}if(j(dv,d),j(Qt,v),j(II,m),j(Qy,g),j(CI,p),j(Yy,y),j(T5,w),j(I5,R),j(E5,x),j(kn,k),j(Xy,T),j(TI,b),Ye(C))if(C.length){const K=e.exposed||(e.exposed={});C.forEach(U=>{Object.defineProperty(K,U,{get:()=>n[U],set:B=>n[U]=B})})}else e.exposed||(e.exposed={});D&&e.render===gr&&(e.render=D),E!=null&&(e.inheritAttrs=E),I&&(e.components=I),P&&(e.directives=P),b&&SI(e)}function V5(e,t,n=gr){Ye(e)&&(e=Yg(e));for(const i in e){const r=e[i];let s;Mt(r)?"default"in r?s=Ze(r.from||i,r.default,!0):s=Ze(r.from||i):s=Ze(r),Vt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function dw(e,t,n){nr(Ye(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function PI(e,t,n,i){let r=i.includes(".")?HI(n,i):()=>n[i];if(Gt(e)){const s=t[e];Xe(s)&&ye(r,s)}else if(Xe(e))ye(r,e.bind(n));else if(Mt(e))if(Ye(e))e.forEach(s=>PI(s,t,n,i));else{const s=Xe(e.handler)?e.handler.bind(n):t[e.handler];Xe(s)&&ye(r,s,e)}}function e_(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>jf(l,u,o,!0)),jf(l,t,o)),Mt(t)&&s.set(t,l),l}function jf(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&jf(e,s,n,!0),r&&r.forEach(o=>jf(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=R5[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const R5={data:fw,props:hw,emits:hw,methods:Eu,computed:Eu,beforeCreate:ri,created:ri,beforeMount:ri,mounted:ri,beforeUpdate:ri,updated:ri,beforeDestroy:ri,beforeUnmount:ri,destroyed:ri,unmounted:ri,activated:ri,deactivated:ri,errorCaptured:ri,serverPrefetch:ri,components:Eu,directives:Eu,watch:O5,provide:fw,inject:D5};function fw(e,t){return t?e?function(){return tn(Xe(e)?e.call(this,this):e,Xe(t)?t.call(this,this):t)}:t:e}function D5(e,t){return Eu(Yg(e),Yg(t))}function Yg(e){if(Ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ri(e,t){return e?[...new Set([].concat(e,t))]:t}function Eu(e,t){return e?tn(Object.create(null),e,t):t}function hw(e,t){return e?Ye(e)&&Ye(t)?[...new Set([...e,...t])]:tn(Object.create(null),cw(e),cw(t??{})):t}function O5(e,t){if(!e)return t;if(!t)return e;const n=tn(Object.create(null),e);for(const i in t)n[i]=ri(e[i],t[i]);return n}function VI(){return{app:null,config:{isNativeTag:T4,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L5=0;function M5(e,t){return function(i,r=null){Xe(i)||(i=tn({},i)),r!=null&&!Mt(r)&&(r=null);const s=VI(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:L5++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:mO,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Xe(c.install)?(o.add(c),c.install(u,...d)):Xe(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,v){if(!l){const m=u._ceVNode||f(i,r);return m.appContext=s,v===!0?v="svg":v===!1&&(v=void 0),d&&t?t(m,c):e(m,c,v),l=!0,u._container=c,c.__vue_app__=u,vv(m.component)}},onUnmount(c){a.push(c)},unmount(){l&&(nr(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=Ja;Ja=u;try{return c()}finally{Ja=d}}};return u}}let Ja=null;function Ot(e,t){if(An){let n=An.provides;const i=An.parent&&An.parent.provides;i===n&&(n=An.provides=Object.create(i)),n[e]=t}}function Ze(e,t,n=!1){const i=An||_n;if(i||Ja){const r=Ja?Ja._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Xe(t)?t.call(i&&i.proxy):t}}const RI={},DI=()=>Object.create(RI),OI=e=>Object.getPrototypeOf(e)===RI;function N5(e,t,n,i=!1){const r={},s=DI();e.propsDefaults=Object.create(null),LI(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:r5(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function F5(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,a=qe(r),[l]=e.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let v=c[d];if(fv(e.emitsOptions,v))continue;const m=t[v];if(l)if(St(s,v))m!==s[v]&&(s[v]=m,u=!0);else{const g=vi(v);r[g]=Qg(l,a,g,m,e,!1)}else m!==s[v]&&(s[v]=m,u=!0)}}}else{LI(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!St(t,d)&&((c=Js(d))===d||!St(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Qg(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!St(t,d))&&(delete s[d],u=!0)}u&&zr(e.attrs,"set","")}function LI(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Du(l))continue;const u=t[l];let c;r&&St(r,c=vi(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:fv(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=qe(n),u=a||Dt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Qg(r,l,d,u[d],e,!St(u,d))}}return o}function Qg(e,t,n,i,r,s){const o=e[n];if(o!=null){const a=St(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Xe(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=Uc(r);i=u[n]=l.call(null,t),c()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Js(n))&&(i=!0))}return i}const B5=new WeakMap;function MI(e,t,n=!1){const i=n?B5:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},a=[];let l=!1;if(!Xe(e)){const c=d=>{l=!0;const[v,m]=MI(d,t,!0);tn(o,v),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Mt(e)&&i.set(e,Ga),Ga;if(Ye(s))for(let c=0;c<s.length;c++){const d=vi(s[c]);vw(d)&&(o[d]=Dt)}else if(s)for(const c in s){const d=vi(c);if(vw(d)){const v=s[c],m=o[d]=Ye(v)||Xe(v)?{type:v}:tn({},v),g=m.type;let p=!1,y=!0;if(Ye(g))for(let _=0;_<g.length;++_){const k=g[_],A=Xe(k)&&k.name;if(A==="Boolean"){p=!0;break}else A==="String"&&(y=!1)}else p=Xe(g)&&g.name==="Boolean";m[0]=p,m[1]=y,(p||St(m,"default"))&&a.push(d)}}const u=[o,a];return Mt(e)&&i.set(e,u),u}function vw(e){return e[0]!=="$"&&!Du(e)}const NI=e=>e[0]==="_"||e==="$stable",t_=e=>Ye(e)?e.map(cr):[cr(e)],$5=(e,t,n)=>{if(t._n)return t;const i=W((...r)=>t_(t(...r)),n);return i._c=!1,i},FI=(e,t,n)=>{const i=e._ctx;for(const r in e){if(NI(r))continue;const s=e[r];if(Xe(s))t[r]=$5(r,s,i);else if(s!=null){const o=t_(s);t[r]=()=>o}}},BI=(e,t)=>{const n=t_(t);e.slots.default=()=>n},$I=(e,t,n)=>{for(const i in t)(n||i!=="_")&&(e[i]=t[i])},U5=(e,t,n)=>{const i=e.slots=DI();if(e.vnode.shapeFlag&32){const r=t._;r?($I(i,t,n),n&&UE(i,"_",r,!0)):FI(t,i)}else t&&BI(e,t)},H5=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=Dt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:$I(r,t,n):(s=!t.$stable,FI(t,r)),o=t}else t&&(BI(e,t),o={default:1});if(s)for(const a in r)!NI(a)&&o[a]==null&&delete r[a]},li=nO;function j5(e){return z5(e)}function z5(e,t){const n=sv();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:v,setScopeId:m=gr,insertStaticContent:g}=e,p=(L,N,X,ne=null,te=null,ce=null,Ee=void 0,de=null,we=!!N.dynamicChildren)=>{if(L===N)return;L&&!ko(L,N)&&(ne=be(L),J(L,te,ce,!0),L=null),N.patchFlag===-2&&(we=!1,N.dynamicChildren=null);const{type:ve,ref:Ue,shapeFlag:Ae}=N;switch(ve){case $c:y(L,N,X,ne);break;case Yn:_(L,N,X,ne);break;case _f:L==null&&k(N,X,ne,Ee);break;case le:I(L,N,X,ne,te,ce,Ee,de,we);break;default:Ae&1?D(L,N,X,ne,te,ce,Ee,de,we):Ae&6?P(L,N,X,ne,te,ce,Ee,de,we):(Ae&64||Ae&128)&&ve.process(L,N,X,ne,te,ce,Ee,de,we,Re)}Ue!=null&&te&&qg(Ue,L&&L.ref,ce,N||L,!N)},y=(L,N,X,ne)=>{if(L==null)i(N.el=a(N.children),X,ne);else{const te=N.el=L.el;N.children!==L.children&&u(te,N.children)}},_=(L,N,X,ne)=>{L==null?i(N.el=l(N.children||""),X,ne):N.el=L.el},k=(L,N,X,ne)=>{[L.el,L.anchor]=g(L.children,N,X,ne,L.el,L.anchor)},A=({el:L,anchor:N},X,ne)=>{let te;for(;L&&L!==N;)te=v(L),i(L,X,ne),L=te;i(N,X,ne)},T=({el:L,anchor:N})=>{let X;for(;L&&L!==N;)X=v(L),r(L),L=X;r(N)},D=(L,N,X,ne,te,ce,Ee,de,we)=>{N.type==="svg"?Ee="svg":N.type==="math"&&(Ee="mathml"),L==null?R(N,X,ne,te,ce,Ee,de,we):b(L,N,te,ce,Ee,de,we)},R=(L,N,X,ne,te,ce,Ee,de)=>{let we,ve;const{props:Ue,shapeFlag:Ae,transition:$e,dirs:Me}=L;if(we=L.el=o(L.type,ce,Ue&&Ue.is,Ue),Ae&8?c(we,L.children):Ae&16&&w(L.children,we,null,ne,te,Km(L,ce),Ee,de),Me&&ho(L,null,ne,"created"),x(we,L,L.scopeId,Ee,ne),Ue){for(const ft in Ue)ft!=="value"&&!Du(ft)&&s(we,ft,null,Ue[ft],ce,ne);"value"in Ue&&s(we,"value",null,Ue.value,ce),(ve=Ue.onVnodeBeforeMount)&&lr(ve,ne,L)}Me&&ho(L,null,ne,"beforeMount");const Ke=W5(te,$e);Ke&&$e.beforeEnter(we),i(we,N,X),((ve=Ue&&Ue.onVnodeMounted)||Ke||Me)&&li(()=>{ve&&lr(ve,ne,L),Ke&&$e.enter(we),Me&&ho(L,null,ne,"mounted")},te)},x=(L,N,X,ne,te)=>{if(X&&m(L,X),ne)for(let ce=0;ce<ne.length;ce++)m(L,ne[ce]);if(te){let ce=te.subTree;if(N===ce||zI(ce.type)&&(ce.ssContent===N||ce.ssFallback===N)){const Ee=te.vnode;x(L,Ee,Ee.scopeId,Ee.slotScopeIds,te.parent)}}},w=(L,N,X,ne,te,ce,Ee,de,we=0)=>{for(let ve=we;ve<L.length;ve++){const Ue=L[ve]=de?As(L[ve]):cr(L[ve]);p(null,Ue,N,X,ne,te,ce,Ee,de)}},b=(L,N,X,ne,te,ce,Ee)=>{const de=N.el=L.el;let{patchFlag:we,dynamicChildren:ve,dirs:Ue}=N;we|=L.patchFlag&16;const Ae=L.props||Dt,$e=N.props||Dt;let Me;if(X&&vo(X,!1),(Me=$e.onVnodeBeforeUpdate)&&lr(Me,X,N,L),Ue&&ho(N,L,X,"beforeUpdate"),X&&vo(X,!0),(Ae.innerHTML&&$e.innerHTML==null||Ae.textContent&&$e.textContent==null)&&c(de,""),ve?C(L.dynamicChildren,ve,de,X,ne,Km(N,te),ce):Ee||U(L,N,de,null,X,ne,Km(N,te),ce,!1),we>0){if(we&16)E(de,Ae,$e,X,te);else if(we&2&&Ae.class!==$e.class&&s(de,"class",null,$e.class,te),we&4&&s(de,"style",Ae.style,$e.style,te),we&8){const Ke=N.dynamicProps;for(let ft=0;ft<Ke.length;ft++){const bt=Ke[ft],Fn=Ae[bt],vn=$e[bt];(vn!==Fn||bt==="value")&&s(de,bt,Fn,vn,te,X)}}we&1&&L.children!==N.children&&c(de,N.children)}else!Ee&&ve==null&&E(de,Ae,$e,X,te);((Me=$e.onVnodeUpdated)||Ue)&&li(()=>{Me&&lr(Me,X,N,L),Ue&&ho(N,L,X,"updated")},ne)},C=(L,N,X,ne,te,ce,Ee)=>{for(let de=0;de<N.length;de++){const we=L[de],ve=N[de],Ue=we.el&&(we.type===le||!ko(we,ve)||we.shapeFlag&70)?d(we.el):X;p(we,ve,Ue,null,ne,te,ce,Ee,!0)}},E=(L,N,X,ne,te)=>{if(N!==X){if(N!==Dt)for(const ce in N)!Du(ce)&&!(ce in X)&&s(L,ce,N[ce],null,te,ne);for(const ce in X){if(Du(ce))continue;const Ee=X[ce],de=N[ce];Ee!==de&&ce!=="value"&&s(L,ce,de,Ee,te,ne)}"value"in X&&s(L,"value",N.value,X.value,te)}},I=(L,N,X,ne,te,ce,Ee,de,we)=>{const ve=N.el=L?L.el:a(""),Ue=N.anchor=L?L.anchor:a("");let{patchFlag:Ae,dynamicChildren:$e,slotScopeIds:Me}=N;Me&&(de=de?de.concat(Me):Me),L==null?(i(ve,X,ne),i(Ue,X,ne),w(N.children||[],X,Ue,te,ce,Ee,de,we)):Ae>0&&Ae&64&&$e&&L.dynamicChildren?(C(L.dynamicChildren,$e,X,te,ce,Ee,de),(N.key!=null||te&&N===te.subTree)&&n_(L,N,!0)):U(L,N,X,Ue,te,ce,Ee,de,we)},P=(L,N,X,ne,te,ce,Ee,de,we)=>{N.slotScopeIds=de,L==null?N.shapeFlag&512?te.ctx.activate(N,X,ne,Ee,we):F(N,X,ne,te,ce,Ee,we):$(L,N,we)},F=(L,N,X,ne,te,ce,Ee)=>{const de=L.component=lO(L,ne,te);if(uv(L)&&(de.ctx.renderer=Re),uO(de,!1,Ee),de.asyncDep){if(te&&te.registerDep(de,j,Ee),!L.el){const we=de.subTree=f(Yn);_(null,we,N,X)}}else j(de,L,N,X,te,ce,Ee)},$=(L,N,X)=>{const ne=N.component=L.component;if(eO(L,N,X))if(ne.asyncDep&&!ne.asyncResolved){K(ne,N,X);return}else ne.next=N,ne.update();else N.el=L.el,ne.vnode=N},j=(L,N,X,ne,te,ce,Ee)=>{const de=()=>{if(L.isMounted){let{next:Ae,bu:$e,u:Me,parent:Ke,vnode:ft}=L;{const Bn=UI(L);if(Bn){Ae&&(Ae.el=ft.el,K(L,Ae,Ee)),Bn.asyncDep.then(()=>{L.isUnmounted||de()});return}}let bt=Ae,Fn;vo(L,!1),Ae?(Ae.el=ft.el,K(L,Ae,Ee)):Ae=ft,$e&&pf($e),(Fn=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&lr(Fn,Ke,Ae,ft),vo(L,!0);const vn=Ym(L),En=L.subTree;L.subTree=vn,p(En,vn,d(En.el),be(En),L,te,ce),Ae.el=vn.el,bt===null&&tO(L,vn.el),Me&&li(Me,te),(Fn=Ae.props&&Ae.props.onVnodeUpdated)&&li(()=>lr(Fn,Ke,Ae,ft),te)}else{let Ae;const{el:$e,props:Me}=N,{bm:Ke,m:ft,parent:bt,root:Fn,type:vn}=L,En=Xa(N);if(vo(L,!1),Ke&&pf(Ke),!En&&(Ae=Me&&Me.onVnodeBeforeMount)&&lr(Ae,bt,N),vo(L,!0),$e&&Be){const Bn=()=>{L.subTree=Ym(L),Be($e,L.subTree,L,te,null)};En&&vn.__asyncHydrate?vn.__asyncHydrate($e,L,Bn):Bn()}else{Fn.ce&&Fn.ce._injectChildStyle(vn);const Bn=L.subTree=Ym(L);p(null,Bn,X,ne,L,te,ce),N.el=Bn.el}if(ft&&li(ft,te),!En&&(Ae=Me&&Me.onVnodeMounted)){const Bn=N;li(()=>lr(Ae,bt,Bn),te)}(N.shapeFlag&256||bt&&Xa(bt.vnode)&&bt.vnode.shapeFlag&256)&&L.a&&li(L.a,te),L.isMounted=!0,N=X=ne=null}};L.scope.on();const we=L.effect=new qE(de);L.scope.off();const ve=L.update=we.run.bind(we),Ue=L.job=we.runIfDirty.bind(we);Ue.i=L,Ue.id=L.uid,we.scheduler=()=>Gy(Ue),vo(L,!0),ve()},K=(L,N,X)=>{N.component=L;const ne=L.vnode.props;L.vnode=N,L.next=null,F5(L,N.props,ne,X),H5(L,N.children,X),Zs(),sw(L),eo()},U=(L,N,X,ne,te,ce,Ee,de,we=!1)=>{const ve=L&&L.children,Ue=L?L.shapeFlag:0,Ae=N.children,{patchFlag:$e,shapeFlag:Me}=N;if($e>0){if($e&128){H(ve,Ae,X,ne,te,ce,Ee,de,we);return}else if($e&256){B(ve,Ae,X,ne,te,ce,Ee,de,we);return}}Me&8?(Ue&16&&ie(ve,te,ce),Ae!==ve&&c(X,Ae)):Ue&16?Me&16?H(ve,Ae,X,ne,te,ce,Ee,de,we):ie(ve,te,ce,!0):(Ue&8&&c(X,""),Me&16&&w(Ae,X,ne,te,ce,Ee,de,we))},B=(L,N,X,ne,te,ce,Ee,de,we)=>{L=L||Ga,N=N||Ga;const ve=L.length,Ue=N.length,Ae=Math.min(ve,Ue);let $e;for($e=0;$e<Ae;$e++){const Me=N[$e]=we?As(N[$e]):cr(N[$e]);p(L[$e],Me,X,null,te,ce,Ee,de,we)}ve>Ue?ie(L,te,ce,!0,!1,Ae):w(N,X,ne,te,ce,Ee,de,we,Ae)},H=(L,N,X,ne,te,ce,Ee,de,we)=>{let ve=0;const Ue=N.length;let Ae=L.length-1,$e=Ue-1;for(;ve<=Ae&&ve<=$e;){const Me=L[ve],Ke=N[ve]=we?As(N[ve]):cr(N[ve]);if(ko(Me,Ke))p(Me,Ke,X,null,te,ce,Ee,de,we);else break;ve++}for(;ve<=Ae&&ve<=$e;){const Me=L[Ae],Ke=N[$e]=we?As(N[$e]):cr(N[$e]);if(ko(Me,Ke))p(Me,Ke,X,null,te,ce,Ee,de,we);else break;Ae--,$e--}if(ve>Ae){if(ve<=$e){const Me=$e+1,Ke=Me<Ue?N[Me].el:ne;for(;ve<=$e;)p(null,N[ve]=we?As(N[ve]):cr(N[ve]),X,Ke,te,ce,Ee,de,we),ve++}}else if(ve>$e)for(;ve<=Ae;)J(L[ve],te,ce,!0),ve++;else{const Me=ve,Ke=ve,ft=new Map;for(ve=Ke;ve<=$e;ve++){const ni=N[ve]=we?As(N[ve]):cr(N[ve]);ni.key!=null&&ft.set(ni.key,ve)}let bt,Fn=0;const vn=$e-Ke+1;let En=!1,Bn=0;const bs=new Array(vn);for(ve=0;ve<vn;ve++)bs[ve]=0;for(ve=Me;ve<=Ae;ve++){const ni=L[ve];if(Fn>=vn){J(ni,te,ce,!0);continue}let Ri;if(ni.key!=null)Ri=ft.get(ni.key);else for(bt=Ke;bt<=$e;bt++)if(bs[bt-Ke]===0&&ko(ni,N[bt])){Ri=bt;break}Ri===void 0?J(ni,te,ce,!0):(bs[Ri-Ke]=ve+1,Ri>=Bn?Bn=Ri:En=!0,p(ni,N[Ri],X,null,te,ce,Ee,de,we),Fn++)}const Ia=En?q5(bs):Ga;for(bt=Ia.length-1,ve=vn-1;ve>=0;ve--){const ni=Ke+ve,Ri=N[ni],Ta=ni+1<Ue?N[ni+1].el:ne;bs[ve]===0?p(null,Ri,X,Ta,te,ce,Ee,de,we):En&&(bt<0||ve!==Ia[bt]?q(Ri,X,Ta,2):bt--)}}},q=(L,N,X,ne,te=null)=>{const{el:ce,type:Ee,transition:de,children:we,shapeFlag:ve}=L;if(ve&6){q(L.component.subTree,N,X,ne);return}if(ve&128){L.suspense.move(N,X,ne);return}if(ve&64){Ee.move(L,N,X,Re);return}if(Ee===le){i(ce,N,X);for(let Ae=0;Ae<we.length;Ae++)q(we[Ae],N,X,ne);i(L.anchor,N,X);return}if(Ee===_f){A(L,N,X);return}if(ne!==2&&ve&1&&de)if(ne===0)de.beforeEnter(ce),i(ce,N,X),li(()=>de.enter(ce),te);else{const{leave:Ae,delayLeave:$e,afterLeave:Me}=de,Ke=()=>i(ce,N,X),ft=()=>{Ae(ce,()=>{Ke(),Me&&Me()})};$e?$e(ce,Ke,ft):ft()}else i(ce,N,X)},J=(L,N,X,ne=!1,te=!1)=>{const{type:ce,props:Ee,ref:de,children:we,dynamicChildren:ve,shapeFlag:Ue,patchFlag:Ae,dirs:$e,cacheIndex:Me}=L;if(Ae===-2&&(te=!1),de!=null&&qg(de,null,X,L,!0),Me!=null&&(N.renderCache[Me]=void 0),Ue&256){N.ctx.deactivate(L);return}const Ke=Ue&1&&$e,ft=!Xa(L);let bt;if(ft&&(bt=Ee&&Ee.onVnodeBeforeUnmount)&&lr(bt,N,L),Ue&6)Ce(L.component,X,ne);else{if(Ue&128){L.suspense.unmount(X,ne);return}Ke&&ho(L,null,N,"beforeUnmount"),Ue&64?L.type.remove(L,N,X,Re,ne):ve&&!ve.hasOnce&&(ce!==le||Ae>0&&Ae&64)?ie(ve,N,X,!1,!0):(ce===le&&Ae&384||!te&&Ue&16)&&ie(we,N,X),ne&&he(L)}(ft&&(bt=Ee&&Ee.onVnodeUnmounted)||Ke)&&li(()=>{bt&&lr(bt,N,L),Ke&&ho(L,null,N,"unmounted")},X)},he=L=>{const{type:N,el:X,anchor:ne,transition:te}=L;if(N===le){_e(X,ne);return}if(N===_f){T(L);return}const ce=()=>{r(X),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(L.shapeFlag&1&&te&&!te.persisted){const{leave:Ee,delayLeave:de}=te,we=()=>Ee(X,ce);de?de(L.el,ce,we):we()}else ce()},_e=(L,N)=>{let X;for(;L!==N;)X=v(L),r(L),L=X;r(N)},Ce=(L,N,X)=>{const{bum:ne,scope:te,job:ce,subTree:Ee,um:de,m:we,a:ve}=L;mw(we),mw(ve),ne&&pf(ne),te.stop(),ce&&(ce.flags|=8,J(Ee,L,N,X)),de&&li(de,N),li(()=>{L.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},ie=(L,N,X,ne=!1,te=!1,ce=0)=>{for(let Ee=ce;Ee<L.length;Ee++)J(L[Ee],N,X,ne,te)},be=L=>{if(L.shapeFlag&6)return be(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const N=v(L.anchor||L.el),X=N&&N[mI];return X?v(X):N};let xe=!1;const Oe=(L,N,X)=>{L==null?N._vnode&&J(N._vnode,null,null,!0):p(N._vnode||null,L,N,null,null,null,X),N._vnode=L,xe||(xe=!0,sw(),fI(),xe=!1)},Re={p,um:J,m:q,r:he,mt:F,mc:w,pc:U,pbc:C,n:be,o:e};let me,Be;return{render:Oe,hydrate:me,createApp:M5(Oe,me)}}function Km({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function vo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function W5(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function n_(e,t,n=!1){const i=e.children,r=t.children;if(Ye(i)&&Ye(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=As(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&n_(o,a)),a.type===$c&&(a.el=o.el)}}function q5(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function UI(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:UI(t)}function mw(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const G5=Symbol.for("v-scx"),K5=()=>Ze(G5);function Kt(e,t){return i_(e,null,t)}function ye(e,t,n){return i_(e,t,n)}function i_(e,t,n=Dt){const{immediate:i,deep:r,flush:s,once:o}=n,a=tn({},n),l=t&&i||!t&&s!=="post";let u;if(rc){if(s==="sync"){const m=K5();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=gr,m.resume=gr,m.pause=gr,m}}const c=An;a.call=(m,g,p)=>nr(m,c,g,p);let d=!1;s==="post"?a.scheduler=m=>{li(m,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(m,g)=>{g?m():Gy(m)}),a.augmentJob=m=>{t&&(m.flags|=4),d&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const v=v5(e,t,a);return rc&&(u?u.push(v):l&&v()),v}function Y5(e,t,n){const i=this.proxy,r=Gt(e)?e.includes(".")?HI(i,e):()=>i[e]:e.bind(i,i);let s;Xe(t)?s=t:(s=t.handler,n=t);const o=Uc(this),a=i_(r,s.bind(i),n);return o(),a}function HI(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const Q5=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${vi(t)}Modifiers`]||e[`${Js(t)}Modifiers`];function X5(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Dt;let r=n;const s=t.startsWith("update:"),o=s&&Q5(i,t.slice(7));o&&(o.trim&&(r=n.map(c=>Gt(c)?c.trim():c)),o.number&&(r=n.map($g)));let a,l=i[a=Um(t)]||i[a=Um(vi(t))];!l&&s&&(l=i[a=Um(Js(t))]),l&&nr(l,e,6,r);const u=i[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,nr(u,e,6,r)}}function jI(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},a=!1;if(!Xe(e)){const l=u=>{const c=jI(u,t,!0);c&&(a=!0,tn(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Mt(e)&&i.set(e,null),null):(Ye(s)?s.forEach(l=>o[l]=null):tn(o,s),Mt(e)&&i.set(e,o),o)}function fv(e,t){return!e||!nv(t)?!1:(t=t.slice(2).replace(/Once$/,""),St(e,t[0].toLowerCase()+t.slice(1))||St(e,Js(t))||St(e,t))}function Ym(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:v,setupState:m,ctx:g,inheritAttrs:p}=e,y=Hf(e);let _,k;try{if(n.shapeFlag&4){const T=r||i,D=T;_=cr(u.call(D,T,c,d,m,v,g)),k=a}else{const T=t;_=cr(T.length>1?T(d,{attrs:a,slots:o,emit:l}):T(d,null)),k=t.props?a:J5(a)}}catch(T){Fu.length=0,lv(T,e,1),_=f(Yn)}let A=_;if(k&&p!==!1){const T=Object.keys(k),{shapeFlag:D}=A;T.length&&D&7&&(s&&T.some(My)&&(k=Z5(k,s)),A=Zr(A,k,!1,!0))}return n.dirs&&(A=Zr(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&Uo(A,n.transition),_=A,Hf(y),_}const J5=e=>{let t;for(const n in e)(n==="class"||n==="style"||nv(n))&&((t||(t={}))[n]=e[n]);return t},Z5=(e,t)=>{const n={};for(const i in e)(!My(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function eO(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?gw(i,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const v=c[d];if(o[v]!==i[v]&&!fv(u,v))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?gw(i,o,u):!0:!!o;return!1}function gw(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!fv(n,s))return!0}return!1}function tO({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const zI=e=>e.__isSuspense;function nO(e,t){t&&t.pendingBranch?Ye(e)?t.effects.push(...e):t.effects.push(e):p5(e)}const le=Symbol.for("v-fgt"),$c=Symbol.for("v-txt"),Yn=Symbol.for("v-cmt"),_f=Symbol.for("v-stc"),Fu=[];let ki=null;function G(e=!1){Fu.push(ki=e?null:[])}function iO(){Fu.pop(),ki=Fu[Fu.length-1]||null}let ic=1;function pw(e){ic+=e,e<0&&ki&&(ki.hasOnce=!0)}function WI(e){return e.dynamicChildren=ic>0?ki||Ga:null,iO(),ic>0&&ki&&ki.push(e),e}function Ie(e,t,n,i,r,s){return WI(fe(e,t,n,i,r,s,!0))}function pe(e,t,n,i,r){return WI(f(e,t,n,i,r,!0))}function ll(e){return e?e.__v_isVNode===!0:!1}function ko(e,t){return e.type===t.type&&e.key===t.key}const qI=({key:e})=>e??null,bf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Gt(e)||Vt(e)||Xe(e)?{i:_n,r:e,k:t,f:!!n}:e:null);function fe(e,t=null,n=null,i=0,r=null,s=e===le?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qI(t),ref:t&&bf(t),scopeId:vI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:_n};return a?(r_(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Gt(n)?8:16),ic>0&&!o&&ki&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ki.push(l),l}const f=rO;function rO(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===xI)&&(e=Yn),ll(e)){const a=Zr(e,t,!0);return n&&r_(a,n),ic>0&&!s&&ki&&(a.shapeFlag&6?ki[ki.indexOf(e)]=a:ki.push(a)),a.patchFlag=-2,a}if(vO(e)&&(e=e.__vccOpts),t){t=sO(t);let{class:a,style:l}=t;a&&!Gt(a)&&(t.class=un(a)),Mt(l)&&(qy(l)&&!Ye(l)&&(l=tn({},l)),t.style=By(l))}const o=Gt(e)?1:zI(e)?128:gI(e)?64:Mt(e)?4:Xe(e)?2:0;return fe(e,t,n,i,r,o,s,!0)}function sO(e){return e?qy(e)||OI(e)?tn({},e):e:null}function Zr(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?oe(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&qI(u),ref:t&&t.ref?n&&s?Ye(s)?s.concat(bf(t)):[s,bf(t)]:bf(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==le?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zr(e.ssContent),ssFallback:e.ssFallback&&Zr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Uo(c,l.clone(c)),c}function Le(e=" ",t=0){return f($c,null,e,t)}function hv(e,t){const n=f(_f,null,e);return n.staticCount=t,n}function at(e="",t=!1){return t?(G(),pe(Yn,null,e)):f(Yn,null,e)}function cr(e){return e==null||typeof e=="boolean"?f(Yn):Ye(e)?f(le,null,e.slice()):ll(e)?As(e):f($c,null,String(e))}function As(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zr(e)}function r_(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ye(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),r_(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!OI(t)?t._ctx=_n:r===3&&_n&&(_n.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:_n},n=32):(t=String(t),i&64?(n=16,t=[Le(t)]):n=8);e.children=t,e.shapeFlag|=n}function oe(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=un([t.class,i.class]));else if(r==="style")t.style=By([t.style,i.style]);else if(nv(r)){const s=t[r],o=i[r];o&&s!==o&&!(Ye(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function lr(e,t,n,i=null){nr(e,t,7,[n,i])}const oO=VI();let aO=0;function lO(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||oO,s={uid:aO++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new WE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:MI(i,r),emitsOptions:jI(i,r),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:i.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=X5.bind(null,s),e.ce&&e.ce(s),s}let An=null;const Rl=()=>An||_n;let zf,Xg;{const e=sv(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};zf=t("__VUE_INSTANCE_SETTERS__",n=>An=n),Xg=t("__VUE_SSR_SETTERS__",n=>rc=n)}const Uc=e=>{const t=An;return zf(e),e.scope.on(),()=>{e.scope.off(),zf(t)}},yw=()=>{An&&An.scope.off(),zf(null)};function GI(e){return e.vnode.shapeFlag&4}let rc=!1;function uO(e,t=!1,n=!1){t&&Xg(t);const{props:i,children:r}=e.vnode,s=GI(e);N5(e,i,s,t),U5(e,r,n);const o=s?cO(e,t):void 0;return t&&Xg(!1),o}function cO(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,A5);const{setup:i}=n;if(i){Zs();const r=e.setupContext=i.length>1?fO(e):null,s=Uc(e),o=Bc(i,e,0,[e.props,r]),a=FE(o);if(eo(),s(),(a||e.sp)&&!Xa(e)&&SI(e),a){if(o.then(yw,yw),t)return o.then(l=>{_w(e,l,t)}).catch(l=>{lv(l,e,0)});e.asyncDep=o}else _w(e,o,t)}else KI(e,t)}function _w(e,t,n){Xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mt(t)&&(e.setupState=lI(t)),KI(e,n)}let bw;function KI(e,t,n){const i=e.type;if(!e.render){if(!t&&bw&&!i.render){const r=i.template||e_(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,u=tn(tn({isCustomElement:s,delimiters:a},o),l);i.render=bw(r,u)}}e.render=i.render||gr}{const r=Uc(e);Zs();try{P5(e)}finally{eo(),r()}}}const dO={get(e,t){return zn(e,"get",""),e[t]}};function fO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,dO),slots:e.slots,emit:e.emit,expose:t}}function vv(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(lI(oI(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Nu)return Nu[n](e)},has(t,n){return n in t||n in Nu}})):e.proxy}function hO(e,t=!0){return Xe(e)?e.displayName||e.name:e.name||t&&e.__name}function vO(e){return Xe(e)&&"__vccOpts"in e}const V=(e,t)=>f5(e,t,rc);function ci(e,t,n){const i=arguments.length;return i===2?Mt(t)&&!Ye(t)?ll(t)?f(e,null,[t]):f(e,t):f(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ll(n)&&(n=[n]),f(e,t,n))}const mO="3.5.12";/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Jg;const ww=typeof window<"u"&&window.trustedTypes;if(ww)try{Jg=ww.createPolicy("vue",{createHTML:e=>e})}catch{}const YI=Jg?e=>Jg.createHTML(e):e=>e,gO="http://www.w3.org/2000/svg",pO="http://www.w3.org/1998/Math/MathML",jr=typeof document<"u"?document:null,kw=jr&&jr.createElement("template"),yO={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?jr.createElementNS(gO,e):t==="mathml"?jr.createElementNS(pO,e):n?jr.createElement(e,{is:n}):jr.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>jr.createTextNode(e),createComment:e=>jr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{kw.innerHTML=YI(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=kw.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Cs="transition",vu="animation",ul=Symbol("_vtc"),QI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},XI=tn({},_I,QI),_O=e=>(e.displayName="Transition",e.props=XI,e),kr=_O((e,{slots:t})=>ci(S5,JI(e),t)),mo=(e,t=[])=>{Ye(e)?e.forEach(n=>n(...t)):e&&e(...t)},Sw=e=>e?Ye(e)?e.some(t=>t.length>1):e.length>1:!1;function JI(e){const t={};for(const I in e)I in QI||(t[I]=e[I]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,g=bO(r),p=g&&g[0],y=g&&g[1],{onBeforeEnter:_,onEnter:k,onEnterCancelled:A,onLeave:T,onLeaveCancelled:D,onBeforeAppear:R=_,onAppear:x=k,onAppearCancelled:w=A}=t,b=(I,P,F)=>{Is(I,P?c:a),Is(I,P?u:o),F&&F()},C=(I,P)=>{I._isLeaving=!1,Is(I,d),Is(I,m),Is(I,v),P&&P()},E=I=>(P,F)=>{const $=I?x:k,j=()=>b(P,I,F);mo($,[P,j]),Cw(()=>{Is(P,I?l:s),Ur(P,I?c:a),Sw($)||Ew(P,i,p,j)})};return tn(t,{onBeforeEnter(I){mo(_,[I]),Ur(I,s),Ur(I,o)},onBeforeAppear(I){mo(R,[I]),Ur(I,l),Ur(I,u)},onEnter:E(!1),onAppear:E(!0),onLeave(I,P){I._isLeaving=!0;const F=()=>C(I,P);Ur(I,d),Ur(I,v),eT(),Cw(()=>{I._isLeaving&&(Is(I,d),Ur(I,m),Sw(T)||Ew(I,i,y,F))}),mo(T,[I,F])},onEnterCancelled(I){b(I,!1),mo(A,[I])},onAppearCancelled(I){b(I,!0),mo(w,[I])},onLeaveCancelled(I){C(I),mo(D,[I])}})}function bO(e){if(e==null)return null;if(Mt(e))return[Qm(e.enter),Qm(e.leave)];{const t=Qm(e);return[t,t]}}function Qm(e){return R4(e)}function Ur(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ul]||(e[ul]=new Set)).add(t)}function Is(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[ul];n&&(n.delete(t),n.size||(e[ul]=void 0))}function Cw(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let wO=0;function Ew(e,t,n,i){const r=e._endId=++wO,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=ZI(e,t);if(!o)return i();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,v),s()},v=m=>{m.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,v)}function ZI(e,t){const n=window.getComputedStyle(e),i=g=>(n[g]||"").split(", "),r=i(`${Cs}Delay`),s=i(`${Cs}Duration`),o=Iw(r,s),a=i(`${vu}Delay`),l=i(`${vu}Duration`),u=Iw(a,l);let c=null,d=0,v=0;t===Cs?o>0&&(c=Cs,d=o,v=s.length):t===vu?u>0&&(c=vu,d=u,v=l.length):(d=Math.max(o,u),c=d>0?o>u?Cs:vu:null,v=c?c===Cs?s.length:l.length:0);const m=c===Cs&&/\b(transform|all)(,|$)/.test(i(`${Cs}Property`).toString());return{type:c,timeout:d,propCount:v,hasTransform:m}}function Iw(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>Tw(n)+Tw(e[i])))}function Tw(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function eT(){return document.body.offsetHeight}function kO(e,t,n){const i=e[ul];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Wf=Symbol("_vod"),tT=Symbol("_vsh"),xi={beforeMount(e,{value:t},{transition:n}){e[Wf]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):mu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),mu(e,!0),i.enter(e)):i.leave(e,()=>{mu(e,!1)}):mu(e,t))},beforeUnmount(e,{value:t}){mu(e,t)}};function mu(e,t){e.style.display=t?e[Wf]:"none",e[tT]=!t}const SO=Symbol(""),CO=/(^|;)\s*display\s*:/;function EO(e,t,n){const i=e.style,r=Gt(n);let s=!1;if(n&&!r){if(t)if(Gt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&wf(i,a,"")}else for(const o in t)n[o]==null&&wf(i,o,"");for(const o in n)o==="display"&&(s=!0),wf(i,o,n[o])}else if(r){if(t!==n){const o=i[SO];o&&(n+=";"+o),i.cssText=n,s=CO.test(n)}}else t&&e.removeAttribute("style");Wf in e&&(e[Wf]=s?i.display:"",e[tT]&&(i.display="none"))}const xw=/\s*!important$/;function wf(e,t,n){if(Ye(n))n.forEach(i=>wf(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=IO(e,t);xw.test(n)?e.setProperty(Js(i),n.replace(xw,""),"important"):e[i]=n}}const Aw=["Webkit","Moz","ms"],Xm={};function IO(e,t){const n=Xm[t];if(n)return n;let i=vi(t);if(i!=="filter"&&i in e)return Xm[t]=i;i=Ar(i);for(let r=0;r<Aw.length;r++){const s=Aw[r]+i;if(s in e)return Xm[t]=s}return t}const Pw="http://www.w3.org/1999/xlink";function Vw(e,t,n,i,r,s=F4(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Pw,t.slice(6,t.length)):e.setAttributeNS(Pw,t,n):n==null||s&&!HE(n)?e.removeAttribute(t):e.setAttribute(t,s?"":fs(n)?String(n):n)}function Rw(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?YI(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=HE(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(r||t)}function Ba(e,t,n,i){e.addEventListener(t,n,i)}function TO(e,t,n,i){e.removeEventListener(t,n,i)}const Dw=Symbol("_vei");function xO(e,t,n,i,r=null){const s=e[Dw]||(e[Dw]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=AO(t);if(i){const u=s[t]=RO(i,r);Ba(e,a,u,l)}else o&&(TO(e,a,o,l),s[t]=void 0)}}const Ow=/(?:Once|Passive|Capture)$/;function AO(e){let t;if(Ow.test(e)){t={};let i;for(;i=e.match(Ow);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Js(e.slice(2)),t]}let Jm=0;const PO=Promise.resolve(),VO=()=>Jm||(PO.then(()=>Jm=0),Jm=Date.now());function RO(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;nr(DO(i,n.value),t,5,[i])};return n.value=e,n.attached=VO(),n}function DO(e,t){if(Ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Lw=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,OO=(e,t,n,i,r,s)=>{const o=r==="svg";t==="class"?kO(e,i,o):t==="style"?EO(e,n,i):nv(t)?My(t)||xO(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):LO(e,t,i,o))?(Rw(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Vw(e,t,i,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Gt(i))?Rw(e,vi(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Vw(e,t,i,o))};function LO(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lw(t)&&Xe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Lw(t)&&Gt(n)?!1:t in e}const nT=new WeakMap,iT=new WeakMap,qf=Symbol("_moveCb"),Mw=Symbol("_enterCb"),MO=e=>(delete e.props.mode,e),NO=MO({name:"TransitionGroup",props:tn({},XI,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Rl(),i=yI();let r,s;return Qy(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!UO(r[0].el,n.vnode.el,o))return;r.forEach(FO),r.forEach(BO);const a=r.filter($O);eT(),a.forEach(l=>{const u=l.el,c=u.style;Ur(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[qf]=v=>{v&&v.target!==u||(!v||/transform$/.test(v.propertyName))&&(u.removeEventListener("transitionend",d),u[qf]=null,Is(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=qe(e),a=JI(o);let l=o.tag||le;if(r=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(r.push(c),Uo(c,nc(c,a,i,n)),nT.set(c,c.el.getBoundingClientRect()))}s=t.default?Ky(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Uo(c,nc(c,a,i,n))}return f(l,null,s)}}}),s_=NO;function FO(e){const t=e.el;t[qf]&&t[qf](),t[Mw]&&t[Mw]()}function BO(e){iT.set(e,e.el.getBoundingClientRect())}function $O(e){const t=nT.get(e),n=iT.get(e),i=t.left-n.left,r=t.top-n.top;if(i||r){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",e}}function UO(e,t,n){const i=e.cloneNode(),r=e[ul];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=ZI(i);return s.removeChild(i),o}const Nw=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ye(t)?n=>pf(t,n):t};function HO(e){e.target.composing=!0}function Fw(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Zm=Symbol("_assign"),jO={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[Zm]=Nw(r);const s=i||r.props&&r.props.type==="number";Ba(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=$g(a)),e[Zm](a)}),n&&Ba(e,"change",()=>{e.value=e.value.trim()}),t||(Ba(e,"compositionstart",HO),Ba(e,"compositionend",Fw),Ba(e,"change",Fw))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(e[Zm]=Nw(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?$g(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},zO=["ctrl","shift","alt","meta"],WO={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zO.some(n=>e[`${n}Key`]&&!t.includes(n))},Ho=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<t.length;o++){const a=WO[t[o]];if(a&&a(r,t))return}return e(r,...s)})},qO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},GO=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=Js(r.key);if(t.some(o=>o===s||qO[o]===s))return e(r)})},KO=tn({patchProp:OO},yO);let Bw;function rT(){return Bw||(Bw=j5(KO))}const sT=(...e)=>{rT().render(...e)},YO=(...e)=>{const t=rT().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=XO(i);if(!r)return;const s=t._component;!Xe(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,QO(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function QO(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function XO(e){return Gt(e)?document.querySelector(e):e}function ai(e,t){let n;function i(){n=Fc(),n.run(()=>t.length?t(()=>{n==null||n.stop(),i()}):t())}ye(e,r=>{r&&!n?i():r||(n==null||n.stop(),n=void 0)},{immediate:!0}),wn(()=>{n==null||n.stop()})}const _t=typeof window<"u",o_=_t&&"IntersectionObserver"in window,JO=_t&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),$w=_t&&"EyeDropper"in window;function Uw(e,t,n){ZO(e,t),t.set(e,n)}function ZO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e3(e,t,n){return e.set(oT(e,t),n),n}function go(e,t){return e.get(oT(e,t))}function oT(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function aT(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let r=0;r<i;r++){if(e==null)return n;e=e[t[r]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function Pr(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>Pr(e[i],t[i]))}function jo(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),aT(e,t.split("."),n))}function an(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}if(typeof t=="string")return jo(e,t,n);if(Array.isArray(t))return aT(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function fr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function Te(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function a_(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Hw(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function l_(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const jw=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Zg=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function lT(e){return Object.keys(e)}function Eo(e,t){return t.every(n=>e.hasOwnProperty(n))}function u_(e,t){const n={},i=new Set(Object.keys(e));for(const r of t)i.has(r)&&(n[r]=e[r]);return n}function ep(e,t,n){const i=Object.create(null),r=Object.create(null);for(const s in e)t.some(o=>o instanceof RegExp?o.test(s):o===s)&&!(n!=null&&n.some(o=>o===s))?i[s]=e[s]:r[s]=e[s];return[i,r]}function nn(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}function mv(e,t){const n={};return t.forEach(i=>n[i]=e[i]),n}const uT=/^on[^a-z]/,gv=e=>uT.test(e),t3=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],n3=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function i3(e){return e.isComposing&&n3.includes(e.key)}function no(e){const[t,n]=ep(e,[uT]),i=nn(t,t3),[r,s]=ep(n,["class","style","id",/^data-/]);return Object.assign(r,t),Object.assign(s,i),[r,s]}function Ht(e){return e==null?[]:Array.isArray(e)?e:[e]}function r3(e,t){let n=0;const i=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];clearTimeout(n),n=setTimeout(()=>e(...s),se(t))};return i.clear=()=>{clearTimeout(n)},i.immediate=e,i}function Zt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function zw(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function Ww(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function qw(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function s3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function Gw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function Qn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const r in e)i[r]=e[r];for(const r in t){const s=e[r],o=t[r];if(Hw(s)&&Hw(o)){i[r]=Qn(s,o,n);continue}if(n&&Array.isArray(s)&&Array.isArray(o)){i[r]=n(s,o);continue}i[r]=o}return i}function cT(e){return e.map(t=>t.type===le?cT(t.children):t).flat()}function Ro(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Ro.cache.has(e))return Ro.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Ro.cache.set(e,t),t}Ro.cache=new Map;function ja(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>ja(e,n)).flat(1);if(t.suspense)return ja(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>ja(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return ja(e,t.component.subTree).flat(1)}return[]}var jd=new WeakMap,Da=new WeakMap;class o3{constructor(t){Uw(this,jd,[]),Uw(this,Da,0),this.size=t}push(t){go(jd,this)[go(Da,this)]=t,e3(Da,this,(go(Da,this)+1)%this.size)}values(){return go(jd,this).slice(go(Da,this)).concat(go(jd,this).slice(0,go(Da,this)))}}function a3(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function c_(e){const t=xn({}),n=V(e);return Kt(()=>{for(const i in n.value)t[i]=n.value[i]},{flush:"sync"}),aa(t)}function Gf(e,t){return e.includes(t)}function dT(e){return e[2].toLowerCase()+e.slice(3)}const bn=()=>[Function,Array];function Kw(e,t){return t="on"+Ar(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function d_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const r of e)r(...n);else typeof e=="function"&&e(...n)}function sc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function fT(e,t,n){let i,r=e.indexOf(document.activeElement);const s=t==="next"?1:-1;do r+=s,i=e[r];while((!i||i.offsetParent==null||!((n==null?void 0:n(i))??!0))&&r<e.length&&r>=0);return i}function Do(e,t){var i,r,s,o;const n=sc(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(t==="first")(r=n[0])==null||r.focus();else if(t==="last")(s=n.at(-1))==null||s.focus();else if(typeof t=="number")(o=n[t])==null||o.focus();else{const a=fT(n,t);a?a.focus():Do(e,t==="next"?"first":"last")}}function zd(e){return e==null||typeof e=="string"&&e.trim()===""}function hT(){}function cl(e,t){if(!(_t&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function pv(e){return e.some(t=>ll(t)?t.type===Yn?!1:t.type!==le||pv(t.children):!0)?e:null}function l3(e,t){if(!_t||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function u3(e,t){const n=e.clientX,i=e.clientY,r=t.getBoundingClientRect(),s=r.left,o=r.top,a=r.right,l=r.bottom;return n>=s&&n<=a&&i>=o&&i<=l}function Kf(){const e=Se(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>l_(e.value)}),t}function Yf(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const vT=["top","bottom"],c3=["start","end","left","right"];function tp(e,t){let[n,i]=e.split(" ");return i||(i=Gf(vT,n)?"start":Gf(c3,n)?"top":"center"),{side:np(n,t),align:np(i,t)}}function np(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function eg(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function tg(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function Yw(e){return{side:e.align,align:e.side}}function Qw(e){return Gf(vT,e.side)?"y":"x"}class Oo{constructor(t){let{x:n,y:i,width:r,height:s}=t;this.x=n,this.y=i,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Xw(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function mT(e){return Array.isArray(e)?new Oo({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function f_(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let r,s,o,a,l;if(i.startsWith("matrix3d("))r=i.slice(9,-1).split(/, /),s=+r[0],o=+r[5],a=+r[12],l=+r[13];else if(i.startsWith("matrix("))r=i.slice(7,-1).split(/, /),s=+r[0],o=+r[3],a=+r[4],l=+r[5];else return new Oo(t);const u=n.transformOrigin,c=t.x-a-(1-s)*parseFloat(u),d=t.y-l-(1-o)*parseFloat(u.slice(u.indexOf(" ")+1)),v=s?t.width/s:e.offsetWidth+1,m=o?t.height/o:e.offsetHeight+1;return new Oo({x:c,y:d,width:v,height:m})}else return new Oo(t)}function Io(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(r=>{i.onfinish=()=>{r(i)}})),i}const kf=new WeakMap;function d3(e,t){Object.keys(t).forEach(n=>{if(gv(n)){const i=dT(n),r=kf.get(e);if(t[n]==null)r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===i&&s[1]===t[n])){e.addEventListener(i,t[n]);const s=r||new Set;s.add([i,t[n]]),kf.has(e)||kf.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function f3(e,t){Object.keys(t).forEach(n=>{if(gv(n)){const i=dT(n),r=kf.get(e);r==null||r.forEach(s=>{const[o,a]=s;o===i&&(e.removeEventListener(i,a),r.delete(s))})}else e.removeAttribute(n)})}const Oa=2.4,Jw=.2126729,Zw=.7151522,ek=.072175,h3=.55,v3=.58,m3=.57,g3=.62,Wd=.03,tk=1.45,p3=5e-4,y3=1.25,_3=1.25,nk=.078,ik=12.82051282051282,qd=.06,rk=.001;function sk(e,t){const n=(e.r/255)**Oa,i=(e.g/255)**Oa,r=(e.b/255)**Oa,s=(t.r/255)**Oa,o=(t.g/255)**Oa,a=(t.b/255)**Oa;let l=n*Jw+i*Zw+r*ek,u=s*Jw+o*Zw+a*ek;if(l<=Wd&&(l+=(Wd-l)**tk),u<=Wd&&(u+=(Wd-u)**tk),Math.abs(u-l)<p3)return 0;let c;if(u>l){const d=(u**h3-l**v3)*y3;c=d<rk?0:d<nk?d-d*ik*qd:d-qd}else{const d=(u**g3-l**m3)*_3;c=d>-rk?0:d>-nk?d-d*ik*qd:d+qd}return c*100}function b3(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Qf=.20689655172413793,w3=e=>e>Qf**3?Math.cbrt(e):e/(3*Qf**2)+4/29,k3=e=>e>Qf?e**3:3*Qf**2*(e-4/29);function gT(e){const t=w3,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function pT(e){const t=k3,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const S3=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],C3=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,E3=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],I3=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function yT(e){const t=Array(3),n=C3,i=S3;for(let r=0;r<3;++r)t[r]=Math.round(Zt(n(i[r][0]*e[0]+i[r][1]*e[1]+i[r][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function h_(e){let{r:t,g:n,b:i}=e;const r=[0,0,0],s=I3,o=E3;t=s(t/255),n=s(n/255),i=s(i/255);for(let a=0;a<3;++a)r[a]=o[a][0]*t+o[a][1]*n+o[a][2]*i;return r}function ip(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function T3(e){return ip(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const ok=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,x3={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>ak({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>ak({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>es({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>es({h:e,s:t,v:n,a:i})};function Li(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&ok.test(e)){const{groups:t}=e.match(ok),{fn:n,values:i}=t,r=i.split(/,\s*/).map(s=>s.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(s)/100:parseFloat(s));return x3[n](...r)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),ST(t)}else if(typeof e=="object"){if(Eo(e,["r","g","b"]))return e;if(Eo(e,["h","s","l"]))return es(v_(e));if(Eo(e,["h","s","v"]))return es(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function es(e){const{h:t,s:n,v:i,a:r}=e,s=a=>{const l=(a+t/60)%6;return i-i*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:r}}function ak(e){return es(v_(e))}function yv(e){if(!e)return{h:0,s:1,v:1,a:1};const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),s=Math.min(t,n,i);let o=0;r!==s&&(r===t?o=60*(0+(n-i)/(r-s)):r===n?o=60*(2+(i-t)/(r-s)):r===i&&(o=60*(4+(t-n)/(r-s)))),o<0&&(o=o+360);const a=r===0?0:(r-s)/r,l=[o,a,r];return{h:l[0],s:l[1],v:l[2],a:e.a}}function _T(e){const{h:t,s:n,v:i,a:r}=e,s=i-i*n/2,o=s===1||s===0?0:(i-s)/Math.min(s,1-s);return{h:t,s:o,l:s,a:r}}function v_(e){const{h:t,s:n,l:i,a:r}=e,s=i+n*Math.min(i,1-i),o=s===0?0:2-2*i/s;return{h:t,s:o,v:s,a:r}}function bT(e){let{r:t,g:n,b:i,a:r}=e;return r===void 0?`rgb(${t}, ${n}, ${i})`:`rgba(${t}, ${n}, ${i}, ${r})`}function wT(e){return bT(es(e))}function Gd(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function kT(e){let{r:t,g:n,b:i,a:r}=e;return`#${[Gd(t),Gd(n),Gd(i),r!==void 0?Gd(Math.round(r*255)):""].join("")}`}function ST(e){e=A3(e);let[t,n,i,r]=s3(e,2).map(s=>parseInt(s,16));return r=r===void 0?r:r/255,{r:t,g:n,b:i,a:r}}function CT(e){const t=ST(e);return yv(t)}function ET(e){return kT(es(e))}function A3(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Ww(Ww(e,6),8,"F")),e}function P3(e,t){const n=gT(h_(e));return n[0]=n[0]+t*10,yT(pT(n))}function V3(e,t){const n=gT(h_(e));return n[0]=n[0]-t*10,yT(pT(n))}function rp(e){const t=Li(e);return h_(t)[1]}function R3(e,t){const n=rp(e),i=rp(t),r=Math.max(n,i),s=Math.min(n,i);return(r+.05)/(s+.05)}function IT(e){const t=Math.abs(sk(Li(0),Li(e)));return Math.abs(sk(Li(16777215),Li(e)))>Math.min(t,50)?"#fff":"#000"}function Q(e,t){return n=>Object.keys(e).reduce((i,r)=>{const o=typeof e[r]=="object"&&e[r]!=null&&!Array.isArray(e[r])?e[r]:{type:e[r]};return n&&r in n?i[r]={...o,default:n[r]}:i[r]=o,t&&!i[r].source&&(i[r].source=t),i},{})}const Pe=Q({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Wt(e,t){const n=Rl();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Vr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Wt(e).type;return Ro((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let TT=0,Sf=new WeakMap;function Sn(){const e=Wt("getUid");if(Sf.has(e))return Sf.get(e);{const t=TT++;return Sf.set(e,t),t}}Sn.reset=()=>{TT=0,Sf=new WeakMap};function D3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wt("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const dl=Symbol.for("vuetify:defaults");function O3(e){return z(e)}function m_(){const e=Ze(dl);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function zt(e,t){const n=m_(),i=z(e),r=V(()=>{if(se(t==null?void 0:t.disabled))return n.value;const o=se(t==null?void 0:t.scoped),a=se(t==null?void 0:t.reset),l=se(t==null?void 0:t.root);if(i.value==null&&!(o||a||l))return n.value;let u=Qn(i.value,{prev:n.value});if(o)return u;if(a||l){const c=Number(a||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=Qn(Qn(u,{prev:u}),u[l])),u}return u.prev?Qn(u.prev,u):u});return Ot(dl,r),r}function L3(e,t){var n,i;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((i=e.props)==null?void 0:i[Ro(t)])<"u"}function M3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m_();const i=Wt("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const r=V(()=>{var l;return(l=n.value)==null?void 0:l[e._as??t]}),s=new Proxy(e,{get(l,u){var d,v,m,g,p,y,_;const c=Reflect.get(l,u);return u==="class"||u==="style"?[(d=r.value)==null?void 0:d[u],c].filter(k=>k!=null):typeof u=="string"&&!L3(i.vnode,u)?((v=r.value)==null?void 0:v[u])!==void 0?(m=r.value)==null?void 0:m[u]:((p=(g=n.value)==null?void 0:g.global)==null?void 0:p[u])!==void 0?(_=(y=n.value)==null?void 0:y.global)==null?void 0:_[u]:c:c}}),o=Se();Kt(()=>{if(r.value){const l=Object.entries(r.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});o.value=l.length?Object.fromEntries(l):void 0}else o.value=void 0});function a(){const l=D3(dl,i);Ot(dl,V(()=>o.value?Qn((l==null?void 0:l.value)??{},o.value):l==null?void 0:l.value))}return{props:s,provideSubDefaults:a}}function Ai(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Q(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return u_(i,t)},e.props._as=String,e.setup=function(i,r){const s=m_();if(!s.value)return e._setup(i,r);const{props:o,provideSubDefaults:a}=M3(i,i._as??e.name,s),l=e._setup(o,r);return a(),l}}return e}function re(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Ai:He)(t)}function N3(e,t){return t.props=e,t}function Rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return re()({name:n??Ar(vi(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Pe()},setup(i,r){let{slots:s}=r;return()=>{var o;return ci(i.tag,{class:[e,i.class],style:i.style},(o=s.default)==null?void 0:o.call(s))}}})}function xT(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const oc="cubic-bezier(0.4, 0, 0.2, 1)",F3="cubic-bezier(0.0, 0, 0.2, 1)",B3="cubic-bezier(0.4, 0, 1, 1)";function lk(e,t,n){return Object.keys(e).filter(i=>gv(i)&&i.endsWith(t)).reduce((i,r)=>(i[r.slice(0,-t.length)]=s=>e[r](s,n(s)),i),{})}function g_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?$3(e):p_(e))return e;e=e.parentElement}return document.scrollingElement}function Xf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(p_(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function p_(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function $3(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function U3(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function ue(e){const t=Wt("useRender");t.render=e}function Fe(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const s=Wt("useProxiedModel"),o=z(e[t]!==void 0?e[t]:n),a=Ro(t),u=V(a!==t?()=>{var d,v,m,g;return e[t],!!(((d=s.vnode.props)!=null&&d.hasOwnProperty(t)||(v=s.vnode.props)!=null&&v.hasOwnProperty(a))&&((m=s.vnode.props)!=null&&m.hasOwnProperty(`onUpdate:${t}`)||(g=s.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,v;return e[t],!!((d=s.vnode.props)!=null&&d.hasOwnProperty(t)&&((v=s.vnode.props)!=null&&v.hasOwnProperty(`onUpdate:${t}`)))});ai(()=>!u.value,()=>{ye(()=>e[t],d=>{o.value=d})});const c=V({get(){const d=e[t];return i(u.value?d:o.value)},set(d){const v=r(d),m=qe(u.value?e[t]:o.value);m===v||i(m)===d||(o.value=v,s==null||s.emit(`update:${t}`,v))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?e[t]:o.value}),c}const H3={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},uk="$vuetify.",ck=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[+i])),AT=(e,t,n)=>function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(!i.startsWith(uk))return ck(i,s);const a=i.replace(uk,""),l=e.value&&n.value[e.value],u=t.value&&n.value[t.value];let c=jo(l,a,null);return c||(`${i}${e.value}`,c=jo(u,a,null)),c||(c=i),typeof c!="string"&&(c=i),ck(c,s)};function PT(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function ng(e,t,n){const i=Fe(e,t,e[t]??n.value);return i.value=e[t]??n.value,ye(n,r=>{e[t]==null&&(i.value=n.value)}),i}function VT(e){return t=>{const n=ng(t,"locale",e.current),i=ng(t,"fallback",e.fallback),r=ng(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:r,t:AT(n,i,r),n:PT(n,i),provide:VT({current:n,fallback:i,messages:r})}}}function j3(e){const t=Se((e==null?void 0:e.locale)??"en"),n=Se((e==null?void 0:e.fallback)??"en"),i=z({en:H3,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:AT(t,n,i),n:PT(t,n),provide:VT({current:t,fallback:n,messages:i})}}const fl=Symbol.for("vuetify:locale");function z3(e){return e.name!=null}function W3(e){const t=e!=null&&e.adapter&&z3(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:j3(e),n=K3(t,e);return{...t,...n}}function Xt(){const e=Ze(fl);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function q3(e){const t=Ze(fl);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");const n=t.provide(e),i=Y3(n,t.rtl,e),r={...n,...i};return Ot(fl,r),r}function G3(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function K3(e,t){const n=z((t==null?void 0:t.rtl)??G3()),i=V(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:V(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Y3(e,t,n){const i=V(()=>n.rtl??t.value[e.current.value]??!1);return{isRtl:i,rtl:t,rtlClasses:V(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function dn(){const e=Ze(fl);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const _v={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Q3(e,t,n){const i=[];let r=[];const s=RT(e),o=DT(e),a=n??_v[t.slice(-2).toUpperCase()]??0,l=(s.getDay()-a+7)%7,u=(o.getDay()-a+7)%7;for(let c=0;c<l;c++){const d=new Date(s);d.setDate(d.getDate()-(l-c)),r.push(d)}for(let c=1;c<=o.getDate();c++){const d=new Date(e.getFullYear(),e.getMonth(),c);r.push(d),r.length===7&&(i.push(r),r=[])}for(let c=1;c<7-u;c++){const d=new Date(o);d.setDate(d.getDate()+c),r.push(d)}return r.length>0&&i.push(r),i}function X3(e,t,n){const i=n??_v[t.slice(-2).toUpperCase()]??0,r=new Date(e);for(;r.getDay()!==i;)r.setDate(r.getDate()-1);return r}function J3(e,t){const n=new Date(e),i=((_v[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function RT(e){return new Date(e.getFullYear(),e.getMonth(),1)}function DT(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function Z3(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const e6=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function OT(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(e6.test(e))return Z3(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const dk=new Date(2e3,0,2);function t6(e,t){const n=t??_v[e.slice(-2).toUpperCase()]??0;return fr(7).map(i=>{const r=new Date(dk);return r.setDate(dk.getDate()+n+i),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function n6(e,t,n,i){const r=OT(e)??new Date,s=i==null?void 0:i[t];if(typeof s=="function")return s(r,t,n);let o={};switch(t){case"fullDate":o={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":o={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const a=r.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(r);return`${a} ${l}`;case"normalDateWithWeekday":o={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":o={month:"short",day:"numeric"};break;case"year":o={year:"numeric"};break;case"month":o={month:"long"};break;case"monthShort":o={month:"short"};break;case"monthAndYear":o={month:"long",year:"numeric"};break;case"monthAndDate":o={month:"long",day:"numeric"};break;case"weekday":o={weekday:"long"};break;case"weekdayShort":o={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(r.getDate());case"hours12h":o={hour:"numeric",hour12:!0};break;case"hours24h":o={hour:"numeric",hour12:!1};break;case"minutes":o={minute:"numeric"};break;case"seconds":o={second:"numeric"};break;case"fullTime":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":o={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":o={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":o={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:o=s??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,o).format(r)}function i6(e,t){const n=e.toJsDate(t),i=n.getFullYear(),r=qw(String(n.getMonth()+1),2,"0"),s=qw(String(n.getDate()),2,"0");return`${i}-${r}-${s}`}function r6(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function s6(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function o6(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function a6(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function l6(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function u6(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function c6(e){return e.getFullYear()}function d6(e){return e.getMonth()}function f6(e){return e.getDate()}function h6(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function v6(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function m6(e){return e.getHours()}function g6(e){return e.getMinutes()}function p6(e){return new Date(e.getFullYear(),0,1)}function y6(e){return new Date(e.getFullYear(),11,31)}function _6(e,t){return Jf(e,t[0])&&k6(e,t[1])}function b6(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Jf(e,t){return e.getTime()>t.getTime()}function w6(e,t){return Jf(sp(e),sp(t))}function k6(e,t){return e.getTime()<t.getTime()}function fk(e,t){return e.getTime()===t.getTime()}function S6(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function C6(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function E6(e,t){return e.getFullYear()===t.getFullYear()}function I6(e,t,n){const i=new Date(e),r=new Date(t);switch(n){case"years":return i.getFullYear()-r.getFullYear();case"quarters":return Math.floor((i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12)/4);case"months":return i.getMonth()-r.getMonth()+(i.getFullYear()-r.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-r.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-r.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-r.getTime())/1e3);default:return i.getTime()-r.getTime()}}function T6(e,t){const n=new Date(e);return n.setHours(t),n}function x6(e,t){const n=new Date(e);return n.setMinutes(t),n}function A6(e,t){const n=new Date(e);return n.setMonth(t),n}function P6(e,t){const n=new Date(e);return n.setDate(t),n}function V6(e,t){const n=new Date(e);return n.setFullYear(t),n}function sp(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function R6(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class D6{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return OT(t)}toJsDate(t){return t}toISO(t){return i6(this,t)}parseISO(t){return r6(t)}addMinutes(t,n){return s6(t,n)}addHours(t,n){return o6(t,n)}addDays(t,n){return a6(t,n)}addWeeks(t,n){return l6(t,n)}addMonths(t,n){return u6(t,n)}getWeekArray(t,n){return Q3(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return X3(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return J3(t,this.locale)}startOfMonth(t){return RT(t)}endOfMonth(t){return DT(t)}format(t,n){return n6(t,n,this.locale,this.formats)}isEqual(t,n){return fk(t,n)}isValid(t){return b6(t)}isWithinRange(t,n){return _6(t,n)}isAfter(t,n){return Jf(t,n)}isAfterDay(t,n){return w6(t,n)}isBefore(t,n){return!Jf(t,n)&&!fk(t,n)}isSameDay(t,n){return S6(t,n)}isSameMonth(t,n){return C6(t,n)}isSameYear(t,n){return E6(t,n)}setMinutes(t,n){return x6(t,n)}setHours(t,n){return T6(t,n)}setMonth(t,n){return A6(t,n)}setDate(t,n){return P6(t,n)}setYear(t,n){return V6(t,n)}getDiff(t,n,i){return I6(t,n,i)}getWeekdays(t){return t6(this.locale,t?Number(t):void 0)}getYear(t){return c6(t)}getMonth(t){return d6(t)}getDate(t){return f6(t)}getNextMonth(t){return h6(t)}getPreviousMonth(t){return v6(t)}getHours(t){return m6(t)}getMinutes(t){return g6(t)}startOfDay(t){return sp(t)}endOfDay(t){return R6(t)}startOfYear(t){return p6(t)}endOfYear(t){return y6(t)}}const LT=Symbol.for("vuetify:date-options"),hk=Symbol.for("vuetify:date-adapter");function O6(e,t){const n=Qn({adapter:D6,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:MT(n,t)}}function MT(e,t){const n=xn(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ye(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}function Hc(){const e=Ze(LT);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=Xt();return MT(e,t)}function L6(e,t){const n=e.toJsDate(t);let i=n.getFullYear(),r=new Date(i,0,1);if(n<r)i=i-1,r=new Date(i,0,1);else{const a=new Date(i+1,0,1);n>=a&&(i=i+1,r=a)}const s=Math.abs(n.getTime()-r.getTime()),o=Math.ceil(s/(1e3*60*60*24));return Math.floor(o/7)+1}const bv=["sm","md","lg","xl","xxl"],op=Symbol.for("vuetify:display"),vk={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},M6=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vk;return Qn(vk,e)};function mk(e){return _t&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function gk(e){return _t&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function pk(e){const t=_t&&!e?window.navigator.userAgent:"ssr";function n(g){return!!t.match(g)}const i=n(/android/i),r=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),u=n(/firefox/i),c=n(/opera/i),d=n(/win/i),v=n(/mac/i),m=n(/linux/i);return{android:i,ios:r,cordova:s,electron:o,chrome:a,edge:l,firefox:u,opera:c,win:d,mac:v,linux:m,touch:JO,ssr:t==="ssr"}}function N6(e,t){const{thresholds:n,mobileBreakpoint:i}=M6(e),r=Se(gk(t)),s=Se(pk(t)),o=xn({}),a=Se(mk(t));function l(){r.value=gk(),a.value=mk()}function u(){l(),s.value=pk()}return Kt(()=>{const c=a.value<n.sm,d=a.value<n.md&&!c,v=a.value<n.lg&&!(d||c),m=a.value<n.xl&&!(v||d||c),g=a.value<n.xxl&&!(m||v||d||c),p=a.value>=n.xxl,y=c?"xs":d?"sm":v?"md":m?"lg":g?"xl":"xxl",_=typeof i=="number"?i:n[i],k=a.value<_;o.xs=c,o.sm=d,o.md=v,o.lg=m,o.xl=g,o.xxl=p,o.smAndUp=!c,o.mdAndUp=!(c||d),o.lgAndUp=!(c||d||v),o.xlAndUp=!(c||d||v||m),o.smAndDown=!(v||m||g||p),o.mdAndDown=!(m||g||p),o.lgAndDown=!(g||p),o.xlAndDown=!p,o.name=y,o.height=r.value,o.width=a.value,o.mobile=k,o.mobileBreakpoint=i,o.platform=s.value,o.thresholds=n}),_t&&window.addEventListener("resize",l,{passive:!0}),{...aa(o),update:u,ssr:!!t}}const la=Q({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function zi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();const n=Ze(op);if(!n)throw new Error("Could not find Vuetify display injection");const i=V(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const s=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<s}),r=V(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:r,mobile:i}}const NT=Symbol.for("vuetify:goto");function FT(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function F6(e){return y_(e)??(document.scrollingElement||document.body)}function y_(e){return typeof e=="string"?document.querySelector(e):l_(e)}function ig(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=y_(e),r=0;for(;i;)r+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return r}function B6(e,t){return{rtl:t.isRtl,options:Qn(FT(),e)}}async function yk(e,t,n,i){const r=n?"scrollLeft":"scrollTop",s=Qn((i==null?void 0:i.options)??FT(),t),o=i==null?void 0:i.rtl.value,a=(typeof e=="number"?e:y_(e))??0,l=s.container==="parent"&&a instanceof HTMLElement?a.parentElement:F6(s.container),u=typeof s.easing=="function"?s.easing:s.patterns[s.easing];if(!u)throw new TypeError(`Easing function "${s.easing}" not found.`);let c;if(typeof a=="number")c=ig(a,n,o);else if(c=ig(a,n,o)-ig(l,n,o),s.layout){const g=window.getComputedStyle(a).getPropertyValue("--v-layout-top");g&&(c-=parseInt(g,10))}c+=s.offset,c=U6(l,c,!!o,!!n);const d=l[r]??0;if(c===d)return Promise.resolve(c);const v=performance.now();return new Promise(m=>requestAnimationFrame(function g(p){const _=(p-v)/s.duration,k=Math.floor(d+(c-d)*u(Zt(_,0,1)));if(l[r]=k,_>=1&&Math.abs(k-l[r])<10)return m(c);if(_>2)return m(l[r]);requestAnimationFrame(g)}))}function $6(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Ze(NT),{isRtl:n}=dn();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:V(()=>t.rtl.value||n.value)};async function r(s,o){return yk(s,Qn(e,o),!1,i)}return r.horizontal=async(s,o)=>yk(s,Qn(e,o),!0,i),r}function U6(e,t,n,i){const{scrollWidth:r,scrollHeight:s}=e,[o,a]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let l,u;return i?n?(l=-(r-o),u=0):(l=0,u=r-o):(l=0,u=s+-a),Math.max(Math.min(t,u),l)}const BT={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},$T={component:e=>ci(b_,{...e,class:"mdi"})},We=[String,Function,Object,Array],ap=Symbol.for("vuetify:icons"),wv=Q({icon:{type:We},tag:{type:String,required:!0}},"icon"),lp=re()({name:"VComponentIcon",props:wv(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return f(e.tag,null,{default:()=>{var r;return[e.icon?f(i,null,null):(r=n.default)==null?void 0:r.call(n)]}})}}}),__=Ai({name:"VSvgIcon",inheritAttrs:!1,props:wv(),setup(e,t){let{attrs:n}=t;return()=>f(e.tag,oe(n,{style:null}),{default:()=>[f("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?f("path",{d:i[0],"fill-opacity":i[1]},null):f("path",{d:i},null)):f("path",{d:e.icon},null)])]})}}),H6=Ai({name:"VLigatureIcon",props:wv(),setup(e){return()=>f(e.tag,null,{default:()=>[e.icon]})}}),b_=Ai({name:"VClassIcon",props:wv(),setup(e){return()=>f(e.tag,{class:e.icon},null)}});function j6(){return{svg:{component:__},class:{component:b_}}}function z6(e){const t=j6(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=$T),Qn({defaultSet:n,sets:t,aliases:{...BT,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const W6=e=>{const t=Ze(ap);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:V(()=>{var l;const i=se(e);if(!i)return{component:lp};let r=i;if(typeof r=="string"&&(r=r.trim(),r.startsWith("$")&&(r=(l=t.aliases)==null?void 0:l[r.slice(1)])),Array.isArray(r))return{component:__,icon:r};if(typeof r!="string")return{component:lp,icon:r};const s=Object.keys(t.sets).find(u=>typeof r=="string"&&r.startsWith(`${u}:`)),o=s?r.slice(s.length+1):r;return{component:t.sets[s??t.defaultSet].component,icon:o}})}},ac=Symbol.for("vuetify:theme"),ot=Q({theme:String},"theme");function _k(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function q6(){var i,r;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_k();const t=_k();if(!e)return{...t,isDisabled:!0};const n={};for(const[s,o]of Object.entries(e.themes??{})){const a=o.dark||s==="dark"?(i=t.themes)==null?void 0:i.dark:(r=t.themes)==null?void 0:r.light;n[s]=Qn(a,o)}return Qn(t,{...e,themes:n})}function G6(e){const t=q6(e),n=z(t.defaultTheme),i=z(t.themes),r=V(()=>{const c={};for(const[d,v]of Object.entries(i.value)){const m=c[d]={...v,colors:{...v.colors}};if(t.variations)for(const g of t.variations.colors){const p=m.colors[g];if(p)for(const y of["lighten","darken"]){const _=y==="lighten"?P3:V3;for(const k of fr(t.variations[y],1))m.colors[`${g}-${y}-${k}`]=kT(_(Li(p),k))}}for(const g of Object.keys(m.colors)){if(/^on-[a-z]/.test(g)||m.colors[`on-${g}`])continue;const p=`on-${g}`,y=Li(m.colors[g]);m.colors[p]=IT(y)}}return c}),s=V(()=>r.value[n.value]),o=V(()=>{var g;const c=[];(g=s.value)!=null&&g.dark&&po(c,":root",["color-scheme: dark"]),po(c,":root",bk(s.value));for(const[p,y]of Object.entries(r.value))po(c,`.v-theme--${p}`,[`color-scheme: ${y.dark?"dark":"normal"}`,...bk(y)]);const d=[],v=[],m=new Set(Object.values(r.value).flatMap(p=>Object.keys(p.colors)));for(const p of m)/^on-[a-z]/.test(p)?po(v,`.${p}`,[`color: rgb(var(--v-theme-${p})) !important`]):(po(d,`.bg-${p}`,[`--v-theme-overlay-multiplier: var(--v-theme-${p}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${p})) !important`,`color: rgb(var(--v-theme-on-${p})) !important`]),po(v,`.text-${p}`,[`color: rgb(var(--v-theme-${p})) !important`]),po(v,`.border-${p}`,[`--v-border-color: var(--v-theme-${p})`]));return c.push(...d,...v),c.map((p,y)=>y===0?p:`    ${p}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function l(c){if(t.isDisabled)return;const d=c._context.provides.usehead;if(d)if(d.push){const v=d.push(a);_t&&ye(o,()=>{v.patch(a)})}else _t?(d.addHeadObjs(V(a)),Kt(()=>d.updateDOM())):d.addHeadObjs(a());else{let m=function(){if(typeof document<"u"&&!v){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",t.cspNonce&&g.setAttribute("nonce",t.cspNonce),v=g,document.head.appendChild(v)}v&&(v.innerHTML=o.value)},v=_t?document.getElementById("vuetify-theme-stylesheet"):null;_t?ye(o,m,{immediate:!0}):m()}}const u=V(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:t.isDisabled,name:n,themes:i,current:s,computedThemes:r,themeClasses:u,styles:o,global:{name:n,current:s}}}function yt(e){Wt("provideTheme");const t=Ze(ac,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=V(()=>e.theme??t.name.value),i=V(()=>t.themes.value[n.value]),r=V(()=>t.isDisabled?void 0:`v-theme--${n.value}`),s={...t,name:n,current:i,themeClasses:r};return Ot(ac,s),s}function UT(){Wt("useTheme");const e=Ze(ac,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function po(e,t,n){e.push(`${t} {
`,...n.map(i=>`  ${i};
`),`}
`)}function bk(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[r,s]of Object.entries(e.colors)){const o=Li(s);i.push(`--v-theme-${r}: ${o.r},${o.g},${o.b}`),r.startsWith("on-")||i.push(`--v-theme-${r}-overlay-multiplier: ${rp(s)>.18?t:n}`)}for(const[r,s]of Object.entries(e.variables)){const o=typeof s=="string"&&s.startsWith("#")?Li(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;i.push(`--v-${r}: ${a??s}`)}return i}function ir(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Kf(),i=z();if(_t){const r=new ResizeObserver(s=>{e==null||e(s,r),s.length&&(t==="content"?i.value=s[0].contentRect:i.value=s[0].target.getBoundingClientRect())});kn(()=>{r.disconnect()}),ye(()=>n.el,(s,o)=>{o&&(r.unobserve(o),i.value=void 0),s&&r.observe(s)},{flush:"post"})}return{resizeRef:n,contentRect:to(i)}}const lc=Symbol.for("vuetify:layout"),HT=Symbol.for("vuetify:layout-item"),wk=1e3,jT=Q({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ua=Q({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function zT(){const e=Ze(lc);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ca(e){const t=Ze(lc);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Sn()}`,i=Wt("useLayoutItem");Ot(HT,{id:n});const r=Se(!1);Yy(()=>r.value=!0),CI(()=>r.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=t.register(i,{...e,active:V(()=>r.value?!1:e.active.value),id:n});return kn(()=>t.unregister(n)),{layoutItemStyles:s,layoutRect:t.layoutRect,layoutItemScrimStyles:o}}const K6=(e,t,n,i)=>{let r={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...r}}];for(const o of e){const a=t.get(o),l=n.get(o),u=i.get(o);if(!a||!l||!u)continue;const c={...r,[a.value]:parseInt(r[a.value],10)+(u.value?parseInt(l.value,10):0)};s.push({id:o,layer:c}),r=c}return s};function WT(e){const t=Ze(lc,null),n=V(()=>t?t.rootZIndex.value-100:wk),i=z([]),r=xn(new Map),s=xn(new Map),o=xn(new Map),a=xn(new Map),l=xn(new Map),{resizeRef:u,contentRect:c}=ir(),d=V(()=>{const R=new Map,x=e.overlaps??[];for(const w of x.filter(b=>b.includes(":"))){const[b,C]=w.split(":");if(!i.value.includes(b)||!i.value.includes(C))continue;const E=r.get(b),I=r.get(C),P=s.get(b),F=s.get(C);!E||!I||!P||!F||(R.set(C,{position:E.value,amount:parseInt(P.value,10)}),R.set(b,{position:I.value,amount:-parseInt(F.value,10)}))}return R}),v=V(()=>{const R=[...new Set([...o.values()].map(w=>w.value))].sort((w,b)=>w-b),x=[];for(const w of R){const b=i.value.filter(C=>{var E;return((E=o.get(C))==null?void 0:E.value)===w});x.push(...b)}return K6(x,r,s,a)}),m=V(()=>!Array.from(l.values()).some(R=>R.value)),g=V(()=>v.value[v.value.length-1].layer),p=V(()=>({"--v-layout-left":Te(g.value.left),"--v-layout-right":Te(g.value.right),"--v-layout-top":Te(g.value.top),"--v-layout-bottom":Te(g.value.bottom),...m.value?void 0:{transition:"none"}})),y=V(()=>v.value.slice(1).map((R,x)=>{let{id:w}=R;const{layer:b}=v.value[x],C=s.get(w),E=r.get(w);return{id:w,...b,size:Number(C.value),position:E.value}})),_=R=>y.value.find(x=>x.id===R),k=Wt("createLayout"),A=Se(!1);Qt(()=>{A.value=!0}),Ot(lc,{register:(R,x)=>{let{id:w,order:b,position:C,layoutSize:E,elementSize:I,active:P,disableTransitions:F,absolute:$}=x;o.set(w,b),r.set(w,C),s.set(w,E),a.set(w,P),F&&l.set(w,F);const K=ja(HT,k==null?void 0:k.vnode).indexOf(R);K>-1?i.value.splice(K,0,w):i.value.push(w);const U=V(()=>y.value.findIndex(J=>J.id===w)),B=V(()=>n.value+v.value.length*2-U.value*2),H=V(()=>{const J=C.value==="left"||C.value==="right",he=C.value==="right",_e=C.value==="bottom",Ce=I.value??E.value,ie=Ce===0?"%":"px",be={[C.value]:0,zIndex:B.value,transform:`translate${J?"X":"Y"}(${(P.value?0:-(Ce===0?100:Ce))*(he||_e?-1:1)}${ie})`,position:$.value||n.value!==wk?"absolute":"fixed",...m.value?void 0:{transition:"none"}};if(!A.value)return be;const xe=y.value[U.value];if(!xe)throw new Error(`[Vuetify] Could not find layout item "${w}"`);const Oe=d.value.get(w);return Oe&&(xe[Oe.position]+=Oe.amount),{...be,height:J?`calc(100% - ${xe.top}px - ${xe.bottom}px)`:I.value?`${I.value}px`:void 0,left:he?void 0:`${xe.left}px`,right:he?`${xe.right}px`:void 0,top:C.value!=="bottom"?`${xe.top}px`:void 0,bottom:C.value!=="top"?`${xe.bottom}px`:void 0,width:J?I.value?`${I.value}px`:void 0:`calc(100% - ${xe.left}px - ${xe.right}px)`}}),q=V(()=>({zIndex:B.value-1}));return{layoutItemStyles:H,layoutItemScrimStyles:q,zIndex:B}},unregister:R=>{o.delete(R),r.delete(R),s.delete(R),a.delete(R),l.delete(R),i.value=i.value.filter(x=>x!==R)},mainRect:g,mainStyles:p,getLayoutItem:_,items:y,layoutRect:c,rootZIndex:n});const T=V(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),D=V(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:T,layoutStyles:D,getLayoutItem:_,items:y,layoutRect:c,layoutRef:u}}function qT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=Qn(t,n),{aliases:r={},components:s={},directives:o={}}=i,a=O3(i.defaults),l=N6(i.display,i.ssr),u=G6(i.theme),c=z6(i.icons),d=W3(i.locale),v=O6(i.date,d),m=B6(i.goTo,d);return{install:p=>{for(const y in o)p.directive(y,o[y]);for(const y in s)p.component(y,s[y]);for(const y in r)p.component(y,Ai({...r[y],name:y,aliasName:r[y].name}));if(u.install(p),p.provide(dl,a),p.provide(op,l),p.provide(ac,u),p.provide(ap,c),p.provide(fl,d),p.provide(LT,v.options),p.provide(hk,v.instance),p.provide(NT,m),_t&&i.ssr)if(p.$nuxt)p.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:y}=p;p.mount=function(){const _=y(...arguments);return ct(()=>l.update()),p.mount=y,_}}Sn.reset(),p.mixin({computed:{$vuetify(){return xn({defaults:La.call(this,dl),display:La.call(this,op),theme:La.call(this,ac),icons:La.call(this,ap),locale:La.call(this,fl),date:La.call(this,hk)})}}})},defaults:a,display:l,theme:u,icons:c,locale:d,date:v,goTo:m}}const Y6="3.7.3";qT.version=Y6;function La(e){var i,r;const t=this.$,n=((i=t.parent)==null?void 0:i.provides)??((r=t.vnode.appContext)==null?void 0:r.provides);if(n&&e in n)return n[e]}const Q6=Q({...Pe(),...jT({fullHeight:!0}),...ot()},"VApp"),X6=re()({name:"VApp",props:Q6(),setup(e,t){let{slots:n}=t;const i=yt(e),{layoutClasses:r,getLayoutItem:s,items:o,layoutRef:a}=WT(e),{rtlClasses:l}=dn();return ue(()=>{var u;return f("div",{ref:a,class:["v-application",i.themeClasses.value,r.value,l.value,e.class],style:[e.style]},[f("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:s,items:o,theme:i}}}),Qe=Q({tag:{type:String,default:"div"}},"tag"),GT=Q({text:String,...Pe(),...Qe()},"VToolbarTitle"),w_=re()({name:"VToolbarTitle",props:GT(),setup(e,t){let{slots:n}=t;return ue(()=>{const i=!!(n.default||n.text||e.text);return f(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[i&&f("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(r=n.default)==null?void 0:r.call(n)])]}})}),{}}}),J6=Q({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function Pi(e,t,n){return re()({name:e,props:J6({mode:n,origin:t}),setup(i,r){let{slots:s}=r;const o={onBeforeEnter(a){i.origin&&(a.style.transformOrigin=i.origin)},onLeave(a){if(i.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${u}px`,a.style.width=`${c}px`,a.style.height=`${d}px`}i.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(i.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:v}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=u||"",a.style.left=c||"",a.style.width=d||"",a.style.height=v||""}}};return()=>{const a=i.group?s_:kr;return ci(a,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:o},s.default)}}})}function KT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return re()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,r){let{slots:s}=r;const o=i.group?s_:kr;return()=>ci(o,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},s.default)}})}function YT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=vi(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[i]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,e&&o._parent&&o._parent.classList.add(e),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[i]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:r,onLeaveCancelled:r};function r(o){e&&o._parent&&o._parent.classList.remove(e),s(o)}function s(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const Z6=Q({target:[Object,Array]},"v-dialog-transition"),kv=re()({name:"VDialogTransition",props:Z6(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(r){r.style.pointerEvents="none",r.style.visibility="hidden"},async onEnter(r,s){var v;await new Promise(m=>requestAnimationFrame(m)),await new Promise(m=>requestAnimationFrame(m)),r.style.visibility="";const{x:o,y:a,sx:l,sy:u,speed:c}=Sk(e.target,r),d=Io(r,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0},{}],{duration:225*c,easing:F3});(v=kk(r))==null||v.forEach(m=>{Io(m,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:oc})}),d.finished.then(()=>s())},onAfterEnter(r){r.style.removeProperty("pointer-events")},onBeforeLeave(r){r.style.pointerEvents="none"},async onLeave(r,s){var v;await new Promise(m=>requestAnimationFrame(m));const{x:o,y:a,sx:l,sy:u,speed:c}=Sk(e.target,r);Io(r,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${u})`,opacity:0}],{duration:125*c,easing:B3}).finished.then(()=>s()),(v=kk(r))==null||v.forEach(m=>{Io(m,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:oc})})},onAfterLeave(r){r.style.removeProperty("pointer-events")}};return()=>e.target?f(kr,oe({name:"dialog-transition"},i,{css:!1}),n):f(kr,{name:"dialog-transition"},n)}});function kk(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Sk(e,t){const n=mT(e),i=f_(t),[r,s]=getComputedStyle(t).transformOrigin.split(" ").map(_=>parseFloat(_)),[o,a]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let u=n.top+n.height/2;o==="top"||a==="top"?u-=n.height/2:(o==="bottom"||a==="bottom")&&(u+=n.height/2);const c=n.width/i.width,d=n.height/i.height,v=Math.max(1,c,d),m=c/v||0,g=d/v||0,p=i.width*i.height/(window.innerWidth*window.innerHeight),y=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(r+i.left),y:u-(s+i.top),sx:m,sy:g,speed:y}}const eL=Pi("fab-transition","center center","out-in"),tL=Pi("dialog-bottom-transition"),nL=Pi("dialog-top-transition"),uc=Pi("fade-transition"),k_=Pi("scale-transition"),iL=Pi("scroll-x-transition"),rL=Pi("scroll-x-reverse-transition"),sL=Pi("scroll-y-transition"),oL=Pi("scroll-y-reverse-transition"),aL=Pi("slide-x-transition"),lL=Pi("slide-x-reverse-transition"),S_=Pi("slide-y-transition"),uL=Pi("slide-y-reverse-transition"),Sv=KT("expand-transition",YT()),C_=KT("expand-x-transition",YT("",!0)),cL=Q({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),nt=re(!1)({name:"VDefaultsProvider",props:cL(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:r,reset:s,root:o,scoped:a}=aa(e);return zt(i,{reset:s,root:o,scoped:a,disabled:r}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}}),rn=Q({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function sn(e){return{dimensionStyles:V(()=>{const n={},i=Te(e.height),r=Te(e.maxHeight),s=Te(e.maxWidth),o=Te(e.minHeight),a=Te(e.minWidth),l=Te(e.width);return i!=null&&(n.height=i),r!=null&&(n.maxHeight=r),s!=null&&(n.maxWidth=s),o!=null&&(n.minHeight=o),a!=null&&(n.minWidth=a),l!=null&&(n.width=l),n})}}function dL(e){return{aspectStyles:V(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const QT=Q({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Pe(),...rn()},"VResponsive"),up=re()({name:"VResponsive",props:QT(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=dL(e),{dimensionStyles:r}=sn(e);return ue(()=>{var s;return f("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[r.value,e.style]},[f("div",{class:"v-responsive__sizer",style:i.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&f("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function E_(e){return c_(()=>{const t=[],n={};if(e.value.background)if(ip(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&T3(e.value.background)){const i=Li(e.value.background);if(i.a==null||i.a===1){const r=IT(i);n.color=r,n.caretColor=r}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(ip(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function On(e,t){const n=V(()=>({text:Vt(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=E_(n);return{textColorClasses:i,textColorStyles:r}}function It(e,t){const n=V(()=>({background:Vt(e)?e.value:t?e[t]:null})),{colorClasses:i,colorStyles:r}=E_(n);return{backgroundColorClasses:i,backgroundColorStyles:r}}const Nt=Q({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function qt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();return{roundedClasses:V(()=>{const i=Vt(e)?e.value:e.rounded,r=Vt(e)?e.value:e.tile,s=[];if(i===!0||i==="")s.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const o of String(i).split(" "))s.push(`rounded-${o}`);else(r||i===!1)&&s.push("rounded-0");return s})}}const ar=Q({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),Xn=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:r,group:s,...o}=e,{component:a=s?s_:kr,...l}=typeof i=="object"?i:{};return ci(a,oe(typeof i=="string"?{name:r?"":i}:l,typeof i=="string"?{}:Object.fromEntries(Object.entries({disabled:r,group:s}).filter(u=>{let[c,d]=u;return d!==void 0})),o),n)};function fL(e,t){if(!o_)return;const n=t.modifiers||{},i=t.value,{handler:r,options:s}=typeof i=="object"?i:{handler:i,options:{}},o=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=e._observe)==null?void 0:d[t.instance.$.uid];if(!u)return;const c=a.some(v=>v.isIntersecting);r&&(!n.quiet||u.init)&&(!n.once||c||u.init)&&r(c,a,l),c&&n.once?XT(e,t):u.init=!0},s);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:o},o.observe(e)}function XT(e,t){var i;const n=(i=e._observe)==null?void 0:i[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const jc={mounted:fL,unmounted:XT},JT=Q({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...QT(),...Pe(),...Nt(),...ar()},"VImg"),ts=re()({name:"VImg",directives:{intersect:jc},props:JT(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=It(ee(e,"color")),{roundedClasses:o}=qt(e),a=Wt("VImg"),l=Se(""),u=z(),c=Se(e.eager?"loading":"idle"),d=Se(),v=Se(),m=V(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),g=V(()=>m.value.aspect||d.value/v.value||0);ye(()=>e.src,()=>{p(c.value!=="idle")}),ye(g,(I,P)=>{!I&&P&&u.value&&T(u.value)}),dv(()=>p());function p(I){if(!(e.eager&&I)&&!(o_&&!I&&!e.eager)){if(c.value="loading",m.value.lazySrc){const P=new Image;P.src=m.value.lazySrc,T(P,null)}m.value.src&&ct(()=>{var P;n("loadstart",((P=u.value)==null?void 0:P.currentSrc)||m.value.src),setTimeout(()=>{var F;if(!a.isUnmounted)if((F=u.value)!=null&&F.complete){if(u.value.naturalWidth||_(),c.value==="error")return;g.value||T(u.value,null),c.value==="loading"&&y()}else g.value||T(u.value),k()})})}}function y(){var I;a.isUnmounted||(k(),T(u.value),c.value="loaded",n("load",((I=u.value)==null?void 0:I.currentSrc)||m.value.src))}function _(){var I;a.isUnmounted||(c.value="error",n("error",((I=u.value)==null?void 0:I.currentSrc)||m.value.src))}function k(){const I=u.value;I&&(l.value=I.currentSrc||I.src)}let A=-1;kn(()=>{clearTimeout(A)});function T(I){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const F=()=>{if(clearTimeout(A),a.isUnmounted)return;const{naturalHeight:$,naturalWidth:j}=I;$||j?(d.value=j,v.value=$):!I.complete&&c.value==="loading"&&P!=null?A=window.setTimeout(F,P):(I.currentSrc.endsWith(".svg")||I.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,v.value=1)};F()}const D=V(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),R=()=>{var F;if(!m.value.src||c.value==="idle")return null;const I=f("img",{class:["v-img__img",D.value],style:{objectPosition:e.position},src:m.value.src,srcset:m.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:u,onLoad:y,onError:_},null),P=(F=i.sources)==null?void 0:F.call(i);return f(Xn,{transition:e.transition,appear:!0},{default:()=>[xt(P?f("picture",{class:"v-img__picture"},[P,I]):I,[[xi,c.value==="loaded"]])]})},x=()=>f(Xn,{transition:e.transition},{default:()=>[m.value.lazySrc&&c.value!=="loaded"&&f("img",{class:["v-img__img","v-img__img--preload",D.value],style:{objectPosition:e.position},src:m.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),w=()=>i.placeholder?f(Xn,{transition:e.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!i.error)&&f("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,b=()=>i.error?f(Xn,{transition:e.transition,appear:!0},{default:()=>[c.value==="error"&&f("div",{class:"v-img__error"},[i.error()])]}):null,C=()=>e.gradient?f("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,E=Se(!1);{const I=ye(g,P=>{P&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.value=!0})}),I())})}return ue(()=>{const I=up.filterProps(e);return xt(f(up,oe({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!E.value},r.value,o.value,e.class],style:[{width:Te(e.width==="auto"?d.value:e.width)},s.value,e.style]},I,{aspectRatio:g.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>f(le,null,[f(R,null,null),f(x,null,null),f(C,null,null),f(w,null,null),f(b,null,null)]),default:i.default}),[[mi("intersect"),{handler:p,options:e.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:v}}}),gi=Q({border:[Boolean,Number,String]},"border");function Vi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();return{borderClasses:V(()=>{const i=Vt(e)?e.value:e.border,r=[];if(i===!0||i==="")r.push(`${t}--border`);else if(typeof i=="string"||i===0)for(const s of String(i).split(" "))r.push(`border-${s}`);return r})}}const fn=Q({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Cn(e){return{elevationClasses:V(()=>{const n=Vt(e)?e.value:e.elevation,i=[];return n==null||i.push(`elevation-${n}`),i})}}const hL=[null,"prominent","default","comfortable","compact"],ZT=Q({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>hL.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...gi(),...Pe(),...fn(),...Nt(),...Qe({tag:"header"}),...ot()},"VToolbar"),cp=re()({name:"VToolbar",props:ZT(),setup(e,t){var m;let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=It(ee(e,"color")),{borderClasses:s}=Vi(e),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e),{themeClasses:l}=yt(e),{rtlClasses:u}=dn(),c=Se(!!(e.extended||(m=n.extension)!=null&&m.call(n))),d=V(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),v=V(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return zt({VBtn:{variant:"text"}}),ue(()=>{var _;const g=!!(e.title||n.title),p=!!(n.image||e.image),y=(_=n.extension)==null?void 0:_.call(n);return c.value=!!(e.extended||y),f(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,s.value,o.value,a.value,l.value,u.value,e.class],style:[r.value,e.style]},{default:()=>[p&&f("div",{key:"image",class:"v-toolbar__image"},[n.image?f(nt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):f(ts,{key:"image-img",cover:!0,src:e.image},null)]),f(nt,{defaults:{VTabs:{height:Te(d.value)}}},{default:()=>{var k,A,T;return[f("div",{class:"v-toolbar__content",style:{height:Te(d.value)}},[n.prepend&&f("div",{class:"v-toolbar__prepend"},[(k=n.prepend)==null?void 0:k.call(n)]),g&&f(w_,{key:"title",text:e.title},{text:n.title}),(A=n.default)==null?void 0:A.call(n),n.append&&f("div",{class:"v-toolbar__append"},[(T=n.append)==null?void 0:T.call(n)])])]}}),f(nt,{defaults:{VTabs:{height:Te(v.value)}}},{default:()=>[f(Sv,null,{default:()=>[c.value&&f("div",{class:"v-toolbar__extension",style:{height:Te(v.value)}},[y])]})]})]})}),{contentHeight:d,extensionHeight:v}}}),vL=Q({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function mL(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,r=0;const s=z(null),o=Se(0),a=Se(0),l=Se(0),u=Se(!1),c=Se(!1),d=V(()=>Number(e.scrollThreshold)),v=V(()=>Zt((d.value-o.value)/d.value||0)),m=()=>{const g=s.value;if(!g||n&&!n.value)return;i=o.value,o.value="window"in g?g.pageYOffset:g.scrollTop;const p=g instanceof Window?document.documentElement.scrollHeight:g.scrollHeight;if(r!==p){r=p;return}c.value=o.value<i,l.value=Math.abs(o.value-d.value)};return ye(c,()=>{a.value=a.value||o.value}),ye(u,()=>{a.value=0}),Qt(()=>{ye(()=>e.scrollTarget,g=>{var y;const p=g?document.querySelector(g):window;p&&p!==s.value&&((y=s.value)==null||y.removeEventListener("scroll",m),s.value=p,s.value.addEventListener("scroll",m,{passive:!0}))},{immediate:!0})}),kn(()=>{var g;(g=s.value)==null||g.removeEventListener("scroll",m)}),n&&ye(n,m,{immediate:!0}),{scrollThreshold:d,currentScroll:o,currentThreshold:l,isScrollActive:u,scrollRatio:v,isScrollingUp:c,savedScroll:a}}function da(){const e=Se(!1);return Qt(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:V(()=>e.value?void 0:{transition:"none !important"}),isBooted:to(e)}}const gL=Q({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ZT(),...ua(),...vL(),height:{type:[Number,String],default:64}},"VAppBar"),pL=re()({name:"VAppBar",props:gL(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=z(),r=Fe(e,"modelValue"),s=V(()=>{var A;const k=new Set(((A=e.scrollBehavior)==null?void 0:A.split(" "))??[]);return{hide:k.has("hide"),fullyHide:k.has("fully-hide"),inverted:k.has("inverted"),collapse:k.has("collapse"),elevate:k.has("elevate"),fadeImage:k.has("fade-image")}}),o=V(()=>{const k=s.value;return k.hide||k.fullyHide||k.inverted||k.collapse||k.elevate||k.fadeImage||!r.value}),{currentScroll:a,scrollThreshold:l,isScrollingUp:u,scrollRatio:c}=mL(e,{canScroll:o}),d=V(()=>s.value.hide||s.value.fullyHide),v=V(()=>e.collapse||s.value.collapse&&(s.value.inverted?c.value>0:c.value===0)),m=V(()=>e.flat||s.value.fullyHide&&!r.value||s.value.elevate&&(s.value.inverted?a.value>0:a.value===0)),g=V(()=>s.value.fadeImage?s.value.inverted?1-c.value:c.value:void 0),p=V(()=>{var T,D;if(s.value.hide&&s.value.inverted)return 0;const k=((T=i.value)==null?void 0:T.contentHeight)??0,A=((D=i.value)==null?void 0:D.extensionHeight)??0;return d.value?a.value<l.value||s.value.fullyHide?k+A:k:k+A});ai(V(()=>!!e.scrollBehavior),()=>{Kt(()=>{d.value?s.value.inverted?r.value=a.value>l.value:r.value=u.value||a.value<l.value:r.value=!0})});const{ssrBootStyles:y}=da(),{layoutItemStyles:_}=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:ee(e,"location"),layoutSize:p,elementSize:Se(void 0),active:r,absolute:ee(e,"absolute")});return ue(()=>{const k=cp.filterProps(e);return f(cp,oe({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{..._.value,"--v-toolbar-image-opacity":g.value,height:void 0,...y.value},e.style]},k,{collapse:v.value,flat:m.value}),n)}),{}}}),yL=[null,"default","comfortable","compact"],hn=Q({density:{type:String,default:"default",validator:e=>yL.includes(e)}},"density");function ti(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();return{densityClasses:V(()=>`${t}--density-${e.density}`)}}const _L=["elevated","flat","tonal","outlined","text","plain"];function io(e,t){return f(le,null,[e&&f("span",{key:"overlay",class:`${t}__overlay`},null),f("span",{key:"underlay",class:`${t}__underlay`},null)])}const Wi=Q({color:String,variant:{type:String,default:"elevated",validator:e=>_L.includes(e)}},"variant");function fa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();const n=V(()=>{const{variant:s}=se(e);return`${t}--variant-${s}`}),{colorClasses:i,colorStyles:r}=E_(V(()=>{const{variant:s,color:o}=se(e);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:i,colorStyles:r,variantClasses:n}}const ex=Q({baseColor:String,divided:Boolean,...gi(),...Pe(),...hn(),...fn(),...Nt(),...Qe(),...ot(),...Wi()},"VBtnGroup"),dp=re()({name:"VBtnGroup",props:ex(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{densityClasses:r}=ti(e),{borderClasses:s}=Vi(e),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e);zt({VBtn:{height:"auto",baseColor:ee(e,"baseColor"),color:ee(e,"color"),density:ee(e,"density"),flat:!0,variant:ee(e,"variant")}}),ue(()=>f(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,s.value,r.value,o.value,a.value,e.class],style:e.style},n))}}),ha=Q({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),va=Q({value:null,disabled:Boolean,selectedClass:String},"group-item");function ma(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=Wt("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const r=Sn();Ot(Symbol.for(`${t.description}:id`),r);const s=Ze(t,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const o=ee(e,"value"),a=V(()=>!!(s.disabled.value||e.disabled));s.register({id:r,value:o,disabled:a},i),kn(()=>{s.unregister(r)});const l=V(()=>s.isSelected(r)),u=V(()=>s.items.value[0].id===r),c=V(()=>s.items.value[s.items.value.length-1].id===r),d=V(()=>l.value&&[s.selectedClass.value,e.selectedClass]);return ye(l,v=>{i.emit("group:selected",{value:v})},{flush:"sync"}),{id:r,isSelected:l,isFirst:u,isLast:c,toggle:()=>s.select(r,!l.value),select:v=>s.select(r,v),selectedClass:d,value:o,disabled:a,group:s}}function ro(e,t){let n=!1;const i=xn([]),r=Fe(e,"modelValue",[],v=>v==null?[]:tx(i,Ht(v)),v=>{const m=wL(i,v);return e.multiple?m:m[0]}),s=Wt("useGroup");function o(v,m){const g=v,p=Symbol.for(`${t.description}:id`),_=ja(p,s==null?void 0:s.vnode).indexOf(m);se(g.value)==null&&(g.value=_,g.useIndexAsValue=!0),_>-1?i.splice(_,0,g):i.push(g)}function a(v){if(n)return;l();const m=i.findIndex(g=>g.id===v);i.splice(m,1)}function l(){const v=i.find(m=>!m.disabled);v&&e.mandatory==="force"&&!r.value.length&&(r.value=[v.id])}Qt(()=>{l()}),kn(()=>{n=!0}),Qy(()=>{for(let v=0;v<i.length;v++)i[v].useIndexAsValue&&(i[v].value=v)});function u(v,m){const g=i.find(p=>p.id===v);if(!(m&&(g!=null&&g.disabled)))if(e.multiple){const p=r.value.slice(),y=p.findIndex(k=>k===v),_=~y;if(m=m??!_,_&&e.mandatory&&p.length<=1||!_&&e.max!=null&&p.length+1>e.max)return;y<0&&m?p.push(v):y>=0&&!m&&p.splice(y,1),r.value=p}else{const p=r.value.includes(v);if(e.mandatory&&p)return;r.value=m??!p?[v]:[]}}function c(v){if(e.multiple,r.value.length){const m=r.value[0],g=i.findIndex(_=>_.id===m);let p=(g+v)%i.length,y=i[p];for(;y.disabled&&p!==g;)p=(p+v)%i.length,y=i[p];if(y.disabled)return;r.value=[i[p].id]}else{const m=i.find(g=>!g.disabled);m&&(r.value=[m.id])}}const d={register:o,unregister:a,selected:r,select:u,disabled:ee(e,"disabled"),prev:()=>c(i.length-1),next:()=>c(1),isSelected:v=>r.value.includes(v),selectedClass:V(()=>e.selectedClass),items:V(()=>i),getItemIndex:v=>bL(i,v)};return Ot(t,d),d}function bL(e,t){const n=tx(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function tx(e,t){const n=[];return t.forEach(i=>{const r=e.find(o=>Pr(i,o.value)),s=e[i];(r==null?void 0:r.value)!=null?n.push(r.id):s!=null&&n.push(s.id)}),n}function wL(e,t){const n=[];return t.forEach(i=>{const r=e.findIndex(s=>s.id===i);if(~r){const s=e[r];n.push(s.value!=null?s.value:r)}}),n}const I_=Symbol.for("vuetify:v-btn-toggle"),kL=Q({...ex(),...ha()},"VBtnToggle"),SL=re()({name:"VBtnToggle",props:kL(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:r,prev:s,select:o,selected:a}=ro(e,I_);return ue(()=>{const l=dp.filterProps(e);return f(dp,oe({class:["v-btn-toggle",e.class]},l,{style:e.style}),{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:i,next:r,prev:s,select:o,selected:a})]}})}),{next:r,prev:s,select:o}}}),CL=["x-small","small","default","large","x-large"],Dr=Q({size:{type:[String,Number],default:"default"}},"size");function Dl(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();return c_(()=>{let n,i;return Gf(CL,e.size)?n=`${t}--size-${e.size}`:e.size&&(i={width:Te(e.size),height:Te(e.size)}),{sizeClasses:n,sizeStyles:i}})}const EL=Q({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:We,...Pe(),...Dr(),...Qe({tag:"i"}),...ot()},"VIcon"),pt=re()({name:"VIcon",props:EL(),setup(e,t){let{attrs:n,slots:i}=t;const r=z(),{themeClasses:s}=yt(e),{iconData:o}=W6(V(()=>r.value||e.icon)),{sizeClasses:a}=Dl(e),{textColorClasses:l,textColorStyles:u}=On(ee(e,"color"));return ue(()=>{var v,m;const c=(v=i.default)==null?void 0:v.call(i);c&&(r.value=(m=cT(c).filter(g=>g.type===$c&&g.children&&typeof g.children=="string")[0])==null?void 0:m.children);const d=!!(n.onClick||n.onClickOnce);return f(o.value.component,{tag:e.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[a.value?void 0:{fontSize:Te(e.size),height:Te(e.size),width:Te(e.size)},u.value,e.style],role:d?"button":void 0,"aria-hidden":!d,tabindex:d?e.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function Cv(e,t){const n=z(),i=Se(!1);if(o_){const r=new IntersectionObserver(s=>{i.value=!!s.find(o=>o.isIntersecting)},t);kn(()=>{r.disconnect()}),ye(n,(s,o)=>{o&&(r.unobserve(o),i.value=!1),s&&r.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const IL=Q({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Pe(),...Dr(),...Qe({tag:"div"}),...ot()},"VProgressCircular"),hl=re()({name:"VProgressCircular",props:IL(),setup(e,t){let{slots:n}=t;const i=20,r=2*Math.PI*i,s=z(),{themeClasses:o}=yt(e),{sizeClasses:a,sizeStyles:l}=Dl(e),{textColorClasses:u,textColorStyles:c}=On(ee(e,"color")),{textColorClasses:d,textColorStyles:v}=On(ee(e,"bgColor")),{intersectionRef:m,isIntersecting:g}=Cv(),{resizeRef:p,contentRect:y}=ir(),_=V(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),k=V(()=>Number(e.width)),A=V(()=>l.value?Number(e.size):y.value?y.value.width:Math.max(k.value,32)),T=V(()=>i/(1-k.value/A.value)*2),D=V(()=>k.value/A.value*T.value),R=V(()=>Te((100-_.value)/100*r));return Kt(()=>{m.value=s.value,p.value=s.value}),ue(()=>f(e.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,a.value,u.value,e.class],style:[l.value,c.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:_.value},{default:()=>[f("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${T.value} ${T.value}`},[f("circle",{class:["v-progress-circular__underlay",d.value],style:v.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":D.value,"stroke-dasharray":r,"stroke-dashoffset":0},null),f("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":D.value,"stroke-dasharray":r,"stroke-dashoffset":R.value},null)]),n.default&&f("div",{class:"v-progress-circular__content"},[n.default({value:_.value})])]})),{}}}),Ck={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},vs=Q({location:String},"location");function ga(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=dn();return{locationStyles:V(()=>{if(!e.location)return{};const{side:s,align:o}=tp(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function a(u){return n?n(u):0}const l={};return s!=="center"&&(t?l[Ck[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?t?l[Ck[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const TL=Q({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Pe(),...vs({location:"top"}),...Nt(),...Qe(),...ot()},"VProgressLinear"),Ev=re()({name:"VProgressLinear",props:TL(),emits:{"update:modelValue":e=>!0},setup(e,t){var E;let{slots:n}=t;const i=Fe(e,"modelValue"),{isRtl:r,rtlClasses:s}=dn(),{themeClasses:o}=yt(e),{locationStyles:a}=ga(e),{textColorClasses:l,textColorStyles:u}=On(e,"color"),{backgroundColorClasses:c,backgroundColorStyles:d}=It(V(()=>e.bgColor||e.color)),{backgroundColorClasses:v,backgroundColorStyles:m}=It(V(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:g,backgroundColorStyles:p}=It(e,"color"),{roundedClasses:y}=qt(e),{intersectionRef:_,isIntersecting:k}=Cv(),A=V(()=>parseFloat(e.max)),T=V(()=>parseFloat(e.height)),D=V(()=>Zt(parseFloat(e.bufferValue)/A.value*100,0,100)),R=V(()=>Zt(parseFloat(i.value)/A.value*100,0,100)),x=V(()=>r.value!==e.reverse),w=V(()=>e.indeterminate?"fade-transition":"slide-x-transition"),b=_t&&((E=window.matchMedia)==null?void 0:E.call(window,"(forced-colors: active)").matches);function C(I){if(!_.value)return;const{left:P,right:F,width:$}=_.value.getBoundingClientRect(),j=x.value?$-I.clientX+(F-$):I.clientX-P;i.value=Math.round(j/$*A.value)}return ue(()=>f(e.tag,{ref:_,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&k.value,"v-progress-linear--reverse":x.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},y.value,o.value,s.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Te(T.value):0,"--v-progress-linear-height":Te(T.value),...e.absolute?a.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:R.value,onClick:e.clickable&&C},{default:()=>[e.stream&&f("div",{key:"stream",class:["v-progress-linear__stream",l.value],style:{...u.value,[x.value?"left":"right"]:Te(-T.value),borderTop:`${Te(T.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Te(T.value/4)})`,width:Te(100-D.value,"%"),"--v-progress-linear-stream-to":Te(T.value*(x.value?1:-1))}},null),f("div",{class:["v-progress-linear__background",b?void 0:c.value],style:[d.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),f("div",{class:["v-progress-linear__buffer",b?void 0:v.value],style:[m.value,{opacity:parseFloat(e.bufferOpacity),width:Te(D.value,"%")}]},null),f(kr,{name:w.value},{default:()=>[e.indeterminate?f("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(I=>f("div",{key:I,class:["v-progress-linear__indeterminate",I,b?void 0:g.value],style:p.value},null))]):f("div",{class:["v-progress-linear__determinate",b?void 0:g.value],style:[p.value,{width:Te(R.value,"%")}]},null)]}),n.default&&f("div",{class:"v-progress-linear__content"},[n.default({value:R.value,buffer:D.value})])]})),{}}}),Iv=Q({loading:[Boolean,String]},"loader");function zc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();return{loaderClasses:V(()=>({[`${t}--loading`]:e.loading}))}}function Wc(e,t){var i;let{slots:n}=t;return f("div",{class:`${e.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:e.color,isActive:e.active}))||f(Ev,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const xL=["static","relative","fixed","absolute","sticky"],Ol=Q({position:{type:String,validator:e=>xL.includes(e)}},"position");function Ll(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();return{positionClasses:V(()=>e.position?`${t}--${e.position}`:void 0)}}function AL(){const e=Wt("useRoute");return V(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function nx(){var e,t;return(t=(e=Wt("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function qc(e,t){var d,v;const n=Ji("RouterLink"),i=V(()=>!!(e.href||e.to)),r=V(()=>(i==null?void 0:i.value)||Kw(t,"click")||Kw(e,"click"));if(typeof n=="string"||!("useLink"in n)){const m=ee(e,"href");return{isLink:i,isClickable:r,href:m,linkProps:xn({href:m})}}const s=V(()=>({...e,to:ee(()=>e.to||"")})),o=n.useLink(s.value),a=V(()=>e.to?o:void 0),l=AL(),u=V(()=>{var m,g,p;return a.value?e.exact?l.value?((p=a.value.isExactActive)==null?void 0:p.value)&&Pr(a.value.route.value.query,l.value.query):((g=a.value.isExactActive)==null?void 0:g.value)??!1:((m=a.value.isActive)==null?void 0:m.value)??!1:!1}),c=V(()=>{var m;return e.to?(m=a.value)==null?void 0:m.route.value.href:e.href});return{isLink:i,isClickable:r,isActive:u,route:(d=a.value)==null?void 0:d.route,navigate:(v=a.value)==null?void 0:v.navigate,href:c,linkProps:xn({href:c,"aria-current":V(()=>u.value?"page":void 0)})}}const Gc=Q({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let rg=!1;function PL(e,t){let n=!1,i,r;_t&&(ct(()=>{window.addEventListener("popstate",s),i=e==null?void 0:e.beforeEach((o,a,l)=>{rg?n?t(l):l():setTimeout(()=>n?t(l):l()),rg=!0}),r=e==null?void 0:e.afterEach(()=>{rg=!1})}),wn(()=>{window.removeEventListener("popstate",s),i==null||i(),r==null||r()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}function VL(e,t){ye(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&ct(()=>{t(!0)})},{immediate:!0})}const fp=Symbol("rippleStop"),RL=80;function Ek(e,t){e.style.transform=t,e.style.webkitTransform=t}function hp(e){return e.constructor.name==="TouchEvent"}function ix(e){return e.constructor.name==="KeyboardEvent"}const DL=function(e,t){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,r=0;if(!ix(e)){const v=t.getBoundingClientRect(),m=hp(e)?e.touches[e.touches.length-1]:e;i=m.clientX-v.left,r=m.clientY-v.top}let s=0,o=.3;(d=t._ripple)!=null&&d.circle?(o=.15,s=t.clientWidth/2,s=n.center?s:s+Math.sqrt((i-s)**2+(r-s)**2)/4):s=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const a=`${(t.clientWidth-s*2)/2}px`,l=`${(t.clientHeight-s*2)/2}px`,u=n.center?a:`${i-s}px`,c=n.center?l:`${r-s}px`;return{radius:s,scale:o,x:u,y:c,centerX:a,centerY:l}},Zf={show(e,t){var m;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((m=t==null?void 0:t._ripple)!=null&&m.enabled))return;const i=document.createElement("span"),r=document.createElement("span");i.appendChild(r),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:u,centerY:c}=DL(e,t,n),d=`${s*2}px`;r.className="v-ripple__animation",r.style.width=d,r.style.height=d,t.appendChild(i);const v=window.getComputedStyle(t);v&&v.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),Ek(r,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),Ek(r,`translate(${u}, ${c}) scale3d(1,1,1)`)},0)},hide(e){var s;if(!((s=e==null?void 0:e._ripple)!=null&&s.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),r=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===e&&e.removeChild(n.parentNode)},300)},r)}};function rx(e){return typeof e>"u"||!!e}function cc(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[fp])){if(e[fp]=!0,hp(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||ix(e),n._ripple.class&&(t.class=n._ripple.class),hp(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Zf.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},RL)}else Zf.show(e,n,t)}}function Ik(e){e[fp]=!0}function bi(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{bi(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Zf.hide(t)}}function sx(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let dc=!1;function ox(e){!dc&&(e.keyCode===jw.enter||e.keyCode===jw.space)&&(dc=!0,cc(e))}function ax(e){dc=!1,bi(e)}function lx(e){dc&&(dc=!1,bi(e))}function ux(e,t,n){const{value:i,modifiers:r}=t,s=rx(i);if(s||Zf.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=s,e._ripple.centered=r.center,e._ripple.circle=r.circle,a_(i)&&i.class&&(e._ripple.class=i.class),s&&!n){if(r.stop){e.addEventListener("touchstart",Ik,{passive:!0}),e.addEventListener("mousedown",Ik);return}e.addEventListener("touchstart",cc,{passive:!0}),e.addEventListener("touchend",bi,{passive:!0}),e.addEventListener("touchmove",sx,{passive:!0}),e.addEventListener("touchcancel",bi),e.addEventListener("mousedown",cc),e.addEventListener("mouseup",bi),e.addEventListener("mouseleave",bi),e.addEventListener("keydown",ox),e.addEventListener("keyup",ax),e.addEventListener("blur",lx),e.addEventListener("dragstart",bi,{passive:!0})}else!s&&n&&cx(e)}function cx(e){e.removeEventListener("mousedown",cc),e.removeEventListener("touchstart",cc),e.removeEventListener("touchend",bi),e.removeEventListener("touchmove",sx),e.removeEventListener("touchcancel",bi),e.removeEventListener("mouseup",bi),e.removeEventListener("mouseleave",bi),e.removeEventListener("keydown",ox),e.removeEventListener("keyup",ax),e.removeEventListener("dragstart",bi),e.removeEventListener("blur",lx)}function OL(e,t){ux(e,t,!1)}function LL(e){delete e._ripple,cx(e)}function ML(e,t){if(t.value===t.oldValue)return;const n=rx(t.oldValue);ux(e,t,n)}const ms={mounted:OL,unmounted:LL,updated:ML},Tv=Q({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:I_},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:We,appendIcon:We,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...gi(),...Pe(),...hn(),...rn(),...fn(),...va(),...Iv(),...vs(),...Ol(),...Nt(),...Gc(),...Dr(),...Qe({tag:"button"}),...ot(),...Wi({variant:"elevated"})},"VBtn"),gt=re()({name:"VBtn",props:Tv(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=yt(e),{borderClasses:s}=Vi(e),{densityClasses:o}=ti(e),{dimensionStyles:a}=sn(e),{elevationClasses:l}=Cn(e),{loaderClasses:u}=zc(e),{locationStyles:c}=ga(e),{positionClasses:d}=Ll(e),{roundedClasses:v}=qt(e),{sizeClasses:m,sizeStyles:g}=Dl(e),p=ma(e,e.symbol,!1),y=qc(e,n),_=V(()=>{var E;return e.active!==void 0?e.active:y.isLink.value?(E=y.isActive)==null?void 0:E.value:p==null?void 0:p.isSelected.value}),k=V(()=>_.value?e.activeColor??e.color:e.color),A=V(()=>{var I,P;return{color:(p==null?void 0:p.isSelected.value)&&(!y.isLink.value||((I=y.isActive)==null?void 0:I.value))||!p||((P=y.isActive)==null?void 0:P.value)?k.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:T,colorStyles:D,variantClasses:R}=fa(A),x=V(()=>(p==null?void 0:p.disabled.value)||e.disabled),w=V(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),b=V(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function C(E){var I;x.value||y.isLink.value&&(E.metaKey||E.ctrlKey||E.shiftKey||E.button!==0||n.target==="_blank")||((I=y.navigate)==null||I.call(y,E),p==null||p.toggle())}return VL(y,p==null?void 0:p.select),ue(()=>{const E=y.isLink.value?"a":e.tag,I=!!(e.prependIcon||i.prepend),P=!!(e.appendIcon||i.append),F=!!(e.icon&&e.icon!==!0);return xt(f(E,oe({type:E==="a"?void 0:"button",class:["v-btn",p==null?void 0:p.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":e.block,"v-btn--disabled":x.value,"v-btn--elevated":w.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},r.value,s.value,T.value,o.value,l.value,u.value,d.value,v.value,m.value,R.value,e.class],style:[D.value,a.value,c.value,g.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:x.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:C,value:b.value},y.linkProps),{default:()=>{var $;return[io(!0,"v-btn"),!e.icon&&I&&f("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?f(nt,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):f(pt,{key:"prepend-icon",icon:e.prependIcon},null)]),f("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&F?f(pt,{key:"content-icon",icon:e.icon},null):f(nt,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var j;return[((j=i.default)==null?void 0:j.call(i))??e.text]}})]),!e.icon&&P&&f("span",{key:"append",class:"v-btn__append"},[i.append?f(nt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):f(pt,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&f("span",{key:"loader",class:"v-btn__loader"},[(($=i.loader)==null?void 0:$.call(i))??f(hl,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[ms,!x.value&&e.ripple,"",{center:!!e.icon}]])}),{group:p}}}),NL=Q({...Tv({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),FL=re()({name:"VAppBarNavIcon",props:NL(),setup(e,t){let{slots:n}=t;return ue(()=>f(gt,oe(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),BL=re()({name:"VAppBarTitle",props:GT(),setup(e,t){let{slots:n}=t;return ue(()=>f(w_,oe(e,{class:"v-app-bar-title"}),n)),{}}}),dx=Rr("v-alert-title"),$L=["success","info","warning","error"],UL=Q({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:We,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>$L.includes(e)},...Pe(),...hn(),...rn(),...fn(),...vs(),...Ol(),...Nt(),...Qe(),...ot(),...Wi({variant:"flat"})},"VAlert"),HL=re()({name:"VAlert",props:UL(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Fe(e,"modelValue"),s=V(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),o=V(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:a}=yt(e),{colorClasses:l,colorStyles:u,variantClasses:c}=fa(o),{densityClasses:d}=ti(e),{dimensionStyles:v}=sn(e),{elevationClasses:m}=Cn(e),{locationStyles:g}=ga(e),{positionClasses:p}=Ll(e),{roundedClasses:y}=qt(e),{textColorClasses:_,textColorStyles:k}=On(ee(e,"borderColor")),{t:A}=Xt(),T=V(()=>({"aria-label":A(e.closeLabel),onClick(D){r.value=!1,n("click:close",D)}}));return()=>{const D=!!(i.prepend||s.value),R=!!(i.title||e.title),x=!!(i.close||e.closable);return r.value&&f(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},a.value,l.value,d.value,m.value,p.value,y.value,c.value,e.class],style:[u.value,v.value,g.value,e.style],role:"alert"},{default:()=>{var w,b;return[io(!1,"v-alert"),e.border&&f("div",{key:"border",class:["v-alert__border",_.value],style:k.value},null),D&&f("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?f(nt,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},i.prepend):f(pt,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),f("div",{class:"v-alert__content"},[R&&f(dx,{key:"title"},{default:()=>{var C;return[((C=i.title)==null?void 0:C.call(i))??e.title]}}),((w=i.text)==null?void 0:w.call(i))??e.text,(b=i.default)==null?void 0:b.call(i)]),i.append&&f("div",{key:"append",class:"v-alert__append"},[i.append()]),x&&f("div",{key:"close",class:"v-alert__close"},[i.close?f(nt,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var C;return[(C=i.close)==null?void 0:C.call(i,{props:T.value})]}}):f(gt,oe({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},T.value),null)])]}})}}}),jL=Q({start:Boolean,end:Boolean,icon:We,image:String,text:String,...gi(),...Pe(),...hn(),...Nt(),...Dr(),...Qe(),...ot(),...Wi({variant:"flat"})},"VAvatar"),$i=re()({name:"VAvatar",props:jL(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{borderClasses:r}=Vi(e),{colorClasses:s,colorStyles:o,variantClasses:a}=fa(e),{densityClasses:l}=ti(e),{roundedClasses:u}=qt(e),{sizeClasses:c,sizeStyles:d}=Dl(e);return ue(()=>f(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,r.value,s.value,l.value,u.value,c.value,a.value,e.class],style:[o.value,d.value,e.style]},{default:()=>[n.default?f(nt,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?f(ts,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?f(pt,{key:"icon",icon:e.icon},null):e.text,io(!1,"v-avatar")]})),{}}}),zL=Q({text:String,onClick:bn(),...Pe(),...ot()},"VLabel"),Ml=re()({name:"VLabel",props:zL(),setup(e,t){let{slots:n}=t;return ue(()=>{var i;return f("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),fx=Symbol.for("vuetify:selection-control-group"),T_=Q({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:We,trueIcon:We,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Pr},...Pe(),...hn(),...ot()},"SelectionControlGroup"),WL=Q({...T_({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),hx=re()({name:"VSelectionControlGroup",props:WL(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),r=Sn(),s=V(()=>e.id||`v-selection-control-group-${r}`),o=V(()=>e.name||s.value),a=new Set;return Ot(fx,{modelValue:i,forceUpdate:()=>{a.forEach(l=>l())},onForceUpdate:l=>{a.add(l),wn(()=>{a.delete(l)})}}),zt({[e.defaultsTarget]:{color:ee(e,"color"),disabled:ee(e,"disabled"),density:ee(e,"density"),error:ee(e,"error"),inline:ee(e,"inline"),modelValue:i,multiple:V(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),name:o,falseIcon:ee(e,"falseIcon"),trueIcon:ee(e,"trueIcon"),readonly:ee(e,"readonly"),ripple:ee(e,"ripple"),type:ee(e,"type"),valueComparator:ee(e,"valueComparator")}}),ue(()=>{var l;return f("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(l=n.default)==null?void 0:l.call(n)])}),{}}}),xv=Q({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Pe(),...T_()},"VSelectionControl");function qL(e){const t=Ze(fx,void 0),{densityClasses:n}=ti(e),i=Fe(e,"modelValue"),r=V(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),s=V(()=>e.falseValue!==void 0?e.falseValue:!1),o=V(()=>!!e.multiple||e.multiple==null&&Array.isArray(i.value)),a=V({get(){const m=t?t.modelValue.value:i.value;return o.value?Ht(m).some(g=>e.valueComparator(g,r.value)):e.valueComparator(m,r.value)},set(m){if(e.readonly)return;const g=m?r.value:s.value;let p=g;o.value&&(p=m?[...Ht(i.value),g]:Ht(i.value).filter(y=>!e.valueComparator(y,r.value))),t?t.modelValue.value=p:i.value=p}}),{textColorClasses:l,textColorStyles:u}=On(V(()=>{if(!(e.error||e.disabled))return a.value?e.color:e.baseColor})),{backgroundColorClasses:c,backgroundColorStyles:d}=It(V(()=>a.value&&!e.error&&!e.disabled?e.color:e.baseColor)),v=V(()=>a.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:r,falseValue:s,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:v}}const qs=re()({name:"VSelectionControl",directives:{Ripple:ms},inheritAttrs:!1,props:xv(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{group:r,densityClasses:s,icon:o,model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:v}=qL(e),m=Sn(),g=Se(!1),p=Se(!1),y=z(),_=V(()=>e.id||`input-${m}`),k=V(()=>!e.disabled&&!e.readonly);r==null||r.onForceUpdate(()=>{y.value&&(y.value.checked=a.value)});function A(x){k.value&&(g.value=!0,cl(x.target,":focus-visible")!==!1&&(p.value=!0))}function T(){g.value=!1,p.value=!1}function D(x){x.stopPropagation()}function R(x){if(!k.value){y.value&&(y.value.checked=a.value);return}e.readonly&&r&&ct(()=>r.forceUpdate()),a.value=x.target.checked}return ue(()=>{var E,I;const x=i.label?i.label({label:e.label,props:{for:_.value}}):e.label,[w,b]=no(n),C=f("input",oe({ref:y,checked:a.value,disabled:!!e.disabled,id:_.value,onBlur:T,onFocus:A,onInput:R,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:v.value,name:e.name,"aria-checked":e.type==="checkbox"?a.value:void 0},b),null);return f("div",oe({class:["v-selection-control",{"v-selection-control--dirty":a.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":g.value,"v-selection-control--focus-visible":p.value,"v-selection-control--inline":e.inline},s.value,e.class]},w,{style:e.style}),[f("div",{class:["v-selection-control__wrapper",l.value],style:u.value},[(E=i.default)==null?void 0:E.call(i,{backgroundColorClasses:c,backgroundColorStyles:d}),xt(f("div",{class:["v-selection-control__input"]},[((I=i.input)==null?void 0:I.call(i,{model:a,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:C,icon:o.value,props:{onFocus:A,onBlur:T,id:_.value}}))??f(le,null,[o.value&&f(pt,{key:"icon",icon:o.value},null),C])]),[[mi("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&f(Ml,{for:_.value,onClick:D},{default:()=>[x]})])}),{isFocused:g,input:y}}}),vx=Q({indeterminate:Boolean,indeterminateIcon:{type:We,default:"$checkboxIndeterminate"},...xv({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),ns=re()({name:"VCheckboxBtn",props:vx(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"indeterminate"),r=Fe(e,"modelValue");function s(l){i.value&&(i.value=!1)}const o=V(()=>i.value?e.indeterminateIcon:e.falseIcon),a=V(()=>i.value?e.indeterminateIcon:e.trueIcon);return ue(()=>{const l=nn(qs.filterProps(e),["modelValue"]);return f(qs,oe(l,{modelValue:r.value,"onUpdate:modelValue":[u=>r.value=u,s],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:o.value,trueIcon:a.value,"aria-checked":i.value?"mixed":void 0}),n)}),{}}});function mx(e){const{t}=Xt();function n(i){let{name:r}=i;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`],a=o&&s?t(`$vuetify.input.${s}`,e.label??""):void 0;return f(pt,{icon:e[`${r}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const GL=Q({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Pe(),...ar({transition:{component:S_,leaveAbsolute:!0,group:!0}})},"VMessages"),gx=re()({name:"VMessages",props:GL(),setup(e,t){let{slots:n}=t;const i=V(()=>Ht(e.messages)),{textColorClasses:r,textColorStyles:s}=On(V(()=>e.color));return ue(()=>f(Xn,{transition:e.transition,tag:"div",class:["v-messages",r.value,e.class],style:[s.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&i.value.map((o,a)=>f("div",{class:"v-messages__message",key:`${a}-${i.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),Kc=Q({focused:Boolean,"onUpdate:focused":bn()},"focus");function gs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr();const n=Fe(e,"focused"),i=V(()=>({[`${t}--focused`]:n.value}));function r(){n.value=!0}function s(){n.value=!1}return{focusClasses:i,isFocused:n,focus:r,blur:s}}const px=Symbol.for("vuetify:form"),KL=Q({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function YL(e){const t=Fe(e,"modelValue"),n=V(()=>e.disabled),i=V(()=>e.readonly),r=Se(!1),s=z([]),o=z([]);async function a(){const c=[];let d=!0;o.value=[],r.value=!0;for(const v of s.value){const m=await v.validate();if(m.length>0&&(d=!1,c.push({id:v.id,errorMessages:m})),!d&&e.fastFail)break}return o.value=c,r.value=!1,{valid:d,errors:o.value}}function l(){s.value.forEach(c=>c.reset())}function u(){s.value.forEach(c=>c.resetValidation())}return ye(s,()=>{let c=0,d=0;const v=[];for(const m of s.value)m.isValid===!1?(d++,v.push({id:m.id,errorMessages:m.errorMessages})):m.isValid===!0&&c++;o.value=v,t.value=d>0?!1:c===s.value.length?!0:null},{deep:!0,flush:"post"}),Ot(px,{register:c=>{let{id:d,vm:v,validate:m,reset:g,resetValidation:p}=c;s.value.some(y=>y.id===d),s.value.push({id:d,validate:m,reset:g,resetValidation:p,vm:oI(v),isValid:null,errorMessages:[]})},unregister:c=>{s.value=s.value.filter(d=>d.id!==c)},update:(c,d,v)=>{const m=s.value.find(g=>g.id===c);m&&(m.isValid=d,m.errorMessages=v)},isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validateOn:ee(e,"validateOn")}),{errors:o,isDisabled:n,isReadonly:i,isValidating:r,isValid:t,items:s,validate:a,reset:l,resetValidation:u}}function Av(){return Ze(px,null)}const yx=Q({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Kc()},"validation");function _x(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vr(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sn();const i=Fe(e,"modelValue"),r=V(()=>e.validationValue===void 0?i.value:e.validationValue),s=Av(),o=z([]),a=Se(!0),l=V(()=>!!(Ht(i.value===""?null:i.value).length||Ht(r.value===""?null:r.value).length)),u=V(()=>!!(e.disabled??(s==null?void 0:s.isDisabled.value))),c=V(()=>!!(e.readonly??(s==null?void 0:s.isReadonly.value))),d=V(()=>{var D;return(D=e.errorMessages)!=null&&D.length?Ht(e.errorMessages).concat(o.value).slice(0,Math.max(0,+e.maxErrors)):o.value}),v=V(()=>{let D=(e.validateOn??(s==null?void 0:s.validateOn.value))||"input";D==="lazy"&&(D="input lazy"),D==="eager"&&(D="input eager");const R=new Set((D==null?void 0:D.split(" "))??[]);return{input:R.has("input"),blur:R.has("blur")||R.has("input")||R.has("invalid-input"),invalidInput:R.has("invalid-input"),lazy:R.has("lazy"),eager:R.has("eager")}}),m=V(()=>{var D;return e.error||(D=e.errorMessages)!=null&&D.length?!1:e.rules.length?a.value?o.value.length||v.value.lazy?null:!0:!o.value.length:!0}),g=Se(!1),p=V(()=>({[`${t}--error`]:m.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:u.value,[`${t}--readonly`]:c.value})),y=Wt("validation"),_=V(()=>e.name??se(n));dv(()=>{s==null||s.register({id:_.value,vm:y,validate:T,reset:k,resetValidation:A})}),kn(()=>{s==null||s.unregister(_.value)}),Qt(async()=>{v.value.lazy||await T(!v.value.eager),s==null||s.update(_.value,m.value,d.value)}),ai(()=>v.value.input||v.value.invalidInput&&m.value===!1,()=>{ye(r,()=>{if(r.value!=null)T();else if(e.focused){const D=ye(()=>e.focused,R=>{R||T(),D()})}})}),ai(()=>v.value.blur,()=>{ye(()=>e.focused,D=>{D||T()})}),ye([m,d],()=>{s==null||s.update(_.value,m.value,d.value)});async function k(){i.value=null,await ct(),await A()}async function A(){a.value=!0,v.value.lazy?o.value=[]:await T(!v.value.eager)}async function T(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const R=[];g.value=!0;for(const x of e.rules){if(R.length>=+(e.maxErrors??1))break;const b=await(typeof x=="function"?x:()=>x)(r.value);if(b!==!0){if(b!==!1&&typeof b!="string"){console.warn(`${b} is not a valid value. Rule functions must return boolean true or a string.`);continue}R.push(b||"")}}return o.value=R,g.value=!1,a.value=D,o.value}return{errorMessages:d,isDirty:l,isDisabled:u,isReadonly:c,isPristine:a,isValid:m,isValidating:g,reset:k,resetValidation:A,validate:T,validationClasses:p}}const ps=Q({id:String,appendIcon:We,centerAffix:{type:Boolean,default:!0},prependIcon:We,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":bn(),"onClick:append":bn(),...Pe(),...hn(),...mv(rn(),["maxWidth","minWidth","width"]),...ot(),...yx()},"VInput"),Ln=re()({name:"VInput",props:{...ps()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const{densityClasses:s}=ti(e),{dimensionStyles:o}=sn(e),{themeClasses:a}=yt(e),{rtlClasses:l}=dn(),{InputIcon:u}=mx(e),c=Sn(),d=V(()=>e.id||`input-${c}`),v=V(()=>`${d.value}-messages`),{errorMessages:m,isDirty:g,isDisabled:p,isReadonly:y,isPristine:_,isValid:k,isValidating:A,reset:T,resetValidation:D,validate:R,validationClasses:x}=_x(e,"v-input",d),w=V(()=>({id:d,messagesId:v,isDirty:g,isDisabled:p,isReadonly:y,isPristine:_,isValid:k,isValidating:A,reset:T,resetValidation:D,validate:R})),b=V(()=>{var C;return(C=e.errorMessages)!=null&&C.length||!_.value&&m.value.length?m.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return ue(()=>{var F,$,j,K;const C=!!(i.prepend||e.prependIcon),E=!!(i.append||e.appendIcon),I=b.value.length>0,P=!e.hideDetails||e.hideDetails==="auto"&&(I||!!i.details);return f("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},s.value,a.value,l.value,x.value,e.class],style:[o.value,e.style]},[C&&f("div",{key:"prepend",class:"v-input__prepend"},[(F=i.prepend)==null?void 0:F.call(i,w.value),e.prependIcon&&f(u,{key:"prepend-icon",name:"prepend"},null)]),i.default&&f("div",{class:"v-input__control"},[($=i.default)==null?void 0:$.call(i,w.value)]),E&&f("div",{key:"append",class:"v-input__append"},[e.appendIcon&&f(u,{key:"append-icon",name:"append"},null),(j=i.append)==null?void 0:j.call(i,w.value)]),P&&f("div",{class:"v-input__details"},[f(gx,{id:v.value,active:I,messages:b.value},{message:i.message}),(K=i.details)==null?void 0:K.call(i,w.value)])])}),{reset:T,resetValidation:D,validate:R,isValid:k,errorMessages:m}}}),QL=Q({...ps(),...nn(vx(),["inline"])},"VCheckbox"),XL=re()({name:"VCheckbox",inheritAttrs:!1,props:QL(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Fe(e,"modelValue"),{isFocused:s,focus:o,blur:a}=gs(e),l=Sn(),u=V(()=>e.id||`checkbox-${l}`);return ue(()=>{const[c,d]=no(n),v=Ln.filterProps(e),m=ns.filterProps(e);return f(Ln,oe({class:["v-checkbox",e.class]},c,v,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,id:u.value,focused:s.value,style:e.style}),{...i,default:g=>{let{id:p,messagesId:y,isDisabled:_,isReadonly:k,isValid:A}=g;return f(ns,oe(m,{id:p.value,"aria-describedby":y.value,disabled:_.value,readonly:k.value},d,{error:A.value===!1,modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,onFocus:o,onBlur:a}),i)}})}),{}}});function JL(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:r}=e;const s=fc(r,n),o=bx(r,i,n),a=fc(r,t),l=wx(r,t),u=a*.4;return o>l?l-u:o+s<l+a?l-s+a+u:o}function ZL(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const r=fc(i,n),s=wx(i,t),o=fc(i,t);return s-r/2+o/2}function Tk(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function eM(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function bx(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:r,scrollWidth:s}=n;return e?t?s-r+i:i:n.scrollTop}function fc(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function wx(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const kx=Symbol.for("vuetify:v-slide-group"),x_=Q({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:kx},nextIcon:{type:We,default:"$next"},prevIcon:{type:We,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Pe(),...la({mobile:null}),...Qe(),...ha({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),hc=re()({name:"VSlideGroup",props:x_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=dn(),{displayClasses:r,mobile:s}=zi(e),o=ro(e,e.symbol),a=Se(!1),l=Se(0),u=Se(0),c=Se(0),d=V(()=>e.direction==="horizontal"),{resizeRef:v,contentRect:m}=ir(),{resizeRef:g,contentRect:p}=ir(),y=$6(),_=V(()=>({container:v.el,duration:200,easing:"easeOutQuart"})),k=V(()=>o.selected.value.length?o.items.value.findIndex(H=>H.id===o.selected.value[0]):-1),A=V(()=>o.selected.value.length?o.items.value.findIndex(H=>H.id===o.selected.value[o.selected.value.length-1]):-1);if(_t){let H=-1;ye(()=>[o.selected.value,m.value,p.value,d.value],()=>{cancelAnimationFrame(H),H=requestAnimationFrame(()=>{if(m.value&&p.value){const q=d.value?"width":"height";u.value=m.value[q],c.value=p.value[q],a.value=u.value+1<c.value}if(k.value>=0&&g.el){const q=g.el.children[A.value];D(q,e.centerActive)}})})}const T=Se(!1);function D(H,q){let J=0;q?J=ZL({containerElement:v.el,isHorizontal:d.value,selectedElement:H}):J=JL({containerElement:v.el,isHorizontal:d.value,isRtl:i.value,selectedElement:H}),R(J)}function R(H){if(!_t||!v.el)return;const q=fc(d.value,v.el),J=bx(d.value,i.value,v.el);if(!(Tk(d.value,v.el)<=q||Math.abs(H-J)<16)){if(d.value&&i.value&&v.el){const{scrollWidth:_e,offsetWidth:Ce}=v.el;H=_e-Ce-H}d.value?y.horizontal(H,_.value):y(H,_.value)}}function x(H){const{scrollTop:q,scrollLeft:J}=H.target;l.value=d.value?J:q}function w(H){if(T.value=!0,!(!a.value||!g.el)){for(const q of H.composedPath())for(const J of g.el.children)if(J===q){D(J);return}}}function b(H){T.value=!1}let C=!1;function E(H){var q;!C&&!T.value&&!(H.relatedTarget&&((q=g.el)!=null&&q.contains(H.relatedTarget)))&&F(),C=!1}function I(){C=!0}function P(H){if(!g.el)return;function q(J){H.preventDefault(),F(J)}d.value?H.key==="ArrowRight"?q(i.value?"prev":"next"):H.key==="ArrowLeft"&&q(i.value?"next":"prev"):H.key==="ArrowDown"?q("next"):H.key==="ArrowUp"&&q("prev"),H.key==="Home"?q("first"):H.key==="End"&&q("last")}function F(H){var J,he;if(!g.el)return;let q;if(!H)q=sc(g.el)[0];else if(H==="next"){if(q=(J=g.el.querySelector(":focus"))==null?void 0:J.nextElementSibling,!q)return F("first")}else if(H==="prev"){if(q=(he=g.el.querySelector(":focus"))==null?void 0:he.previousElementSibling,!q)return F("last")}else H==="first"?q=g.el.firstElementChild:H==="last"&&(q=g.el.lastElementChild);q&&q.focus({preventScroll:!0})}function $(H){const q=d.value&&i.value?-1:1,J=(H==="prev"?-q:q)*u.value;let he=l.value+J;if(d.value&&i.value&&v.el){const{scrollWidth:_e,offsetWidth:Ce}=v.el;he+=_e-Ce}R(he)}const j=V(()=>({next:o.next,prev:o.prev,select:o.select,isSelected:o.isSelected})),K=V(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!s.value;case!0:return a.value||Math.abs(l.value)>0;case"mobile":return s.value||a.value||Math.abs(l.value)>0;default:return!s.value&&(a.value||Math.abs(l.value)>0)}}),U=V(()=>Math.abs(l.value)>1),B=V(()=>{if(!v.value)return!1;const H=Tk(d.value,v.el),q=eM(d.value,v.el);return H-q-Math.abs(l.value)>1});return ue(()=>f(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":a.value},r.value,e.class],style:e.style,tabindex:T.value||o.selected.value.length?-1:0,onFocus:E},{default:()=>{var H,q,J;return[K.value&&f("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!U.value}],onMousedown:I,onClick:()=>U.value&&$("prev")},[((H=n.prev)==null?void 0:H.call(n,j.value))??f(uc,null,{default:()=>[f(pt,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),f("div",{key:"container",ref:v,class:"v-slide-group__container",onScroll:x},[f("div",{ref:g,class:"v-slide-group__content",onFocusin:w,onFocusout:b,onKeydown:P},[(q=n.default)==null?void 0:q.call(n,j.value)])]),K.value&&f("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!B.value}],onMousedown:I,onClick:()=>B.value&&$("next")},[((J=n.next)==null?void 0:J.call(n,j.value))??f(uc,null,{default:()=>[f(pt,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:o.selected,scrollTo:$,scrollOffset:l,focus:F,hasPrev:U,hasNext:B}}}),Sx=Symbol.for("vuetify:v-chip-group"),tM=Q({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Pr},...x_(),...Pe(),...ha({selectedClass:"v-chip--selected"}),...Qe(),...ot(),...Wi({variant:"tonal"})},"VChipGroup"),nM=re()({name:"VChipGroup",props:tM(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=ro(e,Sx);return zt({VChip:{color:ee(e,"color"),disabled:ee(e,"disabled"),filter:ee(e,"filter"),variant:ee(e,"variant")}}),ue(()=>{const u=hc.filterProps(e);return f(hc,oe(u,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}),{}}}),iM=Q({activeClass:String,appendAvatar:String,appendIcon:We,closable:Boolean,closeIcon:{type:We,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:We,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:bn(),onClickOnce:bn(),...gi(),...Pe(),...hn(),...fn(),...va(),...Nt(),...Gc(),...Dr(),...Qe({tag:"span"}),...ot(),...Wi({variant:"tonal"})},"VChip"),Nl=re()({name:"VChip",directives:{Ripple:ms},props:iM(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=Xt(),{borderClasses:o}=Vi(e),{colorClasses:a,colorStyles:l,variantClasses:u}=fa(e),{densityClasses:c}=ti(e),{elevationClasses:d}=Cn(e),{roundedClasses:v}=qt(e),{sizeClasses:m}=Dl(e),{themeClasses:g}=yt(e),p=Fe(e,"modelValue"),y=ma(e,Sx,!1),_=qc(e,n),k=V(()=>e.link!==!1&&_.isLink.value),A=V(()=>!e.disabled&&e.link!==!1&&(!!y||e.link||_.isClickable.value)),T=V(()=>({"aria-label":s(e.closeLabel),onClick(x){x.preventDefault(),x.stopPropagation(),p.value=!1,i("click:close",x)}}));function D(x){var w;i("click",x),A.value&&((w=_.navigate)==null||w.call(_,x),y==null||y.toggle())}function R(x){(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),D(x))}return()=>{const x=_.isLink.value?"a":e.tag,w=!!(e.appendIcon||e.appendAvatar),b=!!(w||r.append),C=!!(r.close||e.closable),E=!!(r.filter||e.filter)&&y,I=!!(e.prependIcon||e.prependAvatar),P=!!(I||r.prepend),F=!y||y.isSelected.value;return p.value&&xt(f(x,oe({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":A.value,"v-chip--filter":E,"v-chip--pill":e.pill},g.value,o.value,F?a.value:void 0,c.value,d.value,v.value,m.value,u.value,y==null?void 0:y.selectedClass.value,e.class],style:[F?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:A.value?0:void 0,onClick:D,onKeydown:A.value&&!k.value&&R},_.linkProps),{default:()=>{var $;return[io(A.value,"v-chip"),E&&f(C_,{key:"filter"},{default:()=>[xt(f("div",{class:"v-chip__filter"},[r.filter?f(nt,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},r.filter):f(pt,{key:"filter-icon",icon:e.filterIcon},null)]),[[xi,y.isSelected.value]])]}),P&&f("div",{key:"prepend",class:"v-chip__prepend"},[r.prepend?f(nt,{key:"prepend-defaults",disabled:!I,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},r.prepend):f(le,null,[e.prependIcon&&f(pt,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&f($i,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),f("div",{class:"v-chip__content","data-no-activator":""},[(($=r.default)==null?void 0:$.call(r,{isSelected:y==null?void 0:y.isSelected.value,selectedClass:y==null?void 0:y.selectedClass.value,select:y==null?void 0:y.select,toggle:y==null?void 0:y.toggle,value:y==null?void 0:y.value.value,disabled:e.disabled}))??e.text]),b&&f("div",{key:"append",class:"v-chip__append"},[r.append?f(nt,{key:"append-defaults",disabled:!w,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},r.append):f(le,null,[e.appendIcon&&f(pt,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&f($i,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),C&&f("button",oe({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},T.value),[r.close?f(nt,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},r.close):f(pt,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[mi("ripple"),A.value&&e.ripple,null]])}}}),vp=Symbol.for("vuetify:list");function Cx(){const e=Ze(vp,{hasPrepend:Se(!1),updateHasPrepend:()=>null}),t={hasPrepend:Se(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return Ot(vp,t),e}function Ex(){return Ze(vp,null)}const A_=e=>{const t={activate:n=>{let{id:i,value:r,activated:s}=n;return i=qe(i),e&&!r&&s.size===1&&s.has(i)||(r?s.add(i):s.delete(i)),s},in:(n,i,r)=>{let s=new Set;if(n!=null)for(const o of Ht(n))s=t.activate({id:o,value:!0,activated:new Set(s),children:i,parents:r});return s},out:n=>Array.from(n)};return t},Ix=e=>{const t=A_(e);return{activate:i=>{let{activated:r,id:s,...o}=i;s=qe(s);const a=r.has(s)?new Set([s]):new Set;return t.activate({...o,id:s,activated:a})},in:(i,r,s)=>{let o=new Set;if(i!=null){const a=Ht(i);a.length&&(o=t.in(a.slice(0,1),r,s))}return o},out:(i,r,s)=>t.out(i,r,s)}},rM=e=>{const t=A_(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=qe(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},sM=e=>{const t=Ix(e);return{activate:i=>{let{id:r,activated:s,children:o,...a}=i;return r=qe(r),o.has(r)?s:t.activate({id:r,activated:s,children:o,...a})},in:t.in,out:t.out}},oM={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){const s=new Set;s.add(t);let o=r.get(t);for(;o!=null;)s.add(o),o=r.get(o);return s}else return i.delete(t),i},select:()=>null},Tx={open:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(n){let s=r.get(t);for(i.add(t);s!=null&&s!==t;)i.add(s),s=r.get(s);return i}else i.delete(t);return i},select:()=>null},aM={open:Tx.open,select:e=>{let{id:t,value:n,opened:i,parents:r}=e;if(!n)return i;const s=[];let o=r.get(t);for(;o!=null;)s.push(o),o=r.get(o);return new Set(s)}},P_=e=>{const t={select:n=>{let{id:i,value:r,selected:s}=n;if(i=qe(i),e&&!r){const o=Array.from(s.entries()).reduce((a,l)=>{let[u,c]=l;return c==="on"&&a.push(u),a},[]);if(o.length===1&&o[0]===i)return s}return s.set(i,r?"on":"off"),s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:n=>{const i=[];for(const[r,s]of n.entries())s==="on"&&i.push(r);return i}};return t},xx=e=>{const t=P_(e);return{select:i=>{let{selected:r,id:s,...o}=i;s=qe(s);const a=r.has(s)?new Map([[s,r.get(s)]]):new Map;return t.select({...o,id:s,selected:a})},in:(i,r,s)=>{let o=new Map;return i!=null&&i.length&&(o=t.in(i.slice(0,1),r,s)),o},out:(i,r,s)=>t.out(i,r,s)}},lM=e=>{const t=P_(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=qe(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},uM=e=>{const t=xx(e);return{select:i=>{let{id:r,selected:s,children:o,...a}=i;return r=qe(r),o.has(r)?s:t.select({id:r,selected:s,children:o,...a})},in:t.in,out:t.out}},cM=e=>{const t={select:n=>{let{id:i,value:r,selected:s,children:o,parents:a}=n;i=qe(i);const l=new Map(s),u=[i];for(;u.length;){const d=u.shift();s.set(qe(d),r?"on":"off"),o.has(d)&&u.push(...o.get(d))}let c=qe(a.get(i));for(;c;){const d=o.get(c),v=d.every(g=>s.get(qe(g))==="on"),m=d.every(g=>!s.has(qe(g))||s.get(qe(g))==="off");s.set(c,v?"on":m?"off":"indeterminate"),c=qe(a.get(c))}return e&&!r&&Array.from(s.entries()).reduce((v,m)=>{let[g,p]=m;return p==="on"&&v.push(g),v},[]).length===0?l:s},in:(n,i,r)=>{let s=new Map;for(const o of n||[])s=t.select({id:o,value:!0,selected:new Map(s),children:i,parents:r});return s},out:(n,i)=>{const r=[];for(const[s,o]of n.entries())o==="on"&&!i.has(s)&&r.push(s);return r}};return t},vc=Symbol.for("vuetify:nested"),Ax={id:Se(),root:{register:()=>null,unregister:()=>null,parents:z(new Map),children:z(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:z(!1),selectable:z(!1),opened:z(new Set),activated:z(new Set),selected:z(new Map),selectedValues:z([]),getPath:()=>[]}},dM=Q({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),fM=e=>{let t=!1;const n=z(new Map),i=z(new Map),r=Fe(e,"opened",e.opened,g=>new Set(g),g=>[...g.values()]),s=V(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return rM(e.mandatory);case"single-leaf":return sM(e.mandatory);case"independent":return A_(e.mandatory);case"single-independent":default:return Ix(e.mandatory)}}),o=V(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return uM(e.mandatory);case"leaf":return lM(e.mandatory);case"independent":return P_(e.mandatory);case"single-independent":return xx(e.mandatory);case"classic":default:return cM(e.mandatory)}}),a=V(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return aM;case"single":return oM;case"multiple":default:return Tx}}),l=Fe(e,"activated",e.activated,g=>s.value.in(g,n.value,i.value),g=>s.value.out(g,n.value,i.value)),u=Fe(e,"selected",e.selected,g=>o.value.in(g,n.value,i.value),g=>o.value.out(g,n.value,i.value));kn(()=>{t=!0});function c(g){const p=[];let y=g;for(;y!=null;)p.unshift(y),y=i.value.get(y);return p}const d=Wt("nested"),v=new Set,m={id:Se(),root:{opened:r,activatable:ee(e,"activatable"),selectable:ee(e,"selectable"),activated:l,selected:u,selectedValues:V(()=>{const g=[];for(const[p,y]of u.value.entries())y==="on"&&g.push(p);return g}),register:(g,p,y)=>{if(v.has(g)){c(g).map(String).join(" -> "),c(p).concat(g).map(String).join(" -> ");return}else v.add(g);p&&g!==p&&i.value.set(g,p),y&&n.value.set(g,[]),p!=null&&n.value.set(p,[...n.value.get(p)||[],g])},unregister:g=>{if(t)return;v.delete(g),n.value.delete(g);const p=i.value.get(g);if(p){const y=n.value.get(p)??[];n.value.set(p,y.filter(_=>_!==g))}i.value.delete(g)},open:(g,p,y)=>{d.emit("click:open",{id:g,value:p,path:c(g),event:y});const _=a.value.open({id:g,value:p,opened:new Set(r.value),children:n.value,parents:i.value,event:y});_&&(r.value=_)},openOnSelect:(g,p,y)=>{const _=a.value.select({id:g,value:p,selected:new Map(u.value),opened:new Set(r.value),children:n.value,parents:i.value,event:y});_&&(r.value=_)},select:(g,p,y)=>{d.emit("click:select",{id:g,value:p,path:c(g),event:y});const _=o.value.select({id:g,value:p,selected:new Map(u.value),children:n.value,parents:i.value,event:y});_&&(u.value=_),m.root.openOnSelect(g,p,y)},activate:(g,p,y)=>{if(!e.activatable)return m.root.select(g,!0,y);d.emit("click:activate",{id:g,value:p,path:c(g),event:y});const _=s.value.activate({id:g,value:p,activated:new Set(l.value),children:n.value,parents:i.value,event:y});_&&(l.value=_)},children:n,parents:i,getPath:c}};return Ot(vc,m),m.root},Px=(e,t)=>{const n=Ze(vc,Ax),i=Symbol(Sn()),r=V(()=>e.value!==void 0?e.value:i),s={...n,id:r,open:(o,a)=>n.root.open(r.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(r.value,o,a),isOpen:V(()=>n.root.opened.value.has(r.value)),parent:V(()=>n.root.parents.value.get(r.value)),activate:(o,a)=>n.root.activate(r.value,o,a),isActivated:V(()=>n.root.activated.value.has(qe(r.value))),select:(o,a)=>n.root.select(r.value,o,a),isSelected:V(()=>n.root.selected.value.get(qe(r.value))==="on"),isIndeterminate:V(()=>n.root.selected.value.get(r.value)==="indeterminate"),isLeaf:V(()=>!n.root.children.value.get(r.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(r.value,n.id.value,t),kn(()=>{!n.isGroupActivator&&n.root.unregister(r.value)}),t&&Ot(vc,s),s},hM=()=>{const e=Ze(vc,Ax);Ot(vc,{...e,isGroupActivator:!0})},vM=Ai({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return hM(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),mM=Q({activeColor:String,baseColor:String,color:String,collapseIcon:{type:We,default:"$collapse"},expandIcon:{type:We,default:"$expand"},prependIcon:We,appendIcon:We,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Pe(),...Qe()},"VListGroup"),mp=re()({name:"VListGroup",props:mM(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:r,id:s}=Px(ee(e,"value"),!0),o=V(()=>`v-list-group--id-${String(s.value)}`),a=Ex(),{isBooted:l}=da();function u(m){m.stopPropagation(),r(!i.value,m)}const c=V(()=>({onClick:u,class:"v-list-group__header",id:o.value})),d=V(()=>i.value?e.collapseIcon:e.expandIcon),v=V(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&d.value,appendIcon:e.appendIcon||!e.subgroup&&d.value,title:e.title,value:e.value}}));return ue(()=>f(e.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&f(nt,{defaults:v.value},{default:()=>[f(vM,null,{default:()=>[n.activator({props:c.value,isOpen:i.value})]})]}),f(Xn,{transition:{component:Sv},disabled:!l.value},{default:()=>{var m;return[xt(f("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(m=n.default)==null?void 0:m.call(n)]),[[xi,i.value]])]}})]})),{isOpen:i}}}),gM=Q({opacity:[Number,String],...Pe(),...Qe()},"VListItemSubtitle"),Vx=re()({name:"VListItemSubtitle",props:gM(),setup(e,t){let{slots:n}=t;return ue(()=>f(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Rx=Rr("v-list-item-title"),pM=Q({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:We,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:We,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:bn(),onClickOnce:bn(),...gi(),...Pe(),...hn(),...rn(),...fn(),...Nt(),...Gc(),...Qe(),...ot(),...Wi({variant:"text"})},"VListItem"),is=re()({name:"VListItem",directives:{Ripple:ms},props:pM(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:r}=t;const s=qc(e,n),o=V(()=>e.value===void 0?s.href.value:e.value),{activate:a,isActivated:l,select:u,isOpen:c,isSelected:d,isIndeterminate:v,isGroupActivator:m,root:g,parent:p,openOnSelect:y,id:_}=Px(o,!1),k=Ex(),A=V(()=>{var J;return e.active!==!1&&(e.active||((J=s.isActive)==null?void 0:J.value)||(g.activatable.value?l.value:d.value))}),T=V(()=>e.link!==!1&&s.isLink.value),D=V(()=>!e.disabled&&e.link!==!1&&(e.link||s.isClickable.value||!!k&&(g.selectable.value||g.activatable.value||e.value!=null))),R=V(()=>e.rounded||e.nav),x=V(()=>e.color??e.activeColor),w=V(()=>({color:A.value?x.value??e.baseColor:e.baseColor,variant:e.variant}));ye(()=>{var J;return(J=s.isActive)==null?void 0:J.value},J=>{J&&p.value!=null&&g.open(p.value,!0),J&&y(J)},{immediate:!0});const{themeClasses:b}=yt(e),{borderClasses:C}=Vi(e),{colorClasses:E,colorStyles:I,variantClasses:P}=fa(w),{densityClasses:F}=ti(e),{dimensionStyles:$}=sn(e),{elevationClasses:j}=Cn(e),{roundedClasses:K}=qt(R),U=V(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),B=V(()=>({isActive:A.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:v.value}));function H(J){var he;r("click",J),D.value&&((he=s.navigate)==null||he.call(s,J),!m&&(g.activatable.value?a(!l.value,J):(g.selectable.value||e.value!=null)&&u(!d.value,J)))}function q(J){(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),J.target.dispatchEvent(new MouseEvent("click",J)))}return ue(()=>{const J=T.value?"a":e.tag,he=i.title||e.title!=null,_e=i.subtitle||e.subtitle!=null,Ce=!!(e.appendAvatar||e.appendIcon),ie=!!(Ce||i.append),be=!!(e.prependAvatar||e.prependIcon),xe=!!(be||i.prepend);return k==null||k.updateHasPrepend(xe),e.activeColor&&b3("active-color",["color","base-color"]),xt(f(J,oe({class:["v-list-item",{"v-list-item--active":A.value,"v-list-item--disabled":e.disabled,"v-list-item--link":D.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!xe&&(k==null?void 0:k.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&A.value},b.value,C.value,E.value,F.value,j.value,U.value,K.value,P.value,e.class],style:[I.value,$.value,e.style],tabindex:D.value?k?-2:0:void 0,"aria-selected":g.activatable.value?l.value:d.value,onClick:H,onKeydown:D.value&&!T.value&&q},s.linkProps),{default:()=>{var Oe;return[io(D.value||A.value,"v-list-item"),xe&&f("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?f(nt,{key:"prepend-defaults",disabled:!be,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var Re;return[(Re=i.prepend)==null?void 0:Re.call(i,B.value)]}}):f(le,null,[e.prependAvatar&&f($i,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&f(pt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),f("div",{class:"v-list-item__spacer"},null)]),f("div",{class:"v-list-item__content","data-no-activator":""},[he&&f(Rx,{key:"title"},{default:()=>{var Re;return[((Re=i.title)==null?void 0:Re.call(i,{title:e.title}))??e.title]}}),_e&&f(Vx,{key:"subtitle"},{default:()=>{var Re;return[((Re=i.subtitle)==null?void 0:Re.call(i,{subtitle:e.subtitle}))??e.subtitle]}}),(Oe=i.default)==null?void 0:Oe.call(i,B.value)]),ie&&f("div",{key:"append",class:"v-list-item__append"},[i.append?f(nt,{key:"append-defaults",disabled:!Ce,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var Re;return[(Re=i.append)==null?void 0:Re.call(i,B.value)]}}):f(le,null,[e.appendIcon&&f(pt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&f($i,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),f("div",{class:"v-list-item__spacer"},null)])]}}),[[mi("ripple"),D.value&&e.ripple]])}),{activate:a,isActivated:l,isGroupActivator:m,isSelected:d,list:k,select:u,root:g,id:_}}}),yM=Q({color:String,inset:Boolean,sticky:Boolean,title:String,...Pe(),...Qe()},"VListSubheader"),Dx=re()({name:"VListSubheader",props:yM(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=On(ee(e,"color"));return ue(()=>{const s=!!(n.default||e.title);return f(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:r},e.style]},{default:()=>{var o;return[s&&f("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??e.title])]}})}),{}}}),_M=Q({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...Pe(),...ot()},"VDivider"),Yc=re()({name:"VDivider",props:_M(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=yt(e),{textColorClasses:s,textColorStyles:o}=On(ee(e,"color")),a=V(()=>{const l={};return e.length&&(l[e.vertical?"height":"width"]=Te(e.length)),e.thickness&&(l[e.vertical?"borderRightWidth":"borderTopWidth"]=Te(e.thickness)),l});return ue(()=>{const l=f("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},r.value,s.value,e.class],style:[a.value,o.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?f("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[l,f("div",{class:"v-divider__content"},[i.default()]),l]):l}),{}}}),bM=Q({items:Array,returnObject:Boolean},"VListChildren"),Ox=re()({name:"VListChildren",props:bM(),setup(e,t){let{slots:n}=t;return Cx(),()=>{var i,r;return((i=n.default)==null?void 0:i.call(n))??((r=e.items)==null?void 0:r.map(s=>{var v,m;let{children:o,props:a,type:l,raw:u}=s;if(l==="divider")return((v=n.divider)==null?void 0:v.call(n,{props:a}))??f(Yc,a,null);if(l==="subheader")return((m=n.subheader)==null?void 0:m.call(n,{props:a}))??f(Dx,a,null);const c={subtitle:n.subtitle?g=>{var p;return(p=n.subtitle)==null?void 0:p.call(n,{...g,item:u})}:void 0,prepend:n.prepend?g=>{var p;return(p=n.prepend)==null?void 0:p.call(n,{...g,item:u})}:void 0,append:n.append?g=>{var p;return(p=n.append)==null?void 0:p.call(n,{...g,item:u})}:void 0,title:n.title?g=>{var p;return(p=n.title)==null?void 0:p.call(n,{...g,item:u})}:void 0},d=mp.filterProps(a);return o?f(mp,oe({value:a==null?void 0:a.value},d),{activator:g=>{let{props:p}=g;const y={...a,...p,value:e.returnObject?u:a.value};return n.header?n.header({props:y}):f(is,y,c)},default:()=>f(Ox,{items:o,returnObject:e.returnObject},n)}):n.item?n.item({props:a}):f(is,oe(a,{value:e.returnObject?u:a.value}),c)}))}}}),Lx=Q({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Pr}},"list-items");function Os(e,t){const n=an(t,e.itemTitle,t),i=an(t,e.itemValue,n),r=an(t,e.itemChildren),s=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?nn(t,["children"]):t:void 0:an(t,e.itemProps),o={title:n,value:i,...s};return{title:String(o.title??""),value:o.value,props:o,children:Array.isArray(r)?Mx(e,r):void 0,raw:t}}function Mx(e,t){const n=[];for(const i of t)n.push(Os(e,i));return n}function V_(e){const t=V(()=>Mx(e,e.items)),n=V(()=>t.value.some(s=>s.value===null));function i(s){return n.value||(s=s.filter(o=>o!==null)),s.map(o=>e.returnObject&&typeof o=="string"?Os(e,o):t.value.find(a=>e.valueComparator(o,a.value))||Os(e,o))}function r(s){return e.returnObject?s.map(o=>{let{raw:a}=o;return a}):s.map(o=>{let{value:a}=o;return a})}return{items:t,transformIn:i,transformOut:r}}function wM(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function kM(e,t){const n=an(t,e.itemType,"item"),i=wM(t)?t:an(t,e.itemTitle),r=an(t,e.itemValue,void 0),s=an(t,e.itemChildren),o=e.itemProps===!0?nn(t,["children"]):an(t,e.itemProps),a={title:i,value:r,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?Nx(e,s):void 0,raw:t}}function Nx(e,t){const n=[];for(const i of t)n.push(kM(e,i));return n}function SM(e){return{items:V(()=>Nx(e,e.items))}}const CM=Q({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":bn(),"onClick:select":bn(),"onUpdate:opened":bn(),...dM({selectStrategy:"single-leaf",openStrategy:"list"}),...gi(),...Pe(),...hn(),...rn(),...fn(),itemType:{type:String,default:"type"},...Lx(),...Nt(),...Qe(),...ot(),...Wi({variant:"text"})},"VList"),Pv=re()({name:"VList",props:CM(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=SM(e),{themeClasses:r}=yt(e),{backgroundColorClasses:s,backgroundColorStyles:o}=It(ee(e,"bgColor")),{borderClasses:a}=Vi(e),{densityClasses:l}=ti(e),{dimensionStyles:u}=sn(e),{elevationClasses:c}=Cn(e),{roundedClasses:d}=qt(e),{children:v,open:m,parents:g,select:p,getPath:y}=fM(e),_=V(()=>e.lines?`v-list--${e.lines}-line`:void 0),k=ee(e,"activeColor"),A=ee(e,"baseColor"),T=ee(e,"color");Cx(),zt({VListGroup:{activeColor:k,baseColor:A,color:T,expandIcon:ee(e,"expandIcon"),collapseIcon:ee(e,"collapseIcon")},VListItem:{activeClass:ee(e,"activeClass"),activeColor:k,baseColor:A,color:T,density:ee(e,"density"),disabled:ee(e,"disabled"),lines:ee(e,"lines"),nav:ee(e,"nav"),slim:ee(e,"slim"),variant:ee(e,"variant")}});const D=Se(!1),R=z();function x(P){D.value=!0}function w(P){D.value=!1}function b(P){var F;!D.value&&!(P.relatedTarget&&((F=R.value)!=null&&F.contains(P.relatedTarget)))&&I()}function C(P){const F=P.target;if(!(!R.value||["INPUT","TEXTAREA"].includes(F.tagName))){if(P.key==="ArrowDown")I("next");else if(P.key==="ArrowUp")I("prev");else if(P.key==="Home")I("first");else if(P.key==="End")I("last");else return;P.preventDefault()}}function E(P){D.value=!0}function I(P){if(R.value)return Do(R.value,P)}return ue(()=>f(e.tag,{ref:R,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},r.value,s.value,a.value,l.value,c.value,_.value,d.value,e.class],style:[o.value,u.value,e.style],tabindex:e.disabled||D.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:x,onFocusout:w,onFocus:b,onKeydown:C,onMousedown:E},{default:()=>[f(Ox,{items:i.value,returnObject:e.returnObject},n)]})),{open:m,select:p,focus:I,children:v,parents:g,getPath:y}}}),EM=Rr("v-list-img"),IM=Q({start:Boolean,end:Boolean,...Pe(),...Qe()},"VListItemAction"),TM=re()({name:"VListItemAction",props:IM(),setup(e,t){let{slots:n}=t;return ue(()=>f(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),xM=Q({start:Boolean,end:Boolean,...Pe(),...Qe()},"VListItemMedia"),AM=re()({name:"VListItemMedia",props:xM(),setup(e,t){let{slots:n}=t;return ue(()=>f(e.tag,{class:["v-list-item-media",{"v-list-item-media--start":e.start,"v-list-item-media--end":e.end},e.class],style:e.style},n)),{}}});function sg(e,t){return{x:e.x+t.x,y:e.y+t.y}}function PM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xk(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,r=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,s=n==="top"?0:n==="bottom"?t.height:n;return sg({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,r=n==="left"?0:n==="right"?t.width:n,s=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return sg({x:r,y:s},t)}return sg({x:t.width/2,y:t.height/2},t)}const Fx={static:DM,connected:LM},VM=Q({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Fx},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function RM(e,t){const n=z({}),i=z();_t&&ai(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var o,a;ye(()=>e.locationStrategy,s),wn(()=>{window.removeEventListener("resize",r),i.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?i.value=(o=e.locationStrategy(t,e,n))==null?void 0:o.updateLocation:i.value=(a=Fx[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function r(s){var o;(o=i.value)==null||o.call(i,s)}return{contentStyles:n,updateLocation:i}}function DM(){}function OM(e,t){const n=f_(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function LM(e,t,n){(Array.isArray(e.target.value)||U3(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=c_(()=>{const g=tp(t.location,e.isRtl.value),p=t.origin==="overlap"?g:t.origin==="auto"?eg(g):tp(t.origin,e.isRtl.value);return g.side===p.side&&g.align===tg(p).align?{preferredAnchor:Yw(g),preferredOrigin:Yw(p)}:{preferredAnchor:g,preferredOrigin:p}}),[o,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>V(()=>{const p=parseFloat(t[g]);return isNaN(p)?1/0:p})),c=V(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const g=t.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1;const v=new ResizeObserver(()=>{d&&m()});ye([e.target,e.contentEl],(g,p)=>{let[y,_]=g,[k,A]=p;k&&!Array.isArray(k)&&v.unobserve(k),y&&!Array.isArray(y)&&v.observe(y),A&&v.unobserve(A),_&&v.observe(_)},{immediate:!0}),wn(()=>{v.disconnect()});function m(){if(d=!1,requestAnimationFrame(()=>d=!0),!e.target.value||!e.contentEl.value)return;const g=mT(e.target.value),p=OM(e.contentEl.value,e.isRtl.value),y=Xf(e.contentEl.value),_=12;y.length||(y.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(p.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const k=y.reduce((E,I)=>{const P=I.getBoundingClientRect(),F=new Oo({x:I===document.documentElement?0:P.x,y:I===document.documentElement?0:P.y,width:I.clientWidth,height:I.clientHeight});return E?new Oo({x:Math.max(E.left,F.left),y:Math.max(E.top,F.top),width:Math.min(E.right,F.right)-Math.max(E.left,F.left),height:Math.min(E.bottom,F.bottom)-Math.max(E.top,F.top)}):F},void 0);k.x+=_,k.y+=_,k.width-=_*2,k.height-=_*2;let A={anchor:r.value,origin:s.value};function T(E){const I=new Oo(p),P=xk(E.anchor,g),F=xk(E.origin,I);let{x:$,y:j}=PM(P,F);switch(E.anchor.side){case"top":j-=c.value[0];break;case"bottom":j+=c.value[0];break;case"left":$-=c.value[0];break;case"right":$+=c.value[0];break}switch(E.anchor.align){case"top":j-=c.value[1];break;case"bottom":j+=c.value[1];break;case"left":$-=c.value[1];break;case"right":$+=c.value[1];break}return I.x+=$,I.y+=j,I.width=Math.min(I.width,l.value),I.height=Math.min(I.height,u.value),{overflows:Xw(I,k),x:$,y:j}}let D=0,R=0;const x={x:0,y:0},w={x:!1,y:!1};let b=-1;for(;!(b++>10);){const{x:E,y:I,overflows:P}=T(A);D+=E,R+=I,p.x+=E,p.y+=I;{const F=Qw(A.anchor),$=P.x.before||P.x.after,j=P.y.before||P.y.after;let K=!1;if(["x","y"].forEach(U=>{if(U==="x"&&$&&!w.x||U==="y"&&j&&!w.y){const B={anchor:{...A.anchor},origin:{...A.origin}},H=U==="x"?F==="y"?tg:eg:F==="y"?eg:tg;B.anchor=H(B.anchor),B.origin=H(B.origin);const{overflows:q}=T(B);(q[U].before<=P[U].before&&q[U].after<=P[U].after||q[U].before+q[U].after<(P[U].before+P[U].after)/2)&&(A=B,K=w[U]=!0)}}),K)continue}P.x.before&&(D+=P.x.before,p.x+=P.x.before),P.x.after&&(D-=P.x.after,p.x-=P.x.after),P.y.before&&(R+=P.y.before,p.y+=P.y.before),P.y.after&&(R-=P.y.after,p.y-=P.y.after);{const F=Xw(p,k);x.x=k.width-F.x.before-F.x.after,x.y=k.height-F.y.before-F.y.after,D+=F.x.before,p.x+=F.x.before,R+=F.y.before,p.y+=F.y.before}break}const C=Qw(A.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${A.anchor.side} ${A.anchor.align}`,transformOrigin:`${A.origin.side} ${A.origin.align}`,top:Te(og(R)),left:e.isRtl.value?void 0:Te(og(D)),right:e.isRtl.value?Te(og(-D)):void 0,minWidth:Te(C==="y"?Math.min(o.value,g.width):o.value),maxWidth:Te(Ak(Zt(x.x,o.value===1/0?0:o.value,l.value))),maxHeight:Te(Ak(Zt(x.y,a.value===1/0?0:a.value,u.value)))}),{available:x,contentBox:p}}return ye(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>m()),ct(()=>{const g=m();if(!g)return;const{available:p,contentBox:y}=g;y.height>p.y&&requestAnimationFrame(()=>{m(),requestAnimationFrame(()=>{m()})})}),{updateLocation:m}}function og(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Ak(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let gp=!0;const eh=[];function MM(e){!gp||eh.length?(eh.push(e),pp()):(gp=!1,e(),pp())}let Pk=-1;function pp(){cancelAnimationFrame(Pk),Pk=requestAnimationFrame(()=>{const e=eh.shift();e&&e(),eh.length?pp():gp=!0})}const Cf={none:null,close:BM,block:$M,reposition:UM},NM=Q({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Cf}},"VOverlay-scroll-strategies");function FM(e,t){if(!_t)return;let n;Kt(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Fc(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(i=Cf[e.scrollStrategy])==null||i.call(Cf,t,e,n)}))}),wn(()=>{n==null||n.stop()})}function BM(e){function t(n){e.isActive.value=!1}Bx(e.targetEl.value??e.contentEl.value,t)}function $M(e,t){var o;const n=(o=e.root.value)==null?void 0:o.offsetParent,i=[...new Set([...Xf(e.targetEl.value,t.contained?n:void 0),...Xf(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(a=>p_(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",Te(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",Te(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",Te(r)),a.classList.add("v-overlay-scroll-blocked")}),wn(()=>{i.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),d=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-c,a.style.scrollBehavior=d}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function UM(e,t,n){let i=!1,r=-1,s=-1;function o(a){MM(()=>{var c,d;const l=performance.now();(d=(c=e.updateLocation).value)==null||d.call(c,a),i=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Bx(e.targetEl.value??e.contentEl.value,a=>{i?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),wn(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function Bx(e,t){const n=[document,...Xf(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),wn(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const yp=Symbol.for("vuetify:v-menu"),R_=Q({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function D_(e,t){let n=()=>{};function i(o){n==null||n();const a=Number(o?e.openDelay:e.closeDelay);return new Promise(l=>{n=l3(a,()=>{t==null||t(o),l(o)})})}function r(){return i(!0)}function s(){return i(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const HM=Q({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...R_()},"VOverlay-activator");function jM(e,t){let{isActive:n,isTop:i,contentEl:r}=t;const s=Wt("useActivator"),o=z();let a=!1,l=!1,u=!0;const c=V(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),d=V(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:v,runCloseDelay:m}=D_(e,w=>{w===(e.openOnHover&&a||c.value&&l)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==w&&(u=!0),n.value=w)}),g=z(),p={onClick:w=>{w.stopPropagation(),o.value=w.currentTarget||w.target,n.value||(g.value=[w.clientX,w.clientY]),n.value=!n.value},onMouseenter:w=>{var b;(b=w.sourceCapabilities)!=null&&b.firesTouchEvents||(a=!0,o.value=w.currentTarget||w.target,v())},onMouseleave:w=>{a=!1,m()},onFocus:w=>{cl(w.target,":focus-visible")!==!1&&(l=!0,w.stopPropagation(),o.value=w.currentTarget||w.target,v())},onBlur:w=>{l=!1,w.stopPropagation(),m()}},y=V(()=>{const w={};return d.value&&(w.onClick=p.onClick),e.openOnHover&&(w.onMouseenter=p.onMouseenter,w.onMouseleave=p.onMouseleave),c.value&&(w.onFocus=p.onFocus,w.onBlur=p.onBlur),w}),_=V(()=>{const w={};if(e.openOnHover&&(w.onMouseenter=()=>{a=!0,v()},w.onMouseleave=()=>{a=!1,m()}),c.value&&(w.onFocusin=()=>{l=!0,v()},w.onFocusout=()=>{l=!1,m()}),e.closeOnContentClick){const b=Ze(yp,null);w.onClick=()=>{n.value=!1,b==null||b.closeParents()}}return w}),k=V(()=>{const w={};return e.openOnHover&&(w.onMouseenter=()=>{u&&(a=!0,u=!1,v())},w.onMouseleave=()=>{a=!1,m()}),w});ye(i,w=>{var b;w&&(e.openOnHover&&!a&&(!c.value||!l)||c.value&&!l&&(!e.openOnHover||!a))&&!((b=r.value)!=null&&b.contains(document.activeElement))&&(n.value=!1)}),ye(n,w=>{w||setTimeout(()=>{g.value=void 0})},{flush:"post"});const A=Kf();Kt(()=>{A.value&&ct(()=>{o.value=A.el})});const T=Kf(),D=V(()=>e.target==="cursor"&&g.value?g.value:T.value?T.el:$x(e.target,s)||o.value),R=V(()=>Array.isArray(D.value)?void 0:D.value);let x;return ye(()=>!!e.activator,w=>{w&&_t?(x=Fc(),x.run(()=>{zM(e,s,{activatorEl:o,activatorEvents:y})})):x&&x.stop()},{flush:"post",immediate:!0}),wn(()=>{x==null||x.stop()}),{activatorEl:o,activatorRef:A,target:D,targetEl:R,targetRef:T,activatorEvents:y,contentEvents:_,scrimEvents:k}}function zM(e,t,n){let{activatorEl:i,activatorEvents:r}=n;ye(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=a(u);c&&o(c)}l&&ct(()=>s())},{immediate:!0}),ye(()=>e.activatorProps,()=>{s()}),wn(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&d3(l,oe(r.value,u))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&f3(l,oe(r.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=$x(l,t);return i.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,i.value}}function $x(e,t){var i,r;if(!e)return;let n;if(e==="parent"){let s=(r=(i=t==null?void 0:t.proxy)==null?void 0:i.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function Ux(){if(!_t)return Se(!1);const{ssr:e}=zi();if(e){const t=Se(!1);return Qt(()=>{t.value=!0}),t}else return Se(!0)}const O_=Q({eager:Boolean},"lazy");function L_(e,t){const n=Se(!1),i=V(()=>n.value||e.eager||t.value);ye(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:r}}function pa(){const t=Wt("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Vk=Symbol.for("vuetify:stack"),gu=xn([]);function WM(e,t,n){const i=Wt("useStack"),r=!n,s=Ze(Vk,void 0),o=xn({activeChildren:new Set});Ot(Vk,o);const a=Se(+t.value);ai(e,()=>{var d;const c=(d=gu.at(-1))==null?void 0:d[1];a.value=c?c+10:+t.value,r&&gu.push([i.uid,a.value]),s==null||s.activeChildren.add(i.uid),wn(()=>{if(r){const v=qe(gu).findIndex(m=>m[0]===i.uid);gu.splice(v,1)}s==null||s.activeChildren.delete(i.uid)})});const l=Se(!0);r&&Kt(()=>{var d;const c=((d=gu.at(-1))==null?void 0:d[0])===i.uid;setTimeout(()=>l.value=c)});const u=V(()=>!o.activeChildren.size);return{globalTop:to(l),localTop:u,stackStyles:V(()=>({zIndex:a.value}))}}function qM(e){return{teleportTarget:V(()=>{const n=e();if(n===!0||!_t)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let r=[...i.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",i.appendChild(r)),r})}}function GM(){return!0}function Hx(e,t,n){if(!e||jx(e,n)===!1)return!1;const i=xT(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s==null?void 0:s.contains(e.target))}function jx(e,t){return(typeof t.value=="object"&&t.value.closeConditional||GM)(e)}function KM(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Hx(e,t,n)&&setTimeout(()=>{jx(e,n)&&i&&i(e)},0)}function Rk(e,t){const n=xT(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const zx={mounted(e,t){const n=r=>KM(r,e,t),i=r=>{e._clickOutside.lastMousedownWasOutside=Hx(r,e,t)};Rk(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(e,t){e._clickOutside&&(Rk(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:i,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function YM(e){const{modelValue:t,color:n,...i}=e;return f(kr,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&f("div",oe({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const Qc=Q({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...HM(),...Pe(),...rn(),...O_(),...VM(),...NM(),...ot(),...ar()},"VOverlay"),Sr=re()({name:"VOverlay",directives:{ClickOutside:zx},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Qc()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:r}=t;const s=Wt("VOverlay"),o=z(),a=z(),l=z(),u=Fe(e,"modelValue"),c=V({get:()=>u.value,set:ie=>{ie&&e.disabled||(u.value=ie)}}),{themeClasses:d}=yt(e),{rtlClasses:v,isRtl:m}=dn(),{hasContent:g,onAfterLeave:p}=L_(e,c),y=It(V(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:_,localTop:k,stackStyles:A}=WM(c,ee(e,"zIndex"),e._disableGlobalStack),{activatorEl:T,activatorRef:D,target:R,targetEl:x,targetRef:w,activatorEvents:b,contentEvents:C,scrimEvents:E}=jM(e,{isActive:c,isTop:k,contentEl:l}),{teleportTarget:I}=qM(()=>{var xe,Oe,Re;const ie=e.attach||e.contained;if(ie)return ie;const be=((xe=T==null?void 0:T.value)==null?void 0:xe.getRootNode())||((Re=(Oe=s.proxy)==null?void 0:Oe.$el)==null?void 0:Re.getRootNode());return be instanceof ShadowRoot?be:!1}),{dimensionStyles:P}=sn(e),F=Ux(),{scopeId:$}=pa();ye(()=>e.disabled,ie=>{ie&&(c.value=!1)});const{contentStyles:j,updateLocation:K}=RM(e,{isRtl:m,contentEl:l,target:R,isActive:c});FM(e,{root:o,contentEl:l,targetEl:x,isActive:c,updateLocation:K});function U(ie){r("click:outside",ie),e.persistent?he():c.value=!1}function B(ie){return c.value&&_.value&&(!e.scrim||ie.target===a.value||ie instanceof MouseEvent&&ie.shadowTarget===a.value)}_t&&ye(c,ie=>{ie?window.addEventListener("keydown",H):window.removeEventListener("keydown",H)},{immediate:!0}),kn(()=>{_t&&window.removeEventListener("keydown",H)});function H(ie){var be,xe;ie.key==="Escape"&&_.value&&(e.persistent?he():(c.value=!1,(be=l.value)!=null&&be.contains(document.activeElement)&&((xe=T.value)==null||xe.focus())))}const q=nx();ai(()=>e.closeOnBack,()=>{PL(q,ie=>{_.value&&c.value?(ie(!1),e.persistent?he():c.value=!1):ie()})});const J=z();ye(()=>c.value&&(e.absolute||e.contained)&&I.value==null,ie=>{if(ie){const be=g_(o.value);be&&be!==document.scrollingElement&&(J.value=be.scrollTop)}});function he(){e.noClickAnimation||l.value&&Io(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:oc})}function _e(){r("afterEnter")}function Ce(){p(),r("afterLeave")}return ue(()=>{var ie;return f(le,null,[(ie=n.activator)==null?void 0:ie.call(n,{isActive:c.value,targetRef:w,props:oe({ref:D},b.value,e.activatorProps)}),F.value&&g.value&&f(w5,{disabled:!I.value,to:I.value},{default:()=>[f("div",oe({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},d.value,v.value,e.class],style:[A.value,{"--v-overlay-opacity":e.opacity,top:Te(J.value)},e.style],ref:o},$,i),[f(YM,oe({color:y,modelValue:c.value&&!!e.scrim,ref:a},E.value),null),f(Xn,{appear:!0,persisted:!0,transition:e.transition,target:R.value,onAfterEnter:_e,onAfterLeave:Ce},{default:()=>{var be;return[xt(f("div",oe({ref:l,class:["v-overlay__content",e.contentClass],style:[P.value,j.value]},C.value,e.contentProps),[(be=n.default)==null?void 0:be.call(n,{isActive:c})]),[[xi,c.value],[mi("click-outside"),{handler:U,closeConditional:B,include:()=>[T.value]}]])]}})])]})])}),{activatorEl:T,scrimEl:a,target:R,animateClick:he,contentEl:l,globalTop:_,localTop:k,updateLocation:K}}}),ag=Symbol("Forwarded refs");function lg(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[ag]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},set(r,s,o){if(Reflect.has(r,s))return Reflect.set(r,s,o);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,o);return!1},getOwnPropertyDescriptor(r,s){var a;const o=Reflect.getOwnPropertyDescriptor(r,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=lg(l.value,s)??("_"in l.value?lg((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[ag];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),v=lg(d.value,s);if(v)return v;const m=d.value&&d.value[ag];m&&c.push(...m)}}}}})}const Wx=Q({id:String,submenu:Boolean,...nn(Qc({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:kv}}),["absolute"])},"VMenu"),vl=re()({name:"VMenu",props:Wx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),{scopeId:r}=pa(),{isRtl:s}=dn(),o=Sn(),a=V(()=>e.id||`v-menu-${o}`),l=z(),u=Ze(yp,null),c=Se(new Set);Ot(yp,{register(){c.value.add(o)},unregister(){c.value.delete(o)},closeParents(y){setTimeout(()=>{var _;!c.value.size&&!e.persistent&&(y==null||(_=l.value)!=null&&_.contentEl&&!u3(y,l.value.contentEl))&&(i.value=!1,u==null||u.closeParents())},40)}}),kn(()=>u==null?void 0:u.unregister()),Yy(()=>i.value=!1);async function d(y){var A,T,D;const _=y.relatedTarget,k=y.target;await ct(),i.value&&_!==k&&((A=l.value)!=null&&A.contentEl)&&((T=l.value)!=null&&T.globalTop)&&![document,l.value.contentEl].includes(k)&&!l.value.contentEl.contains(k)&&((D=sc(l.value.contentEl)[0])==null||D.focus())}ye(i,y=>{y?(u==null||u.register(),document.addEventListener("focusin",d,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",d))});function v(y){u==null||u.closeParents(y)}function m(y){var _,k,A,T,D;if(!e.disabled)if(y.key==="Tab"||y.key==="Enter"&&!e.closeOnContentClick){if(y.key==="Enter"&&(y.target instanceof HTMLTextAreaElement||y.target instanceof HTMLInputElement&&y.target.closest("form")))return;y.key==="Enter"&&y.preventDefault(),fT(sc((_=l.value)==null?void 0:_.contentEl,!1),y.shiftKey?"prev":"next",x=>x.tabIndex>=0)||(i.value=!1,(A=(k=l.value)==null?void 0:k.activatorEl)==null||A.focus())}else e.submenu&&y.key===(s.value?"ArrowRight":"ArrowLeft")&&(i.value=!1,(D=(T=l.value)==null?void 0:T.activatorEl)==null||D.focus())}function g(y){var k;if(e.disabled)return;const _=(k=l.value)==null?void 0:k.contentEl;_&&i.value?y.key==="ArrowDown"?(y.preventDefault(),y.stopImmediatePropagation(),Do(_,"next")):y.key==="ArrowUp"?(y.preventDefault(),y.stopImmediatePropagation(),Do(_,"prev")):e.submenu&&(y.key===(s.value?"ArrowRight":"ArrowLeft")?i.value=!1:y.key===(s.value?"ArrowLeft":"ArrowRight")&&(y.preventDefault(),Do(_,"first"))):(e.submenu?y.key===(s.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(y.key))&&(i.value=!0,y.preventDefault(),setTimeout(()=>setTimeout(()=>g(y))))}const p=V(()=>oe({"aria-haspopup":"menu","aria-expanded":String(i.value),"aria-owns":a.value,onKeydown:g},e.activatorProps));return ue(()=>{const y=Sr.filterProps(e);return f(Sr,oe({ref:l,id:a.value,class:["v-menu",e.class],style:e.style},y,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,absolute:!0,activatorProps:p.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":v,onKeydown:m},r),{activator:n.activator,default:function(){for(var _=arguments.length,k=new Array(_),A=0;A<_;A++)k[A]=arguments[A];return f(nt,{root:"VMenu"},{default:()=>{var T;return[(T=n.default)==null?void 0:T.call(n,...k)]}})}})}),qi({id:a,openChildren:c},l)}}),QM=Q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Pe(),...ar({transition:{component:S_}})},"VCounter"),Vv=re()({name:"VCounter",functional:!0,props:QM(),setup(e,t){let{slots:n}=t;const i=V(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ue(()=>f(Xn,{transition:e.transition},{default:()=>[xt(f("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[xi,e.active]])]})),{}}}),XM=Q({floating:Boolean,...Pe()},"VFieldLabel"),Iu=re()({name:"VFieldLabel",props:XM(),setup(e,t){let{slots:n}=t;return ue(()=>f(Ml,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}}),JM=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Xc=Q({appendInnerIcon:We,bgColor:String,clearable:Boolean,clearIcon:{type:We,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:We,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>JM.includes(e)},"onClick:clear":bn(),"onClick:appendInner":bn(),"onClick:prependInner":bn(),...Pe(),...Iv(),...Nt(),...ot()},"VField"),Fl=re()({name:"VField",inheritAttrs:!1,props:{id:String,...Kc(),...Xc()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{themeClasses:s}=yt(e),{loaderClasses:o}=zc(e),{focusClasses:a,isFocused:l,focus:u,blur:c}=gs(e),{InputIcon:d}=mx(e),{roundedClasses:v}=qt(e),{rtlClasses:m}=dn(),g=V(()=>e.dirty||e.active),p=V(()=>!e.singleLine&&!!(e.label||r.label)),y=Sn(),_=V(()=>e.id||`input-${y}`),k=V(()=>`${_.value}-messages`),A=z(),T=z(),D=z(),R=V(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:x,backgroundColorStyles:w}=It(ee(e,"bgColor")),{textColorClasses:b,textColorStyles:C}=On(V(()=>e.error||e.disabled?void 0:g.value&&l.value?e.color:e.baseColor));ye(g,F=>{if(p.value){const $=A.value.$el,j=T.value.$el;requestAnimationFrame(()=>{const K=f_($),U=j.getBoundingClientRect(),B=U.x-K.x,H=U.y-K.y-(K.height/2-U.height/2),q=U.width/.75,J=Math.abs(q-K.width)>1?{maxWidth:Te(q)}:void 0,he=getComputedStyle($),_e=getComputedStyle(j),Ce=parseFloat(he.transitionDuration)*1e3||150,ie=parseFloat(_e.getPropertyValue("--v-field-label-scale")),be=_e.getPropertyValue("color");$.style.visibility="visible",j.style.visibility="hidden",Io($,{transform:`translate(${B}px, ${H}px) scale(${ie})`,color:be,...J},{duration:Ce,easing:oc,direction:F?"normal":"reverse"}).finished.then(()=>{$.style.removeProperty("visibility"),j.style.removeProperty("visibility")})})}},{flush:"post"});const E=V(()=>({isActive:g,isFocused:l,controlRef:D,blur:c,focus:u}));function I(F){F.target!==document.activeElement&&F.preventDefault()}function P(F){var $;F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),F.stopPropagation(),($=e["onClick:clear"])==null||$.call(e,new MouseEvent("click")))}return ue(()=>{var B,H,q;const F=e.variant==="outlined",$=!!(r["prepend-inner"]||e.prependInnerIcon),j=!!(e.clearable||r.clear),K=!!(r["append-inner"]||e.appendInnerIcon||j),U=()=>r.label?r.label({...E.value,label:e.label,props:{for:_.value}}):e.label;return f("div",oe({class:["v-field",{"v-field--active":g.value,"v-field--appended":K,"v-field--center-affix":e.centerAffix??!R.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":$,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!U(),[`v-field--variant-${e.variant}`]:!0},s.value,x.value,a.value,o.value,v.value,m.value,e.class],style:[w.value,e.style],onClick:I},n),[f("div",{class:"v-field__overlay"},null),f(Wc,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:r.loader}),$&&f("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&f(d,{key:"prepend-icon",name:"prependInner"},null),(B=r["prepend-inner"])==null?void 0:B.call(r,E.value)]),f("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&f(Iu,{key:"floating-label",ref:T,class:[b.value],floating:!0,for:_.value,style:C.value},{default:()=>[U()]}),f(Iu,{ref:A,for:_.value},{default:()=>[U()]}),(H=r.default)==null?void 0:H.call(r,{...E.value,props:{id:_.value,class:"v-field__input","aria-describedby":k.value},focus:u,blur:c})]),j&&f(C_,{key:"clear"},{default:()=>[xt(f("div",{class:"v-field__clearable",onMousedown:J=>{J.preventDefault(),J.stopPropagation()}},[f(nt,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[r.clear?r.clear({...E.value,props:{onKeydown:P,onFocus:u,onBlur:c,onClick:e["onClick:clear"]}}):f(d,{name:"clear",onKeydown:P,onFocus:u,onBlur:c},null)]})]),[[xi,e.dirty]])]}),K&&f("div",{key:"append",class:"v-field__append-inner"},[(q=r["append-inner"])==null?void 0:q.call(r,E.value),e.appendInnerIcon&&f(d,{key:"append-icon",name:"appendInner"},null)]),f("div",{class:["v-field__outline",b.value],style:C.value},[F&&f(le,null,[f("div",{class:"v-field__outline__start"},null),p.value&&f("div",{class:"v-field__outline__notch"},[f(Iu,{ref:T,floating:!0,for:_.value},{default:()=>[U()]})]),f("div",{class:"v-field__outline__end"},null)]),R.value&&p.value&&f(Iu,{ref:T,floating:!0,for:_.value},{default:()=>[U()]})])])}),{controlRef:D}}});function M_(e){const t=Object.keys(Fl.props).filter(n=>!gv(n)&&n!=="class"&&n!=="style");return u_(e,t)}const ZM=["color","file","time","date","datetime-local","week","month"],Rv=Q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ps(),...Xc()},"VTextField"),zo=re()({name:"VTextField",directives:{Intersect:jc},inheritAttrs:!1,props:Rv(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=Fe(e,"modelValue"),{isFocused:o,focus:a,blur:l}=gs(e),u=V(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:(s.value??"").toString().length),c=V(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),d=V(()=>["plain","underlined"].includes(e.variant));function v(R,x){var w,b;!e.autofocus||!R||(b=(w=x[0].target)==null?void 0:w.focus)==null||b.call(w)}const m=z(),g=z(),p=z(),y=V(()=>ZM.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function _(){var R;p.value!==document.activeElement&&((R=p.value)==null||R.focus()),o.value||a()}function k(R){i("mousedown:control",R),R.target!==p.value&&(_(),R.preventDefault())}function A(R){_(),i("click:control",R)}function T(R){R.stopPropagation(),_(),ct(()=>{s.value=null,d_(e["onClick:clear"],R)})}function D(R){var w;const x=R.target;if(s.value=x.value,(w=e.modelModifiers)!=null&&w.trim&&["text","search","password","tel","url"].includes(e.type)){const b=[x.selectionStart,x.selectionEnd];ct(()=>{x.selectionStart=b[0],x.selectionEnd=b[1]})}}return ue(()=>{const R=!!(r.counter||e.counter!==!1&&e.counter!=null),x=!!(R||r.details),[w,b]=no(n),{modelValue:C,...E}=Ln.filterProps(e),I=M_(e);return f(Ln,oe({ref:m,modelValue:s.value,"onUpdate:modelValue":P=>s.value=P,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":d.value},e.class],style:e.style},w,E,{centerAffix:!d.value,focused:o.value}),{...r,default:P=>{let{id:F,isDisabled:$,isDirty:j,isReadonly:K,isValid:U}=P;return f(Fl,oe({ref:g,onMousedown:k,onClick:A,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},I,{id:F.value,active:y.value||j.value,dirty:j.value||e.dirty,disabled:$.value,focused:o.value,error:U.value===!1}),{...r,default:B=>{let{props:{class:H,...q}}=B;const J=xt(f("input",oe({ref:p,value:s.value,onInput:D,autofocus:e.autofocus,readonly:K.value,disabled:$.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:_,onBlur:l},q,b),null),[[mi("intersect"),{handler:v},null,{once:!0}]]);return f(le,null,[e.prefix&&f("span",{class:"v-text-field__prefix"},[f("span",{class:"v-text-field__prefix__text"},[e.prefix])]),r.default?f("div",{class:H,"data-no-activator":""},[r.default(),J]):Zr(J,{class:H}),e.suffix&&f("span",{class:"v-text-field__suffix"},[f("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:x?P=>{var F;return f(le,null,[(F=r.details)==null?void 0:F.call(r,P),R&&f(le,null,[f("span",null,null),f(Vv,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),qi({},m,g,p)}}),eN=Q({renderless:Boolean,...Pe()},"VVirtualScrollItem"),qx=re()({name:"VVirtualScrollItem",inheritAttrs:!1,props:eN(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{resizeRef:s,contentRect:o}=ir(void 0,"border");ye(()=>{var a;return(a=o.value)==null?void 0:a.height},a=>{a!=null&&i("update:height",a)}),ue(()=>{var a,l;return e.renderless?f(le,null,[(a=r.default)==null?void 0:a.call(r,{itemRef:s})]):f("div",oe({ref:s,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=r.default)==null?void 0:l.call(r)])})}}),tN=-1,nN=1,ug=100,Gx=Q({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Kx(e,t){const n=zi(),i=Se(0);Kt(()=>{i.value=parseFloat(e.itemHeight||0)});const r=Se(0),s=Se(Math.ceil((parseInt(e.height)||n.height.value)/(i.value||16))||1),o=Se(0),a=Se(0),l=z(),u=z();let c=0;const{resizeRef:d,contentRect:v}=ir();Kt(()=>{d.value=l.value});const m=V(()=>{var B;return l.value===document.documentElement?n.height.value:((B=v.value)==null?void 0:B.height)||parseInt(e.height)||0}),g=V(()=>!!(l.value&&u.value&&m.value&&i.value));let p=Array.from({length:t.value.length}),y=Array.from({length:t.value.length});const _=Se(0);let k=-1;function A(B){return p[B]||i.value}const T=r3(()=>{const B=performance.now();y[0]=0;const H=t.value.length;for(let q=1;q<=H-1;q++)y[q]=(y[q-1]||0)+A(q-1);_.value=Math.max(_.value,performance.now()-B)},_),D=ye(g,B=>{B&&(D(),c=u.value.offsetTop,T.immediate(),$(),~k&&ct(()=>{_t&&window.requestAnimationFrame(()=>{K(k),k=-1})}))});wn(()=>{T.clear()});function R(B,H){const q=p[B],J=i.value;i.value=J?Math.min(i.value,H):H,(q!==H||J!==i.value)&&(p[B]=H,T())}function x(B){return B=Zt(B,0,t.value.length-1),y[B]||0}function w(B){return iN(y,B)}let b=0,C=0,E=0;ye(m,(B,H)=>{H&&($(),B<H&&requestAnimationFrame(()=>{C=0,$()}))});function I(){if(!l.value||!u.value)return;const B=l.value.scrollTop,H=performance.now();H-E>500?(C=Math.sign(B-b),c=u.value.offsetTop):C=B-b,b=B,E=H,$()}function P(){!l.value||!u.value||(C=0,E=0,$())}let F=-1;function $(){cancelAnimationFrame(F),F=requestAnimationFrame(j)}function j(){if(!l.value||!m.value)return;const B=b-c,H=Math.sign(C),q=Math.max(0,B-ug),J=Zt(w(q),0,t.value.length),he=B+m.value+ug,_e=Zt(w(he)+1,J+1,t.value.length);if((H!==tN||J<r.value)&&(H!==nN||_e>s.value)){const Ce=x(r.value)-x(J),ie=x(_e)-x(s.value);Math.max(Ce,ie)>ug?(r.value=J,s.value=_e):(J<=0&&(r.value=J),_e>=t.value.length&&(s.value=_e))}o.value=x(r.value),a.value=x(t.value.length)-x(s.value)}function K(B){const H=x(B);!l.value||B&&!H?k=B:l.value.scrollTop=H}const U=V(()=>t.value.slice(r.value,s.value).map((B,H)=>({raw:B,index:H+r.value})));return ye(t,()=>{p=Array.from({length:t.value.length}),y=Array.from({length:t.value.length}),T.immediate(),$()},{deep:!0}),{calculateVisibleItems:$,containerRef:l,markerRef:u,computedItems:U,paddingTop:o,paddingBottom:a,scrollToIndex:K,handleScroll:I,handleScrollend:P,handleItemResize:R}}function iN(e,t){let n=e.length-1,i=0,r=0,s=null,o=-1;if(e[n]<t)return n;for(;i<=n;)if(r=i+n>>1,s=e[r],s>t)n=r-1;else if(s<t)o=r,i=r+1;else return s===t?r:i;return o}const rN=Q({items:{type:Array,default:()=>[]},renderless:Boolean,...Gx(),...Pe(),...rn()},"VVirtualScroll"),Dv=re()({name:"VVirtualScroll",props:rN(),setup(e,t){let{slots:n}=t;const i=Wt("VVirtualScroll"),{dimensionStyles:r}=sn(e),{calculateVisibleItems:s,containerRef:o,markerRef:a,handleScroll:l,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:v,paddingBottom:m,computedItems:g}=Kx(e,ee(e,"items"));return ai(()=>e.renderless,()=>{function p(){var k,A;const _=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";o.value===document.documentElement?(document[_]("scroll",l,{passive:!0}),document[_]("scrollend",u)):((k=o.value)==null||k[_]("scroll",l,{passive:!0}),(A=o.value)==null||A[_]("scrollend",u))}Qt(()=>{o.value=g_(i.vnode.el,!0),p(!0)}),wn(p)}),ue(()=>{const p=g.value.map(y=>f(qx,{key:y.index,renderless:e.renderless,"onUpdate:height":_=>c(y.index,_)},{default:_=>{var k;return(k=n.default)==null?void 0:k.call(n,{item:y.raw,index:y.index,..._})}}));return e.renderless?f(le,null,[f("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:Te(v.value)}},null),p,f("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Te(m.value)}},null)]):f("div",{ref:o,class:["v-virtual-scroll",e.class],onScrollPassive:l,onScrollend:u,style:[r.value,e.style]},[f("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:Te(v.value),paddingBottom:Te(m.value)}},[p])])}),{calculateVisibleItems:s,scrollToIndex:d}}});function N_(e,t){const n=Se(!1);let i;function r(a){cancelAnimationFrame(i),n.value=!0,i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{n.value=!1})})}async function s(){await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>requestAnimationFrame(a)),await new Promise(a=>{if(n.value){const l=ye(n,()=>{l(),a()})}else a()})}async function o(a){var c,d;if(a.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(a.key))return;const l=(d=e.value)==null?void 0:d.$el;if(!l)return;(a.key==="Home"||a.key==="End")&&l.scrollTo({top:a.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await s();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(a.key==="PageDown"||a.key==="Home"){const v=l.getBoundingClientRect().top;for(const m of u)if(m.getBoundingClientRect().top>=v){m.focus();break}}else{const v=l.getBoundingClientRect().bottom;for(const m of[...u].reverse())if(m.getBoundingClientRect().bottom<=v){m.focus();break}}}return{onScrollPassive:r,onKeydown:o}}const F_=Q({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:We,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Lx({itemChildren:!1})},"Select"),sN=Q({...F_(),...nn(Rv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ar({transition:{component:kv}})},"VSelect"),B_=re()({name:"VSelect",props:sN(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Xt(),r=z(),s=z(),o=z(),a=Fe(e,"menu"),l=V({get:()=>a.value,set:B=>{var H;a.value&&!B&&((H=s.value)!=null&&H.openChildren.size)||(a.value=B)}}),{items:u,transformIn:c,transformOut:d}=V_(e),v=Fe(e,"modelValue",[],B=>c(B===null?[null]:Ht(B)),B=>{const H=d(B);return e.multiple?H:H[0]??null}),m=V(()=>typeof e.counterValue=="function"?e.counterValue(v.value):typeof e.counterValue=="number"?e.counterValue:v.value.length),g=Av(),p=V(()=>v.value.map(B=>B.value)),y=Se(!1),_=V(()=>l.value?e.closeText:e.openText);let k="",A;const T=V(()=>e.hideSelected?u.value.filter(B=>!v.value.some(H=>e.valueComparator(H,B))):u.value),D=V(()=>e.hideNoData&&!T.value.length||e.readonly||(g==null?void 0:g.isReadonly.value)),R=V(()=>{var B;return{...e.menuProps,activatorProps:{...((B=e.menuProps)==null?void 0:B.activatorProps)||{},"aria-haspopup":"listbox"}}}),x=z(),w=N_(x,r);function b(B){e.openOnClear&&(l.value=!0)}function C(){D.value||(l.value=!l.value)}function E(B){Yf(B)&&I(B)}function I(B){var he,_e;if(!B.key||e.readonly||g!=null&&g.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(B.key)&&B.preventDefault(),["Enter","ArrowDown"," "].includes(B.key)&&(l.value=!0),["Escape","Tab"].includes(B.key)&&(l.value=!1),B.key==="Home"?(he=x.value)==null||he.focus("first"):B.key==="End"&&((_e=x.value)==null||_e.focus("last"));const H=1e3;if(e.multiple||!Yf(B))return;const q=performance.now();q-A>H&&(k=""),k+=B.key.toLowerCase(),A=q;const J=u.value.find(Ce=>Ce.title.toLowerCase().startsWith(k));if(J!==void 0){v.value=[J];const Ce=T.value.indexOf(J);_t&&window.requestAnimationFrame(()=>{var ie;Ce>=0&&((ie=o.value)==null||ie.scrollToIndex(Ce))})}}function P(B){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!B.props.disabled)if(e.multiple){const q=v.value.findIndex(he=>e.valueComparator(he.value,B.value)),J=H??!~q;if(~q){const he=J?[...v.value,B]:[...v.value];he.splice(q,1),v.value=he}else J&&(v.value=[...v.value,B])}else{const q=H!==!1;v.value=q?[B]:[],ct(()=>{l.value=!1})}}function F(B){var H;(H=x.value)!=null&&H.$el.contains(B.relatedTarget)||(l.value=!1)}function $(){var B;e.eager&&((B=o.value)==null||B.calculateVisibleItems())}function j(){var B;y.value&&((B=r.value)==null||B.focus())}function K(B){y.value=!0}function U(B){if(B==null)v.value=[];else if(cl(r.value,":autofill")||cl(r.value,":-webkit-autofill")){const H=u.value.find(q=>q.title===B);H&&P(H)}else r.value&&(r.value.value="")}return ye(l,()=>{if(!e.hideSelected&&l.value&&v.value.length){const B=T.value.findIndex(H=>v.value.some(q=>e.valueComparator(q.value,H.value)));_t&&window.requestAnimationFrame(()=>{var H;B>=0&&((H=o.value)==null||H.scrollToIndex(B))})}}),ye(()=>e.items,(B,H)=>{l.value||y.value&&!H.length&&B.length&&(l.value=!0)}),ue(()=>{const B=!!(e.chips||n.chip),H=!!(!e.hideNoData||T.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),q=v.value.length>0,J=zo.filterProps(e),he=q||!y.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return f(zo,oe({ref:r},J,{modelValue:v.value.map(_e=>_e.props.value).join(", "),"onUpdate:modelValue":U,focused:y.value,"onUpdate:focused":_e=>y.value=_e,validationValue:v.externalValue,counterValue:m.value,dirty:q,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":v.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:he,"onClick:clear":b,"onMousedown:control":C,onBlur:F,onKeydown:I,"aria-label":i(_.value),title:i(_.value)}),{...n,default:()=>f(le,null,[f(vl,oe({ref:s,modelValue:l.value,"onUpdate:modelValue":_e=>l.value=_e,activator:"parent",contentClass:"v-select__content",disabled:D.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:$,onAfterLeave:j},R.value),{default:()=>[H&&f(Pv,oe({ref:x,selected:p.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:_e=>_e.preventDefault(),onKeydown:E,onFocusin:K,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},w,e.listProps),{default:()=>{var _e,Ce,ie;return[(_e=n["prepend-item"])==null?void 0:_e.call(n),!T.value.length&&!e.hideNoData&&(((Ce=n["no-data"])==null?void 0:Ce.call(n))??f(is,{title:i(e.noDataText)},null)),f(Dv,{ref:o,renderless:!0,items:T.value},{default:be=>{var Be;let{item:xe,index:Oe,itemRef:Re}=be;const me=oe(xe.props,{ref:Re,key:Oe,onClick:()=>P(xe,null)});return((Be=n.item)==null?void 0:Be.call(n,{item:xe,index:Oe,props:me}))??f(is,oe(me,{role:"option"}),{prepend:L=>{let{isSelected:N}=L;return f(le,null,[e.multiple&&!e.hideSelected?f(ns,{key:xe.value,modelValue:N,ripple:!1,tabindex:"-1"},null):void 0,xe.props.prependAvatar&&f($i,{image:xe.props.prependAvatar},null),xe.props.prependIcon&&f(pt,{icon:xe.props.prependIcon},null)])}})}}),(ie=n["append-item"])==null?void 0:ie.call(n)]}})]}),v.value.map((_e,Ce)=>{function ie(Re){Re.stopPropagation(),Re.preventDefault(),P(_e,!1)}const be={"onClick:close":ie,onKeydown(Re){Re.key!=="Enter"&&Re.key!==" "||(Re.preventDefault(),Re.stopPropagation(),ie(Re))},onMousedown(Re){Re.preventDefault(),Re.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},xe=B?!!n.chip:!!n.selection,Oe=xe?pv(B?n.chip({item:_e,index:Ce,props:be}):n.selection({item:_e,index:Ce})):void 0;if(!(xe&&!Oe))return f("div",{key:_e.value,class:"v-select__selection"},[B?n.chip?f(nt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:_e.title}}},{default:()=>[Oe]}):f(Nl,oe({key:"chip",closable:e.closableChips,size:"small",text:_e.title,disabled:_e.props.disabled},be),null):Oe??f("span",{class:"v-select__selection-text"},[_e.title,e.multiple&&Ce<v.value.length-1&&f("span",{class:"v-select__selection-comma"},[Le(",")])])])})]),"append-inner":function(){var be;for(var _e=arguments.length,Ce=new Array(_e),ie=0;ie<_e;ie++)Ce[ie]=arguments[ie];return f(le,null,[(be=n["append-inner"])==null?void 0:be.call(n,...Ce),e.menuIcon?f(pt,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),qi({isFocused:y,menu:l,select:P},r)}}),oN=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Jc=Q({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function aN(e,t,n){var a;const i=[],r=(n==null?void 0:n.default)??oN,s=n!=null&&n.filterKeys?Ht(n.filterKeys):!1,o=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return i;e:for(let l=0;l<e.length;l++){const[u,c=u]=Ht(e[l]),d={},v={};let m=-1;if((t||o>0)&&!(n!=null&&n.noFilter)){if(typeof u=="object"){const y=s||Object.keys(c);for(const _ of y){const k=an(c,_),A=(a=n==null?void 0:n.customKeyFilter)==null?void 0:a[_];if(m=A?A(k,t,u):r(k,t,u),m!==-1&&m!==!1)A?d[_]=m:v[_]=m;else if((n==null?void 0:n.filterMode)==="every")continue e}}else m=r(u,t,u),m!==-1&&m!==!1&&(v.title=m);const g=Object.keys(v).length,p=Object.keys(d).length;if(!g&&!p||(n==null?void 0:n.filterMode)==="union"&&p!==o&&!g||(n==null?void 0:n.filterMode)==="intersection"&&(p!==o||!g))continue}i.push({index:l,matches:{...v,...d}})}return i}function Zc(e,t,n,i){const r=z([]),s=z(new Map),o=V(()=>i!=null&&i.transform?se(t).map(l=>[l,i.transform(l)]):se(t));Kt(()=>{const l=typeof n=="function"?n():se(n),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=aN(o.value,u,{customKeyFilter:{...e.customKeyFilter,...se(i==null?void 0:i.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),d=se(t),v=[],m=new Map;c.forEach(g=>{let{index:p,matches:y}=g;const _=d[p];v.push(_),m.set(_.value,y)}),r.value=v,s.value=m});function a(l){return s.value.get(l.value)}return{filteredItems:r,filteredMatches:s,getMatches:a}}function lN(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?f(le,null,[f("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),f("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),f("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const uN=Q({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Jc({filterKeys:["title"]}),...F_(),...nn(Rv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ar({transition:!1})},"VAutocomplete"),cN=re()({name:"VAutocomplete",props:uN(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Xt(),r=z(),s=Se(!1),o=Se(!0),a=Se(!1),l=z(),u=z(),c=Fe(e,"menu"),d=V({get:()=>c.value,set:me=>{var Be;c.value&&!me&&((Be=l.value)!=null&&Be.openChildren.size)||(c.value=me)}}),v=Se(-1),m=V(()=>{var me;return(me=r.value)==null?void 0:me.color}),g=V(()=>d.value?e.closeText:e.openText),{items:p,transformIn:y,transformOut:_}=V_(e),{textColorClasses:k,textColorStyles:A}=On(m),T=Fe(e,"search",""),D=Fe(e,"modelValue",[],me=>y(me===null?[null]:Ht(me)),me=>{const Be=_(me);return e.multiple?Be:Be[0]??null}),R=V(()=>typeof e.counterValue=="function"?e.counterValue(D.value):typeof e.counterValue=="number"?e.counterValue:D.value.length),x=Av(),{filteredItems:w,getMatches:b}=Zc(e,p,()=>o.value?"":T.value),C=V(()=>e.hideSelected?w.value.filter(me=>!D.value.some(Be=>Be.value===me.value)):w.value),E=V(()=>!!(e.chips||n.chip)),I=V(()=>E.value||!!n.selection),P=V(()=>D.value.map(me=>me.props.value)),F=V(()=>{var Be;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&T.value===((Be=C.value[0])==null?void 0:Be.title))&&C.value.length>0&&!o.value&&!a.value}),$=V(()=>e.hideNoData&&!C.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),j=z(),K=N_(j,r);function U(me){e.openOnClear&&(d.value=!0),T.value=""}function B(){$.value||(d.value=!0)}function H(me){$.value||(s.value&&(me.preventDefault(),me.stopPropagation()),d.value=!d.value)}function q(me){var Be;Yf(me)&&((Be=r.value)==null||Be.focus())}function J(me){var N,X,ne;if(e.readonly||x!=null&&x.isReadonly.value)return;const Be=r.value.selectionStart,L=D.value.length;if((v.value>-1||["Enter","ArrowDown","ArrowUp"].includes(me.key))&&me.preventDefault(),["Enter","ArrowDown"].includes(me.key)&&(d.value=!0),["Escape"].includes(me.key)&&(d.value=!1),F.value&&["Enter","Tab"].includes(me.key)&&!D.value.some(te=>{let{value:ce}=te;return ce===C.value[0].value})&&Re(C.value[0]),me.key==="ArrowDown"&&F.value&&((N=j.value)==null||N.focus("next")),["Backspace","Delete"].includes(me.key)){if(!e.multiple&&I.value&&D.value.length>0&&!T.value)return Re(D.value[0],!1);if(~v.value){const te=v.value;Re(D.value[v.value],!1),v.value=te>=L-1?L-2:te}else me.key==="Backspace"&&!T.value&&(v.value=L-1)}if(e.multiple){if(me.key==="ArrowLeft"){if(v.value<0&&Be>0)return;const te=v.value>-1?v.value-1:L-1;D.value[te]?v.value=te:(v.value=-1,r.value.setSelectionRange((X=T.value)==null?void 0:X.length,(ne=T.value)==null?void 0:ne.length))}if(me.key==="ArrowRight"){if(v.value<0)return;const te=v.value+1;D.value[te]?v.value=te:(v.value=-1,r.value.setSelectionRange(0,0))}}}function he(me){if(cl(r.value,":autofill")||cl(r.value,":-webkit-autofill")){const Be=p.value.find(L=>L.title===me.target.value);Be&&Re(Be)}}function _e(){var me;e.eager&&((me=u.value)==null||me.calculateVisibleItems())}function Ce(){var me;s.value&&(o.value=!0,(me=r.value)==null||me.focus())}function ie(me){s.value=!0,setTimeout(()=>{a.value=!0})}function be(me){a.value=!1}function xe(me){(me==null||me===""&&!e.multiple&&!I.value)&&(D.value=[])}const Oe=Se(!1);function Re(me){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!me||me.props.disabled))if(e.multiple){const L=D.value.findIndex(X=>e.valueComparator(X.value,me.value)),N=Be??!~L;if(~L){const X=N?[...D.value,me]:[...D.value];X.splice(L,1),D.value=X}else N&&(D.value=[...D.value,me]);e.clearOnSelect&&(T.value="")}else{const L=Be!==!1;D.value=L?[me]:[],T.value=L&&!I.value?me.title:"",ct(()=>{d.value=!1,o.value=!0})}}return ye(s,(me,Be)=>{var L;me!==Be&&(me?(Oe.value=!0,T.value=e.multiple||I.value?"":String(((L=D.value.at(-1))==null?void 0:L.props.title)??""),o.value=!0,ct(()=>Oe.value=!1)):(!e.multiple&&T.value==null&&(D.value=[]),d.value=!1,D.value.some(N=>{let{title:X}=N;return X===T.value})||(T.value=""),v.value=-1))}),ye(T,me=>{!s.value||Oe.value||(me&&(d.value=!0),o.value=!me)}),ye(d,()=>{if(!e.hideSelected&&d.value&&D.value.length){const me=C.value.findIndex(Be=>D.value.some(L=>Be.value===L.value));_t&&window.requestAnimationFrame(()=>{var Be;me>=0&&((Be=u.value)==null||Be.scrollToIndex(me))})}}),ye(()=>e.items,(me,Be)=>{d.value||s.value&&!Be.length&&me.length&&(d.value=!0)}),ue(()=>{const me=!!(!e.hideNoData||C.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Be=D.value.length>0,L=zo.filterProps(e);return f(zo,oe({ref:r},L,{modelValue:T.value,"onUpdate:modelValue":[N=>T.value=N,xe],focused:s.value,"onUpdate:focused":N=>s.value=N,validationValue:D.externalValue,counterValue:R.value,dirty:Be,onChange:he,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!I.value,"v-autocomplete--selecting-index":v.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:Be?void 0:e.placeholder,"onClick:clear":U,"onMousedown:control":B,onKeydown:J}),{...n,default:()=>f(le,null,[f(vl,oe({ref:l,modelValue:d.value,"onUpdate:modelValue":N=>d.value=N,activator:"parent",contentClass:"v-autocomplete__content",disabled:$.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:_e,onAfterLeave:Ce},e.menuProps),{default:()=>[me&&f(Pv,oe({ref:j,selected:P.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:N=>N.preventDefault(),onKeydown:q,onFocusin:ie,onFocusout:be,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},K,e.listProps),{default:()=>{var N,X,ne;return[(N=n["prepend-item"])==null?void 0:N.call(n),!C.value.length&&!e.hideNoData&&(((X=n["no-data"])==null?void 0:X.call(n))??f(is,{title:i(e.noDataText)},null)),f(Dv,{ref:u,renderless:!0,items:C.value},{default:te=>{var ve;let{item:ce,index:Ee,itemRef:de}=te;const we=oe(ce.props,{ref:de,key:Ee,active:F.value&&Ee===0?!0:void 0,onClick:()=>Re(ce,null)});return((ve=n.item)==null?void 0:ve.call(n,{item:ce,index:Ee,props:we}))??f(is,oe(we,{role:"option"}),{prepend:Ue=>{let{isSelected:Ae}=Ue;return f(le,null,[e.multiple&&!e.hideSelected?f(ns,{key:ce.value,modelValue:Ae,ripple:!1,tabindex:"-1"},null):void 0,ce.props.prependAvatar&&f($i,{image:ce.props.prependAvatar},null),ce.props.prependIcon&&f(pt,{icon:ce.props.prependIcon},null)])},title:()=>{var Ue,Ae;return o.value?ce.title:lN(ce.title,(Ue=b(ce))==null?void 0:Ue.title,((Ae=T.value)==null?void 0:Ae.length)??0)}})}}),(ne=n["append-item"])==null?void 0:ne.call(n)]}})]}),D.value.map((N,X)=>{function ne(de){de.stopPropagation(),de.preventDefault(),Re(N,!1)}const te={"onClick:close":ne,onKeydown(de){de.key!=="Enter"&&de.key!==" "||(de.preventDefault(),de.stopPropagation(),ne(de))},onMousedown(de){de.preventDefault(),de.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ce=E.value?!!n.chip:!!n.selection,Ee=ce?pv(E.value?n.chip({item:N,index:X,props:te}):n.selection({item:N,index:X})):void 0;if(!(ce&&!Ee))return f("div",{key:N.value,class:["v-autocomplete__selection",X===v.value&&["v-autocomplete__selection--selected",k.value]],style:X===v.value?A.value:{}},[E.value?n.chip?f(nt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:N.title}}},{default:()=>[Ee]}):f(Nl,oe({key:"chip",closable:e.closableChips,size:"small",text:N.title,disabled:N.props.disabled},te),null):Ee??f("span",{class:"v-autocomplete__selection-text"},[N.title,e.multiple&&X<D.value.length-1&&f("span",{class:"v-autocomplete__selection-comma"},[Le(",")])])])})]),"append-inner":function(){var te;for(var N=arguments.length,X=new Array(N),ne=0;ne<N;ne++)X[ne]=arguments[ne];return f(le,null,[(te=n["append-inner"])==null?void 0:te.call(n,...X),e.menuIcon?f(pt,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:H,onClick:hT,"aria-label":i(g.value),title:i(g.value),tabindex:"-1"},null):void 0])}})}),qi({isFocused:s,isPristine:o,menu:d,search:T,filteredItems:w,select:Re},r)}}),dN=Q({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:We,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Pe(),...vs({location:"top end"}),...Nt(),...Qe(),...ot(),...ar({transition:"scale-rotate-transition"})},"VBadge"),fN=re()({name:"VBadge",inheritAttrs:!1,props:dN(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:i}=It(ee(e,"color")),{roundedClasses:r}=qt(e),{t:s}=Xt(),{textColorClasses:o,textColorStyles:a}=On(ee(e,"textColor")),{themeClasses:l}=UT(),{locationStyles:u}=ga(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return ue(()=>{const c=Number(e.content),d=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[v,m]=ep(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return f(e.tag,oe({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},m,{style:e.style}),{default:()=>{var g,p;return[f("div",{class:"v-badge__wrapper"},[(p=(g=t.slots).default)==null?void 0:p.call(g),f(Xn,{transition:e.transition},{default:()=>{var y,_;return[xt(f("span",oe({class:["v-badge__badge",l.value,n.value,r.value,o.value],style:[i.value,a.value,e.inline?{}:u.value],"aria-atomic":"true","aria-label":s(e.label,c),"aria-live":"polite",role:"status"},v),[e.dot?void 0:t.slots.badge?(_=(y=t.slots).badge)==null?void 0:_.call(y):e.icon?f(pt,{icon:e.icon},null):d]),[[xi,e.modelValue]])]}})])]}})}),{}}}),hN=Q({color:String,density:String,...Pe()},"VBannerActions"),Yx=re()({name:"VBannerActions",props:hN(),setup(e,t){let{slots:n}=t;return zt({VBtn:{color:e.color,density:e.density,slim:!0,variant:"text"}}),ue(()=>{var i;return f("div",{class:["v-banner-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),Qx=Rr("v-banner-text"),vN=Q({avatar:String,bgColor:String,color:String,icon:We,lines:String,stacked:Boolean,sticky:Boolean,text:String,...gi(),...Pe(),...hn(),...rn(),...la({mobile:null}),...fn(),...vs(),...Ol(),...Nt(),...Qe(),...ot()},"VBanner"),mN=re()({name:"VBanner",props:vN(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=It(e,"bgColor"),{borderClasses:s}=Vi(e),{densityClasses:o}=ti(e),{displayClasses:a,mobile:l}=zi(e),{dimensionStyles:u}=sn(e),{elevationClasses:c}=Cn(e),{locationStyles:d}=ga(e),{positionClasses:v}=Ll(e),{roundedClasses:m}=qt(e),{themeClasses:g}=yt(e),p=ee(e,"color"),y=ee(e,"density");zt({VBannerActions:{color:p,density:y}}),ue(()=>{const _=!!(e.text||n.text),k=!!(e.avatar||e.icon),A=!!(k||n.prepend);return f(e.tag,{class:["v-banner",{"v-banner--stacked":e.stacked||l.value,"v-banner--sticky":e.sticky,[`v-banner--${e.lines}-line`]:!!e.lines},g.value,i.value,s.value,o.value,a.value,c.value,v.value,m.value,e.class],style:[r.value,u.value,d.value,e.style],role:"banner"},{default:()=>{var T;return[A&&f("div",{key:"prepend",class:"v-banner__prepend"},[n.prepend?f(nt,{key:"prepend-defaults",disabled:!k,defaults:{VAvatar:{color:p.value,density:y.value,icon:e.icon,image:e.avatar}}},n.prepend):f($i,{key:"prepend-avatar",color:p.value,density:y.value,icon:e.icon,image:e.avatar},null)]),f("div",{class:"v-banner__content"},[_&&f(Qx,{key:"text"},{default:()=>{var D;return[((D=n.text)==null?void 0:D.call(n))??e.text]}}),(T=n.default)==null?void 0:T.call(n)]),n.actions&&f(Yx,{key:"actions"},n.actions)]}})})}}),gN=Q({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:e=>!e||["horizontal","shift"].includes(e)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...gi(),...Pe(),...hn(),...fn(),...Nt(),...ua({name:"bottom-navigation"}),...Qe({tag:"header"}),...ha({selectedClass:"v-btn--selected"}),...ot()},"VBottomNavigation"),pN=re()({name:"VBottomNavigation",props:gN(),emits:{"update:active":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=UT(),{borderClasses:r}=Vi(e),{backgroundColorClasses:s,backgroundColorStyles:o}=It(ee(e,"bgColor")),{densityClasses:a}=ti(e),{elevationClasses:l}=Cn(e),{roundedClasses:u}=qt(e),{ssrBootStyles:c}=da(),d=V(()=>Number(e.height)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0)),v=Fe(e,"active",e.active),{layoutItemStyles:m}=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:V(()=>"bottom"),layoutSize:V(()=>v.value?d.value:0),elementSize:d,active:v,absolute:ee(e,"absolute")});return ro(e,I_),zt({VBtn:{baseColor:ee(e,"baseColor"),color:ee(e,"color"),density:ee(e,"density"),stacked:V(()=>e.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ue(()=>f(e.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":v.value,"v-bottom-navigation--grow":e.grow,"v-bottom-navigation--shift":e.mode==="shift"},i.value,s.value,r.value,a.value,l.value,u.value,e.class],style:[o.value,m.value,{height:Te(d.value)},c.value,e.style]},{default:()=>[n.default&&f("div",{class:"v-bottom-navigation__content"},[n.default()])]})),{}}}),Xx=Q({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Qc({origin:"center center",scrollStrategy:"block",transition:{component:kv},zIndex:2400})},"VDialog"),_p=re()({name:"VDialog",props:Xx(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Fe(e,"modelValue"),{scopeId:s}=pa(),o=z();function a(c){var m,g;const d=c.relatedTarget,v=c.target;if(d!==v&&((m=o.value)!=null&&m.contentEl)&&((g=o.value)!=null&&g.globalTop)&&![document,o.value.contentEl].includes(v)&&!o.value.contentEl.contains(v)){const p=sc(o.value.contentEl);if(!p.length)return;const y=p[0],_=p[p.length-1];d===y?_.focus():y.focus()}}_t&&ye(()=>r.value&&e.retainFocus,c=>{c?document.addEventListener("focusin",a):document.removeEventListener("focusin",a)},{immediate:!0});function l(){var c;n("afterEnter"),(c=o.value)!=null&&c.contentEl&&!o.value.contentEl.contains(document.activeElement)&&o.value.contentEl.focus({preventScroll:!0})}function u(){n("afterLeave")}return ye(r,async c=>{var d;c||(await ct(),(d=o.value.activatorEl)==null||d.focus({preventScroll:!0}))}),ue(()=>{const c=Sr.filterProps(e),d=oe({"aria-haspopup":"dialog"},e.activatorProps),v=oe({tabindex:-1},e.contentProps);return f(Sr,oe({ref:o,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},c,{modelValue:r.value,"onUpdate:modelValue":m=>r.value=m,"aria-modal":"true",activatorProps:d,contentProps:v,role:"dialog",onAfterEnter:l,onAfterLeave:u},s),{activator:i.activator,default:function(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];return f(nt,{root:"VDialog"},{default:()=>{var y;return[(y=i.default)==null?void 0:y.call(i,...g)]}})}})}),qi({},o)}}),yN=Q({inset:Boolean,...Xx({transition:"bottom-sheet-transition"})},"VBottomSheet"),_N=re()({name:"VBottomSheet",props:yN(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue");return ue(()=>{const r=_p.filterProps(e);return f(_p,oe(r,{contentClass:["v-bottom-sheet__content",e.contentClass],modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-bottom-sheet",{"v-bottom-sheet--inset":e.inset},e.class],style:e.style}),n)}),{}}}),bN=Q({divider:[Number,String],...Pe()},"VBreadcrumbsDivider"),Jx=re()({name:"VBreadcrumbsDivider",props:bN(),setup(e,t){let{slots:n}=t;return ue(()=>{var i;return f("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((i=n==null?void 0:n.default)==null?void 0:i.call(n))??e.divider])}),{}}}),wN=Q({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Pe(),...Gc(),...Qe({tag:"li"})},"VBreadcrumbsItem"),Zx=re()({name:"VBreadcrumbsItem",props:wN(),setup(e,t){let{slots:n,attrs:i}=t;const r=qc(e,i),s=V(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),o=V(()=>s.value?e.activeColor:e.color),{textColorClasses:a,textColorStyles:l}=On(o);return ue(()=>f(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":s.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:s.value&&e.activeClass},a.value,e.class],style:[l.value,e.style],"aria-current":s.value?"page":void 0},{default:()=>{var u,c;return[r.isLink.value?f("a",oe({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[((c=n.default)==null?void 0:c.call(n))??e.title]):((u=n.default)==null?void 0:u.call(n))??e.title]}})),{}}}),kN=Q({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:We,items:{type:Array,default:()=>[]},...Pe(),...hn(),...Nt(),...Qe({tag:"ul"})},"VBreadcrumbs"),SN=re()({name:"VBreadcrumbs",props:kN(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=It(ee(e,"bgColor")),{densityClasses:s}=ti(e),{roundedClasses:o}=qt(e);zt({VBreadcrumbsDivider:{divider:ee(e,"divider")},VBreadcrumbsItem:{activeClass:ee(e,"activeClass"),activeColor:ee(e,"activeColor"),color:ee(e,"color"),disabled:ee(e,"disabled")}});const a=V(()=>e.items.map(l=>typeof l=="string"?{item:{title:l},raw:l}:{item:l,raw:l}));return ue(()=>{const l=!!(n.prepend||e.icon);return f(e.tag,{class:["v-breadcrumbs",i.value,s.value,o.value,e.class],style:[r.value,e.style]},{default:()=>{var u;return[l&&f("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[n.prepend?f(nt,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},n.prepend):f(pt,{key:"prepend-icon",start:!0,icon:e.icon},null)]),a.value.map((c,d,v)=>{var p;let{item:m,raw:g}=c;return f(le,null,[((p=n.item)==null?void 0:p.call(n,{item:m,index:d}))??f(Zx,oe({key:d,disabled:d>=v.length-1},typeof m=="string"?{title:m}:m),{default:n.title?()=>{var y;return(y=n.title)==null?void 0:y.call(n,{item:m,index:d})}:void 0}),d<v.length-1&&f(Jx,null,{default:n.divider?()=>{var y;return(y=n.divider)==null?void 0:y.call(n,{item:g,index:d})}:void 0})])}),(u=n.default)==null?void 0:u.call(n)]}})}),{}}}),e2=re()({name:"VCardActions",props:Pe(),setup(e,t){let{slots:n}=t;return zt({VBtn:{slim:!0,variant:"text"}}),ue(()=>{var i;return f("div",{class:["v-card-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),CN=Q({opacity:[Number,String],...Pe(),...Qe()},"VCardSubtitle"),t2=re()({name:"VCardSubtitle",props:CN(),setup(e,t){let{slots:n}=t;return ue(()=>f(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),n2=Rr("v-card-title"),EN=Q({appendAvatar:String,appendIcon:We,prependAvatar:String,prependIcon:We,subtitle:[String,Number],title:[String,Number],...Pe(),...hn()},"VCardItem"),i2=re()({name:"VCardItem",props:EN(),setup(e,t){let{slots:n}=t;return ue(()=>{var u;const i=!!(e.prependAvatar||e.prependIcon),r=!!(i||n.prepend),s=!!(e.appendAvatar||e.appendIcon),o=!!(s||n.append),a=!!(e.title!=null||n.title),l=!!(e.subtitle!=null||n.subtitle);return f("div",{class:["v-card-item",e.class],style:e.style},[r&&f("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?f(nt,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):f(le,null,[e.prependAvatar&&f($i,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&f(pt,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),f("div",{class:"v-card-item__content"},[a&&f(n2,{key:"title"},{default:()=>{var c;return[((c=n.title)==null?void 0:c.call(n))??e.title]}}),l&&f(t2,{key:"subtitle"},{default:()=>{var c;return[((c=n.subtitle)==null?void 0:c.call(n))??e.subtitle]}}),(u=n.default)==null?void 0:u.call(n)]),o&&f("div",{key:"append",class:"v-card-item__append"},[n.append?f(nt,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):f(le,null,[e.appendIcon&&f(pt,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&f($i,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),IN=Q({opacity:[Number,String],...Pe(),...Qe()},"VCardText"),r2=re()({name:"VCardText",props:IN(),setup(e,t){let{slots:n}=t;return ue(()=>f(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),TN=Q({appendAvatar:String,appendIcon:We,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:We,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...gi(),...Pe(),...hn(),...rn(),...fn(),...Iv(),...vs(),...Ol(),...Nt(),...Gc(),...Qe(),...ot(),...Wi({variant:"elevated"})},"VCard"),xN=re()({name:"VCard",directives:{Ripple:ms},props:TN(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:r}=yt(e),{borderClasses:s}=Vi(e),{colorClasses:o,colorStyles:a,variantClasses:l}=fa(e),{densityClasses:u}=ti(e),{dimensionStyles:c}=sn(e),{elevationClasses:d}=Cn(e),{loaderClasses:v}=zc(e),{locationStyles:m}=ga(e),{positionClasses:g}=Ll(e),{roundedClasses:p}=qt(e),y=qc(e,n),_=V(()=>e.link!==!1&&y.isLink.value),k=V(()=>!e.disabled&&e.link!==!1&&(e.link||y.isClickable.value));return ue(()=>{const A=_.value?"a":e.tag,T=!!(i.title||e.title!=null),D=!!(i.subtitle||e.subtitle!=null),R=T||D,x=!!(i.append||e.appendAvatar||e.appendIcon),w=!!(i.prepend||e.prependAvatar||e.prependIcon),b=!!(i.image||e.image),C=R||w||x,E=!!(i.text||e.text!=null);return xt(f(A,oe({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":k.value},r.value,s.value,o.value,u.value,d.value,v.value,g.value,p.value,l.value,e.class],style:[a.value,c.value,m.value,e.style],onClick:k.value&&y.navigate,tabindex:e.disabled?-1:void 0},y.linkProps),{default:()=>{var I;return[b&&f("div",{key:"image",class:"v-card__image"},[i.image?f(nt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):f(ts,{key:"image-img",cover:!0,src:e.image},null)]),f(Wc,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),C&&f(i2,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),E&&f(r2,{key:"text"},{default:()=>{var P;return[((P=i.text)==null?void 0:P.call(i))??e.text]}}),(I=i.default)==null?void 0:I.call(i),i.actions&&f(e2,null,{default:i.actions}),io(k.value,"v-card")]}}),[[mi("ripple"),k.value&&e.ripple]])}),{}}}),AN=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:r}=e,s=.5,o=16;e.offsetX=n-t,e.offsetY=r-i,Math.abs(e.offsetY)<s*Math.abs(e.offsetX)&&(e.left&&n<t-o&&e.left(e),e.right&&n>t+o&&e.right(e)),Math.abs(e.offsetX)<s*Math.abs(e.offsetY)&&(e.up&&r<i-o&&e.up(e),e.down&&r>i+o&&e.down(e))};function PN(e,t){var i;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(i=t.start)==null||i.call(t,{originalEvent:e,...t})}function VN(e,t){var i;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(i=t.end)==null||i.call(t,{originalEvent:e,...t}),AN(t)}function RN(e,t){var i;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(i=t.move)==null||i.call(t,{originalEvent:e,...t})}function DN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>PN(n,t),touchend:n=>VN(n,t),touchmove:n=>RN(n,t)}}function ON(e,t){var a;const n=t.value,i=n!=null&&n.parent?e.parentElement:e,r=(n==null?void 0:n.options)??{passive:!0},s=(a=t.instance)==null?void 0:a.$.uid;if(!i||!s)return;const o=DN(t.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[s]=o,lT(o).forEach(l=>{i.addEventListener(l,o[l],r)})}function LN(e,t){var s,o;const n=(s=t.value)!=null&&s.parent?e.parentElement:e,i=(o=t.instance)==null?void 0:o.$.uid;if(!(n!=null&&n._touchHandlers)||!i)return;const r=n._touchHandlers[i];lT(r).forEach(a=>{n.removeEventListener(a,r[a])}),delete n._touchHandlers[i]}const $_={mounted:ON,unmounted:LN},s2=Symbol.for("vuetify:v-window"),o2=Symbol.for("vuetify:v-window-group"),Ov=Q({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Pe(),...Qe(),...ot()},"VWindow"),Wo=re()({name:"VWindow",directives:{Touch:$_},props:Ov(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{isRtl:r}=dn(),{t:s}=Xt(),o=ro(e,o2),a=z(),l=V(()=>r.value?!e.reverse:e.reverse),u=Se(!1),c=V(()=>{const T=e.direction==="vertical"?"y":"x",R=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${T}${R}-transition`}),d=Se(0),v=z(void 0),m=V(()=>o.items.value.findIndex(T=>o.selected.value.includes(T.id)));ye(m,(T,D)=>{const R=o.items.value.length,x=R-1;R<=2?u.value=T<D:T===x&&D===0?u.value=!0:T===0&&D===x?u.value=!1:u.value=T<D}),Ot(s2,{transition:c,isReversed:u,transitionCount:d,transitionHeight:v,rootRef:a});const g=V(()=>e.continuous||m.value!==0),p=V(()=>e.continuous||m.value!==o.items.value.length-1);function y(){g.value&&o.prev()}function _(){p.value&&o.next()}const k=V(()=>{const T=[],D={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:o.prev,"aria-label":s("$vuetify.carousel.prev")};T.push(g.value?n.prev?n.prev({props:D}):f(gt,D,null):f("div",null,null));const R={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:o.next,"aria-label":s("$vuetify.carousel.next")};return T.push(p.value?n.next?n.next({props:R}):f(gt,R,null):f("div",null,null)),T}),A=V(()=>e.touch===!1?e.touch:{...{left:()=>{l.value?y():_()},right:()=>{l.value?_():y()},start:D=>{let{originalEvent:R}=D;R.stopPropagation()}},...e.touch===!0?{}:e.touch});return ue(()=>xt(f(e.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},i.value,e.class],style:e.style},{default:()=>{var T,D;return[f("div",{class:"v-window__container",style:{height:v.value}},[(T=n.default)==null?void 0:T.call(n,{group:o}),e.showArrows!==!1&&f("div",{class:"v-window__controls"},[k.value])]),(D=n.additional)==null?void 0:D.call(n,{group:o})]}}),[[mi("touch"),A.value]])),{group:o}}}),MN=Q({color:String,cycle:Boolean,delimiterIcon:{type:We,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...Ov({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),NN=re()({name:"VCarousel",props:MN(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),{t:r}=Xt(),s=z();let o=-1;ye(i,l),ye(()=>e.interval,l),ye(()=>e.cycle,u=>{u?l():window.clearTimeout(o)}),Qt(a);function a(){!e.cycle||!s.value||(o=window.setTimeout(s.value.group.next,+e.interval>0?+e.interval:6e3))}function l(){window.clearTimeout(o),window.requestAnimationFrame(a)}return ue(()=>{const u=Wo.filterProps(e);return f(Wo,oe({ref:s},u,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:Te(e.height)},e.style]}),{default:n.default,additional:c=>{let{group:d}=c;return f(le,null,[!e.hideDelimiters&&f("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&f(nt,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((v,m)=>{const g={id:`carousel-item-${v.id}`,"aria-label":r("$vuetify.carousel.ariaLabel.delimiter",m+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(v.id)&&"v-btn--active"],onClick:()=>d.select(v.id,!0)};return n.item?n.item({props:g,item:v}):f(gt,oe(v,g),null)})]})]),e.progress&&f(Ev,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(d.getItemIndex(i.value)+1)/d.items.value.length*100},null)])},prev:n.prev,next:n.next})}),{}}}),Lv=Q({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Pe(),...va(),...O_()},"VWindowItem"),qo=re()({name:"VWindowItem",directives:{Touch:$_},props:Lv(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=Ze(s2),r=ma(e,o2),{isBooted:s}=da();if(!i||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const o=Se(!1),a=V(()=>s.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function l(){!o.value||!i||(o.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function u(){var g;o.value||!i||(o.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=Te((g=i.rootRef.value)==null?void 0:g.clientHeight)),i.transitionCount.value+=1)}function c(){l()}function d(g){o.value&&ct(()=>{!a.value||!o.value||!i||(i.transitionHeight.value=Te(g.clientHeight))})}const v=V(()=>{const g=i.isReversed.value?e.reverseTransition:e.transition;return a.value?{name:typeof g!="string"?i.transition.value:g,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:m}=L_(e,r.isSelected);return ue(()=>f(Xn,{transition:v.value,disabled:!s.value},{default:()=>{var g;return[xt(f("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[m.value&&((g=n.default)==null?void 0:g.call(n))]),[[xi,r.isSelected.value]])]}})),{groupItem:r}}}),FN=Q({...JT(),...Lv()},"VCarouselItem"),BN=re()({name:"VCarouselItem",inheritAttrs:!1,props:FN(),setup(e,t){let{slots:n,attrs:i}=t;ue(()=>{const r=ts.filterProps(e),s=qo.filterProps(e);return f(qo,oe({class:["v-carousel-item",e.class]},s),{default:()=>[f(ts,oe(i,r),n)]})})}}),$N=Rr("v-code"),UN=Q({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Pe()},"VColorPickerCanvas"),HN=Ai({name:"VColorPickerCanvas",props:UN(),emits:{"update:color":e=>!0,"update:position":e=>!0},setup(e,t){let{emit:n}=t;const i=Se(!1),r=z(),s=Se(parseFloat(e.width)),o=Se(parseFloat(e.height)),a=z({x:0,y:0}),l=V({get:()=>a.value,set(y){var A,T;if(!r.value)return;const{x:_,y:k}=y;a.value=y,n("update:color",{h:((A=e.color)==null?void 0:A.h)??0,s:Zt(_,0,s.value)/s.value,v:1-Zt(k,0,o.value)/o.value,a:((T=e.color)==null?void 0:T.a)??1})}}),u=V(()=>{const{x:y,y:_}=l.value,k=parseInt(e.dotSize,10)/2;return{width:Te(e.dotSize),height:Te(e.dotSize),transform:`translate(${Te(y-k)}, ${Te(_-k)})`}}),{resizeRef:c}=ir(y=>{var A;if(!((A=c.el)!=null&&A.offsetParent))return;const{width:_,height:k}=y[0].contentRect;s.value=_,o.value=k});function d(y,_,k){const{left:A,top:T,width:D,height:R}=k;l.value={x:Zt(y-A,0,D),y:Zt(_-T,0,R)}}function v(y){y.type==="mousedown"&&y.preventDefault(),!e.disabled&&(m(y),window.addEventListener("mousemove",m),window.addEventListener("mouseup",g),window.addEventListener("touchmove",m),window.addEventListener("touchend",g))}function m(y){if(e.disabled||!r.value)return;i.value=!0;const _=a3(y);d(_.clientX,_.clientY,r.value.getBoundingClientRect())}function g(){window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",g)}function p(){var T;if(!r.value)return;const y=r.value,_=y.getContext("2d");if(!_)return;const k=_.createLinearGradient(0,0,y.width,0);k.addColorStop(0,"hsla(0, 0%, 100%, 1)"),k.addColorStop(1,`hsla(${((T=e.color)==null?void 0:T.h)??0}, 100%, 50%, 1)`),_.fillStyle=k,_.fillRect(0,0,y.width,y.height);const A=_.createLinearGradient(0,0,0,y.height);A.addColorStop(0,"hsla(0, 0%, 0%, 0)"),A.addColorStop(1,"hsla(0, 0%, 0%, 1)"),_.fillStyle=A,_.fillRect(0,0,y.width,y.height)}return ye(()=>{var y;return(y=e.color)==null?void 0:y.h},p,{immediate:!0}),ye(()=>[s.value,o.value],(y,_)=>{p(),a.value={x:l.value.x*y[0]/_[0],y:l.value.y*y[1]/_[1]}},{flush:"post"}),ye(()=>e.color,()=>{if(i.value){i.value=!1;return}a.value=e.color?{x:e.color.s*s.value,y:(1-e.color.v)*o.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Qt(()=>p()),ue(()=>f("div",{ref:c,class:["v-color-picker-canvas",e.class],style:e.style,onMousedown:v,onTouchstartPassive:v},[f("canvas",{ref:r,width:s.value,height:o.value},null),e.color&&f("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":e.disabled}],style:u.value},null)])),{}}});function jN(e,t){if(t){const{a:n,...i}=e;return i}return e}function zN(e,t){if(t==null||typeof t=="string"){const n=ET(e);return e.a===1?n.slice(0,7):n}if(typeof t=="object"){let n;return Eo(t,["r","g","b"])?n=es(e):Eo(t,["h","s","l"])?n=_T(e):Eo(t,["h","s","v"])&&(n=e),jN(n,!Eo(t,["a"])&&e.a===1)}return e}const za={h:0,s:0,v:0,a:1},bp={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:e=>Math.round(e.r),getColor:(e,t)=>({...e,r:Number(t)})},{label:"G",max:255,step:1,getValue:e=>Math.round(e.g),getColor:(e,t)=>({...e,g:Number(t)})},{label:"B",max:255,step:1,getValue:e=>Math.round(e.b),getColor:(e,t)=>({...e,b:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:es,from:yv};var ME;const WN={...bp,inputs:(ME=bp.inputs)==null?void 0:ME.slice(0,3)},wp={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:e=>Math.round(e.h),getColor:(e,t)=>({...e,h:Number(t)})},{label:"S",max:1,step:.01,getValue:e=>Math.round(e.s*100)/100,getColor:(e,t)=>({...e,s:Number(t)})},{label:"L",max:1,step:.01,getValue:e=>Math.round(e.l*100)/100,getColor:(e,t)=>({...e,l:Number(t)})},{label:"A",max:1,step:.01,getValue:e=>{let{a:t}=e;return t!=null?Math.round(t*100)/100:1},getColor:(e,t)=>({...e,a:Number(t)})}],to:_T,from:v_},qN={...wp,inputs:wp.inputs.slice(0,3)},a2={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:e=>e,getColor:(e,t)=>t}],to:ET,from:CT},GN={...a2,inputs:[{label:"HEX",getValue:e=>e.slice(0,7),getColor:(e,t)=>t}]},Lo={rgb:WN,rgba:bp,hsl:qN,hsla:wp,hex:GN,hexa:a2},KN=e=>{let{label:t,...n}=e;return f("div",{class:"v-color-picker-edit__input"},[f("input",n,null),f("span",null,[t])])},YN=Q({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Lo).includes(e)},modes:{type:Array,default:()=>Object.keys(Lo),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Lo).includes(t))},...Pe()},"VColorPickerEdit"),QN=Ai({name:"VColorPickerEdit",props:YN(),emits:{"update:color":e=>!0,"update:mode":e=>!0},setup(e,t){let{emit:n}=t;const i=V(()=>e.modes.map(s=>({...Lo[s],name:s}))),r=V(()=>{var a;const s=i.value.find(l=>l.name===e.mode);if(!s)return[];const o=e.color?s.to(e.color):null;return(a=s.inputs)==null?void 0:a.map(l=>{let{getValue:u,getColor:c,...d}=l;return{...s.inputProps,...d,disabled:e.disabled,value:o&&u(o),onChange:v=>{const m=v.target;m&&n("update:color",s.from(c(o??s.to(za),m.value)))}}})});return ue(()=>{var s;return f("div",{class:["v-color-picker-edit",e.class],style:e.style},[(s=r.value)==null?void 0:s.map(o=>f(KN,o,null)),i.value.length>1&&f(gt,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=i.value.findIndex(a=>a.name===e.mode);n("update:mode",i.value[(o+1)%i.value.length].name)}},null)])}),{}}}),U_=Symbol.for("vuetify:v-slider");function kp(e,t,n){const i=n==="vertical",r=t.getBoundingClientRect(),s="touches"in e?e.touches[0]:e;return i?s.clientY-(r.top+r.height/2):s.clientX-(r.left+r.width/2)}function XN(e,t){return"touches"in e&&e.touches.length?e.touches[0][t]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][t]:e[t]}const l2=Q({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Nt(),...fn({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),u2=e=>{const t=V(()=>parseFloat(e.min)),n=V(()=>parseFloat(e.max)),i=V(()=>+e.step>0?parseFloat(e.step):0),r=V(()=>Math.max(zw(i.value),zw(t.value)));function s(o){if(o=parseFloat(o),i.value<=0)return o;const a=Zt(o,t.value,n.value),l=t.value%i.value,u=Math.round((a-l)/i.value)*i.value+l;return parseFloat(Math.min(u,n.value).toFixed(r.value))}return{min:t,max:n,step:i,decimals:r,roundValue:s}},c2=e=>{let{props:t,steps:n,onSliderStart:i,onSliderMove:r,onSliderEnd:s,getActiveThumb:o}=e;const{isRtl:a}=dn(),l=ee(t,"reverse"),u=V(()=>t.direction==="vertical"),c=V(()=>u.value!==l.value),{min:d,max:v,step:m,decimals:g,roundValue:p}=n,y=V(()=>parseInt(t.thumbSize,10)),_=V(()=>parseInt(t.tickSize,10)),k=V(()=>parseInt(t.trackSize,10)),A=V(()=>(v.value-d.value)/m.value),T=ee(t,"disabled"),D=V(()=>t.error||t.disabled?void 0:t.thumbColor??t.color),R=V(()=>t.error||t.disabled?void 0:t.trackColor??t.color),x=V(()=>t.error||t.disabled?void 0:t.trackFillColor??t.color),w=Se(!1),b=Se(0),C=z(),E=z();function I(ie){var X;const be=t.direction==="vertical",xe=be?"top":"left",Oe=be?"height":"width",Re=be?"clientY":"clientX",{[xe]:me,[Oe]:Be}=(X=C.value)==null?void 0:X.$el.getBoundingClientRect(),L=XN(ie,Re);let N=Math.min(Math.max((L-me-b.value)/Be,0),1)||0;return(be?c.value:c.value!==a.value)&&(N=1-N),p(d.value+N*(v.value-d.value))}const P=ie=>{s({value:I(ie)}),w.value=!1,b.value=0},F=ie=>{E.value=o(ie),E.value&&(E.value.focus(),w.value=!0,E.value.contains(ie.target)?b.value=kp(ie,E.value,t.direction):(b.value=0,r({value:I(ie)})),i({value:I(ie)}))},$={passive:!0,capture:!0};function j(ie){r({value:I(ie)})}function K(ie){ie.stopPropagation(),ie.preventDefault(),P(ie),window.removeEventListener("mousemove",j,$),window.removeEventListener("mouseup",K)}function U(ie){var be;P(ie),window.removeEventListener("touchmove",j,$),(be=ie.target)==null||be.removeEventListener("touchend",U)}function B(ie){var be;F(ie),window.addEventListener("touchmove",j,$),(be=ie.target)==null||be.addEventListener("touchend",U,{passive:!1})}function H(ie){ie.preventDefault(),F(ie),window.addEventListener("mousemove",j,$),window.addEventListener("mouseup",K,{passive:!1})}const q=ie=>{const be=(ie-d.value)/(v.value-d.value)*100;return Zt(isNaN(be)?0:be,0,100)},J=ee(t,"showTicks"),he=V(()=>J.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(ie=>({value:ie,position:q(ie),label:ie.toString()})):Object.keys(t.ticks).map(ie=>({value:parseFloat(ie),position:q(parseFloat(ie)),label:t.ticks[ie]})):A.value!==1/0?fr(A.value+1).map(ie=>{const be=d.value+ie*m.value;return{value:be,position:q(be)}}):[]:[]),_e=V(()=>he.value.some(ie=>{let{label:be}=ie;return!!be})),Ce={activeThumbRef:E,color:ee(t,"color"),decimals:g,disabled:T,direction:ee(t,"direction"),elevation:ee(t,"elevation"),hasLabels:_e,isReversed:l,indexFromEnd:c,min:d,max:v,mousePressed:w,numTicks:A,onSliderMousedown:H,onSliderTouchstart:B,parsedTicks:he,parseMouseMove:I,position:q,readonly:ee(t,"readonly"),rounded:ee(t,"rounded"),roundValue:p,showTicks:J,startOffset:b,step:m,thumbSize:y,thumbColor:D,thumbLabel:ee(t,"thumbLabel"),ticks:ee(t,"ticks"),tickSize:_,trackColor:R,trackContainerRef:C,trackFillColor:x,trackSize:k,vertical:u};return Ot(U_,Ce),Ce},JN=Q({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Pe()},"VSliderThumb"),Sp=re()({name:"VSliderThumb",directives:{Ripple:ms},props:JN(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Ze(U_),{isRtl:s,rtlClasses:o}=dn();if(!r)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:l,disabled:u,thumbSize:c,thumbLabel:d,direction:v,isReversed:m,vertical:g,readonly:p,elevation:y,mousePressed:_,decimals:k,indexFromEnd:A}=r,T=V(()=>u.value?void 0:y.value),{elevationClasses:D}=Cn(T),{textColorClasses:R,textColorStyles:x}=On(a),{pageup:w,pagedown:b,end:C,home:E,left:I,right:P,down:F,up:$}=Zg,j=[w,b,C,E,I,P,F,$],K=V(()=>l.value?[1,2,3]:[1,5,10]);function U(H,q){if(!j.includes(H.key))return;H.preventDefault();const J=l.value||.1,he=(e.max-e.min)/J;if([I,P,F,$].includes(H.key)){const Ce=(g.value?[s.value?I:P,m.value?F:$]:A.value!==s.value?[I,$]:[P,$]).includes(H.key)?1:-1,ie=H.shiftKey?2:H.ctrlKey?1:0;q=q+Ce*J*K.value[ie]}else if(H.key===E)q=e.min;else if(H.key===C)q=e.max;else{const _e=H.key===b?1:-1;q=q-_e*J*(he>100?he/10:10)}return Math.max(e.min,Math.min(e.max,q))}function B(H){const q=U(H,e.modelValue);q!=null&&i("update:modelValue",q)}return ue(()=>{const H=Te(A.value?100-e.position:e.position,"%");return f("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&_.value},e.class,o.value],style:[{"--v-slider-thumb-position":H,"--v-slider-thumb-size":Te(c.value)},e.style],role:"slider",tabindex:u.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!p.value,"aria-orientation":v.value,onKeydown:p.value?void 0:B},[f("div",{class:["v-slider-thumb__surface",R.value,D.value],style:{...x.value}},null),xt(f("div",{class:["v-slider-thumb__ripple",R.value],style:x.value},null),[[mi("ripple"),e.ripple,null,{circle:!0,center:!0}]]),f(k_,{origin:"bottom center"},{default:()=>{var q;return[xt(f("div",{class:"v-slider-thumb__label-container"},[f("div",{class:["v-slider-thumb__label"]},[f("div",null,[((q=n["thumb-label"])==null?void 0:q.call(n,{modelValue:e.modelValue}))??e.modelValue.toFixed(l.value?k.value:1)])])]),[[xi,d.value&&e.focused||d.value==="always"]])]}})])}),{}}}),ZN=Q({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Pe()},"VSliderTrack"),d2=re()({name:"VSliderTrack",props:ZN(),emits:{},setup(e,t){let{slots:n}=t;const i=Ze(U_);if(!i)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:r,parsedTicks:s,rounded:o,showTicks:a,tickSize:l,trackColor:u,trackFillColor:c,trackSize:d,vertical:v,min:m,max:g,indexFromEnd:p}=i,{roundedClasses:y}=qt(o),{backgroundColorClasses:_,backgroundColorStyles:k}=It(c),{backgroundColorClasses:A,backgroundColorStyles:T}=It(u),D=V(()=>`inset-${v.value?"block":"inline"}-${p.value?"end":"start"}`),R=V(()=>v.value?"height":"width"),x=V(()=>({[D.value]:"0%",[R.value]:"100%"})),w=V(()=>e.stop-e.start),b=V(()=>({[D.value]:Te(e.start,"%"),[R.value]:Te(w.value,"%")})),C=V(()=>a.value?(v.value?s.value.slice().reverse():s.value).map((I,P)=>{var $;const F=I.value!==m.value&&I.value!==g.value?Te(I.position,"%"):void 0;return f("div",{key:I.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":I.position>=e.start&&I.position<=e.stop,"v-slider-track__tick--first":I.value===m.value,"v-slider-track__tick--last":I.value===g.value}],style:{[D.value]:F}},[(I.label||n["tick-label"])&&f("div",{class:"v-slider-track__tick-label"},[(($=n["tick-label"])==null?void 0:$.call(n,{tick:I,index:P}))??I.label])])}):[]);return ue(()=>f("div",{class:["v-slider-track",y.value,e.class],style:[{"--v-slider-track-size":Te(d.value),"--v-slider-tick-size":Te(l.value)},e.style]},[f("div",{class:["v-slider-track__background",A.value,{"v-slider-track__background--opacity":!!r.value||!c.value}],style:{...x.value,...T.value}},null),f("div",{class:["v-slider-track__fill",_.value],style:{...b.value,...k.value}},null),a.value&&f("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[C.value])])),{}}}),e8=Q({...Kc(),...l2(),...ps(),modelValue:{type:[Number,String],default:0}},"VSlider"),Cp=re()({name:"VSlider",props:e8(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=z(),{rtlClasses:s}=dn(),o=u2(e),a=Fe(e,"modelValue",void 0,R=>o.roundValue(R??o.min.value)),{min:l,max:u,mousePressed:c,roundValue:d,onSliderMousedown:v,onSliderTouchstart:m,trackContainerRef:g,position:p,hasLabels:y,readonly:_}=c2({props:e,steps:o,onSliderStart:()=>{i("start",a.value)},onSliderEnd:R=>{let{value:x}=R;const w=d(x);a.value=w,i("end",w)},onSliderMove:R=>{let{value:x}=R;return a.value=d(x)},getActiveThumb:()=>{var R;return(R=r.value)==null?void 0:R.$el}}),{isFocused:k,focus:A,blur:T}=gs(e),D=V(()=>p(a.value));return ue(()=>{const R=Ln.filterProps(e),x=!!(e.label||n.label||n.prepend);return f(Ln,oe({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||y.value,"v-slider--focused":k.value,"v-slider--pressed":c.value,"v-slider--disabled":e.disabled},s.value,e.class],style:e.style},R,{focused:k.value}),{...n,prepend:x?w=>{var b,C;return f(le,null,[((b=n.label)==null?void 0:b.call(n,w))??(e.label?f(Ml,{id:w.id.value,class:"v-slider__label",text:e.label},null):void 0),(C=n.prepend)==null?void 0:C.call(n,w)])}:void 0,default:w=>{let{id:b,messagesId:C}=w;return f("div",{class:"v-slider__container",onMousedown:_.value?void 0:v,onTouchstartPassive:_.value?void 0:m},[f("input",{id:b.value,name:e.name||b.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:a.value},null),f(d2,{ref:g,start:0,stop:D.value},{"tick-label":n["tick-label"]}),f(Sp,{ref:r,"aria-describedby":C.value,focused:k.value,min:l.value,max:u.value,modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,position:D.value,elevation:e.elevation,onFocus:A,onBlur:T,ripple:e.ripple,name:e.name},{"thumb-label":n["thumb-label"]})])}})}),{}}}),t8=Q({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Pe()},"VColorPickerPreview"),n8=Ai({name:"VColorPickerPreview",props:t8(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;const i=new AbortController;Xy(()=>i.abort());async function r(){if(!$w)return;const s=new window.EyeDropper;try{const o=await s.open({signal:i.signal}),a=CT(o.sRGBHex);n("update:color",{...e.color??za,...a})}catch{}}return ue(()=>{var s,o;return f("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":e.hideAlpha},e.class],style:e.style},[$w&&f("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[f(gt,{onClick:r,icon:"$eyeDropper",variant:"plain",density:"comfortable"},null)]),f("div",{class:"v-color-picker-preview__dot"},[f("div",{style:{background:wT(e.color??za)}},null)]),f("div",{class:"v-color-picker-preview__sliders"},[f(Cp,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(s=e.color)==null?void 0:s.h,"onUpdate:modelValue":a=>n("update:color",{...e.color??za,h:a}),step:0,min:0,max:360,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!e.hideAlpha&&f(Cp,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((o=e.color)==null?void 0:o.a)??1,"onUpdate:modelValue":a=>n("update:color",{...e.color??za,a}),step:1/256,min:0,max:1,disabled:e.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),i8={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},r8={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},s8={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},o8={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},a8={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},l8={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},u8={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},c8={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},d8={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},f8={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},h8={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},v8={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},m8={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},g8={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},p8={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},y8={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},_8={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},b8={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},w8={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},k8={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},S8={red:i8,pink:r8,purple:s8,deepPurple:o8,indigo:a8,blue:l8,lightBlue:u8,cyan:c8,teal:d8,green:f8,lightGreen:h8,lime:v8,yellow:m8,amber:g8,orange:p8,deepOrange:y8,brown:_8,blueGrey:b8,grey:w8,shades:k8},C8=Q({swatches:{type:Array,default:()=>E8(S8)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Pe()},"VColorPickerSwatches");function E8(e){return Object.keys(e).map(t=>{const n=e[t];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const I8=Ai({name:"VColorPickerSwatches",props:C8(),emits:{"update:color":e=>!0},setup(e,t){let{emit:n}=t;return ue(()=>f("div",{class:["v-color-picker-swatches",e.class],style:[{maxHeight:Te(e.maxHeight)},e.style]},[f("div",null,[e.swatches.map(i=>f("div",{class:"v-color-picker-swatches__swatch"},[i.map(r=>{const s=Li(r),o=yv(s),a=bT(s);return f("div",{class:"v-color-picker-swatches__color",onClick:()=>o&&n("update:color",o)},[f("div",{style:{background:a}},[e.color&&Pr(e.color,o)?f(pt,{size:"x-small",icon:"$success",color:R3(r,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),Mv=Q({color:String,...gi(),...Pe(),...rn(),...fn(),...vs(),...Ol(),...Nt(),...Qe(),...ot()},"VSheet"),Go=re()({name:"VSheet",props:Mv(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{backgroundColorClasses:r,backgroundColorStyles:s}=It(ee(e,"color")),{borderClasses:o}=Vi(e),{dimensionStyles:a}=sn(e),{elevationClasses:l}=Cn(e),{locationStyles:u}=ga(e),{positionClasses:c}=Ll(e),{roundedClasses:d}=qt(e);return ue(()=>f(e.tag,{class:["v-sheet",i.value,r.value,o.value,l.value,c.value,d.value,e.class],style:[s.value,a.value,u.value,e.style]},n)),{}}}),T8=Q({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:e=>Object.keys(Lo).includes(e)},modes:{type:Array,default:()=>Object.keys(Lo),validator:e=>Array.isArray(e)&&e.every(t=>Object.keys(Lo).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...nn(Mv({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),x8=Ai({name:"VColorPicker",props:T8(),emits:{"update:modelValue":e=>!0,"update:mode":e=>!0},setup(e){const t=Fe(e,"mode"),n=z(null),i=Fe(e,"modelValue",void 0,l=>{if(l==null||l==="")return null;let u;try{u=yv(Li(l))}catch{return null}return u},l=>l?zN(l,e.modelValue):null),r=V(()=>i.value?{...i.value,h:n.value??i.value.h}:null),{rtlClasses:s}=dn();let o=!0;ye(i,l=>{if(!o){o=!0;return}l&&(n.value=l.h)},{immediate:!0});const a=l=>{o=!1,n.value=l.h,i.value=l};return dv(()=>{e.modes.includes(t.value)||(t.value=e.modes[0])}),zt({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),ue(()=>{const l=Go.filterProps(e);return f(Go,oe({rounded:e.rounded,elevation:e.elevation,theme:e.theme,class:["v-color-picker",s.value,e.class],style:[{"--v-color-picker-color-hsv":wT({...r.value??za,a:1})},e.style]},l,{maxWidth:e.width}),{default:()=>[!e.hideCanvas&&f(HN,{key:"canvas",color:r.value,"onUpdate:color":a,disabled:e.disabled,dotSize:e.dotSize,width:e.width,height:e.canvasHeight},null),(!e.hideSliders||!e.hideInputs)&&f("div",{key:"controls",class:"v-color-picker__controls"},[!e.hideSliders&&f(n8,{key:"preview",color:r.value,"onUpdate:color":a,hideAlpha:!t.value.endsWith("a"),disabled:e.disabled},null),!e.hideInputs&&f(QN,{key:"edit",modes:e.modes,mode:t.value,"onUpdate:mode":u=>t.value=u,color:r.value,"onUpdate:color":a,disabled:e.disabled},null)]),e.showSwatches&&f(I8,{key:"swatches",color:r.value,"onUpdate:color":a,maxHeight:e.swatchesMaxHeight,swatches:e.swatches,disabled:e.disabled},null)]})}),{}}});function A8(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?f(le,null,[f("span",{class:"v-combobox__unmask"},[e.substr(0,t)]),f("span",{class:"v-combobox__mask"},[e.substr(t,n)]),f("span",{class:"v-combobox__unmask"},[e.substr(t+n)])]):e}const P8=Q({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...Jc({filterKeys:["title"]}),...F_({hideNoData:!0,returnObject:!0}),...nn(Rv({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ar({transition:!1})},"VCombobox"),V8=re()({name:"VCombobox",props:P8(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,t){var Be;let{emit:n,slots:i}=t;const{t:r}=Xt(),s=z(),o=Se(!1),a=Se(!0),l=Se(!1),u=z(),c=z(),d=Fe(e,"menu"),v=V({get:()=>d.value,set:L=>{var N;d.value&&!L&&((N=u.value)!=null&&N.openChildren.size)||(d.value=L)}}),m=Se(-1);let g=!1;const p=V(()=>{var L;return(L=s.value)==null?void 0:L.color}),y=V(()=>v.value?e.closeText:e.openText),{items:_,transformIn:k,transformOut:A}=V_(e),{textColorClasses:T,textColorStyles:D}=On(p),R=Fe(e,"modelValue",[],L=>k(Ht(L)),L=>{const N=A(L);return e.multiple?N:N[0]??null}),x=Av(),w=V(()=>!!(e.chips||i.chip)),b=V(()=>w.value||!!i.selection),C=Se(!e.multiple&&!b.value?((Be=R.value[0])==null?void 0:Be.title)??"":""),E=V({get:()=>C.value,set:L=>{var N;if(C.value=L??"",!e.multiple&&!b.value&&(R.value=[Os(e,L)]),L&&e.multiple&&((N=e.delimiters)!=null&&N.length)){const X=L.split(new RegExp(`(?:${e.delimiters.join("|")})+`));X.length>1&&(X.forEach(ne=>{ne=ne.trim(),ne&&xe(Os(e,ne))}),C.value="")}L||(m.value=-1),a.value=!L}}),I=V(()=>typeof e.counterValue=="function"?e.counterValue(R.value):typeof e.counterValue=="number"?e.counterValue:e.multiple?R.value.length:E.value.length);ye(C,L=>{g?ct(()=>g=!1):o.value&&!v.value&&(v.value=!0),n("update:search",L)}),ye(R,L=>{var N;!e.multiple&&!b.value&&(C.value=((N=L[0])==null?void 0:N.title)??"")});const{filteredItems:P,getMatches:F}=Zc(e,_,()=>a.value?"":E.value),$=V(()=>e.hideSelected?P.value.filter(L=>!R.value.some(N=>N.value===L.value)):P.value),j=V(()=>R.value.map(L=>L.value)),K=V(()=>{var N;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&E.value===((N=$.value[0])==null?void 0:N.title))&&$.value.length>0&&!a.value&&!l.value}),U=V(()=>e.hideNoData&&!$.value.length||e.readonly||(x==null?void 0:x.isReadonly.value)),B=z(),H=N_(B,s);function q(L){g=!0,e.openOnClear&&(v.value=!0)}function J(){U.value||(v.value=!0)}function he(L){U.value||(o.value&&(L.preventDefault(),L.stopPropagation()),v.value=!v.value)}function _e(L){var N;Yf(L)&&((N=s.value)==null||N.focus())}function Ce(L){var ne;if(i3(L)||e.readonly||x!=null&&x.isReadonly.value)return;const N=s.value.selectionStart,X=R.value.length;if((m.value>-1||["Enter","ArrowDown","ArrowUp"].includes(L.key))&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(v.value=!0),["Escape"].includes(L.key)&&(v.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(K.value&&["Enter","Tab"].includes(L.key)&&!R.value.some(te=>{let{value:ce}=te;return ce===$.value[0].value})&&xe(P.value[0]),a.value=!0),L.key==="ArrowDown"&&K.value&&((ne=B.value)==null||ne.focus("next")),L.key==="Enter"&&E.value&&(xe(Os(e,E.value)),b.value&&(C.value="")),["Backspace","Delete"].includes(L.key)){if(!e.multiple&&b.value&&R.value.length>0&&!E.value)return xe(R.value[0],!1);if(~m.value){const te=m.value;xe(R.value[m.value],!1),m.value=te>=X-1?X-2:te}else L.key==="Backspace"&&!E.value&&(m.value=X-1)}if(e.multiple){if(L.key==="ArrowLeft"){if(m.value<0&&N>0)return;const te=m.value>-1?m.value-1:X-1;R.value[te]?m.value=te:(m.value=-1,s.value.setSelectionRange(E.value.length,E.value.length))}if(L.key==="ArrowRight"){if(m.value<0)return;const te=m.value+1;R.value[te]?m.value=te:(m.value=-1,s.value.setSelectionRange(0,0))}}}function ie(){var L;e.eager&&((L=c.value)==null||L.calculateVisibleItems())}function be(){var L;o.value&&(a.value=!0,(L=s.value)==null||L.focus())}function xe(L){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!L||L.props.disabled))if(e.multiple){const X=R.value.findIndex(te=>e.valueComparator(te.value,L.value)),ne=N??!~X;if(~X){const te=ne?[...R.value,L]:[...R.value];te.splice(X,1),R.value=te}else ne&&(R.value=[...R.value,L]);e.clearOnSelect&&(E.value="")}else{const X=N!==!1;R.value=X?[L]:[],C.value=X&&!b.value?L.title:"",ct(()=>{v.value=!1,a.value=!0})}}function Oe(L){o.value=!0,setTimeout(()=>{l.value=!0})}function Re(L){l.value=!1}function me(L){(L==null||L===""&&!e.multiple&&!b.value)&&(R.value=[])}return ye(o,(L,N)=>{if(!(L||L===N)&&(m.value=-1,v.value=!1,E.value)){if(e.multiple){xe(Os(e,E.value));return}if(!b.value)return;R.value.some(X=>{let{title:ne}=X;return ne===E.value})?C.value="":xe(Os(e,E.value))}}),ye(v,()=>{if(!e.hideSelected&&v.value&&R.value.length){const L=$.value.findIndex(N=>R.value.some(X=>e.valueComparator(X.value,N.value)));_t&&window.requestAnimationFrame(()=>{var N;L>=0&&((N=c.value)==null||N.scrollToIndex(L))})}}),ye(()=>e.items,(L,N)=>{v.value||o.value&&!N.length&&L.length&&(v.value=!0)}),ue(()=>{const L=!!(!e.hideNoData||$.value.length||i["prepend-item"]||i["append-item"]||i["no-data"]),N=R.value.length>0,X=zo.filterProps(e);return f(zo,oe({ref:s},X,{modelValue:E.value,"onUpdate:modelValue":[ne=>E.value=ne,me],focused:o.value,"onUpdate:focused":ne=>o.value=ne,validationValue:R.externalValue,counterValue:I.value,dirty:N,class:["v-combobox",{"v-combobox--active-menu":v.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!b.value,"v-combobox--selecting-index":m.value>-1,[`v-combobox--${e.multiple?"multiple":"single"}`]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:N?void 0:e.placeholder,"onClick:clear":q,"onMousedown:control":J,onKeydown:Ce}),{...i,default:()=>f(le,null,[f(vl,oe({ref:u,modelValue:v.value,"onUpdate:modelValue":ne=>v.value=ne,activator:"parent",contentClass:"v-combobox__content",disabled:U.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:ie,onAfterLeave:be},e.menuProps),{default:()=>[L&&f(Pv,oe({ref:B,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ne=>ne.preventDefault(),onKeydown:_e,onFocusin:Oe,onFocusout:Re,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},H,e.listProps),{default:()=>{var ne,te,ce;return[(ne=i["prepend-item"])==null?void 0:ne.call(i),!$.value.length&&!e.hideNoData&&(((te=i["no-data"])==null?void 0:te.call(i))??f(is,{title:r(e.noDataText)},null)),f(Dv,{ref:c,renderless:!0,items:$.value},{default:Ee=>{var Ae;let{item:de,index:we,itemRef:ve}=Ee;const Ue=oe(de.props,{ref:ve,key:we,active:K.value&&we===0?!0:void 0,onClick:()=>xe(de,null)});return((Ae=i.item)==null?void 0:Ae.call(i,{item:de,index:we,props:Ue}))??f(is,oe(Ue,{role:"option"}),{prepend:$e=>{let{isSelected:Me}=$e;return f(le,null,[e.multiple&&!e.hideSelected?f(ns,{key:de.value,modelValue:Me,ripple:!1,tabindex:"-1"},null):void 0,de.props.prependAvatar&&f($i,{image:de.props.prependAvatar},null),de.props.prependIcon&&f(pt,{icon:de.props.prependIcon},null)])},title:()=>{var $e,Me;return a.value?de.title:A8(de.title,($e=F(de))==null?void 0:$e.title,((Me=E.value)==null?void 0:Me.length)??0)}})}}),(ce=i["append-item"])==null?void 0:ce.call(i)]}})]}),R.value.map((ne,te)=>{function ce(ve){ve.stopPropagation(),ve.preventDefault(),xe(ne,!1)}const Ee={"onClick:close":ce,onKeydown(ve){ve.key!=="Enter"&&ve.key!==" "||(ve.preventDefault(),ve.stopPropagation(),ce(ve))},onMousedown(ve){ve.preventDefault(),ve.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},de=w.value?!!i.chip:!!i.selection,we=de?pv(w.value?i.chip({item:ne,index:te,props:Ee}):i.selection({item:ne,index:te})):void 0;if(!(de&&!we))return f("div",{key:ne.value,class:["v-combobox__selection",te===m.value&&["v-combobox__selection--selected",T.value]],style:te===m.value?D.value:{}},[w.value?i.chip?f(nt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ne.title}}},{default:()=>[we]}):f(Nl,oe({key:"chip",closable:e.closableChips,size:"small",text:ne.title,disabled:ne.props.disabled},Ee),null):we??f("span",{class:"v-combobox__selection-text"},[ne.title,e.multiple&&te<R.value.length-1&&f("span",{class:"v-combobox__selection-comma"},[Le(",")])])])})]),"append-inner":function(){var Ee;for(var ne=arguments.length,te=new Array(ne),ce=0;ce<ne;ce++)te[ce]=arguments[ce];return f(le,null,[(Ee=i["append-inner"])==null?void 0:Ee.call(i,...te),(!e.hideNoData||e.items.length)&&e.menuIcon?f(pt,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:he,onClick:hT,"aria-label":r(y.value),title:r(y.value),tabindex:"-1"},null):void 0])}})}),qi({isFocused:o,isPristine:a,menu:v,search:E,selectionIndex:m,filteredItems:P,select:xe},s)}}),R8=Q({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),D8=re()({name:"VConfirmEdit",props:R8(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Fe(e,"modelValue"),s=z();Kt(()=>{s.value=structuredClone(qe(r.value))});const{t:o}=Xt(),a=V(()=>Pr(r.value,s.value));function l(){r.value=s.value,n("save",s.value)}function u(){s.value=structuredClone(qe(r.value)),n("cancel")}let c=!1;return ue(()=>{var v;const d=f(le,null,[f(gt,{disabled:a.value,variant:"text",color:e.color,onClick:u,text:o(e.cancelText)},null),f(gt,{disabled:a.value,variant:"text",color:e.color,onClick:l,text:o(e.okText)},null)]);return f(le,null,[(v=i.default)==null?void 0:v.call(i,{model:s,save:l,cancel:u,isPristine:a.value,get actions(){return c=!0,d}}),!c&&d])}),{save:l,cancel:u,isPristine:a}}}),f2=Q({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),h2=Symbol.for("vuetify:datatable:expanded");function Nv(e){const t=ee(e,"expandOnClick"),n=Fe(e,"expanded",e.expanded,a=>new Set(a),a=>[...a.values()]);function i(a,l){const u=new Set(n.value);l?u.add(a.value):u.delete(a.value),n.value=u}function r(a){return n.value.has(a.value)}function s(a){i(a,!r(a))}const o={expand:i,expanded:n,expandOnClick:t,isExpanded:r,toggleExpand:s};return Ot(h2,o),o}function v2(){const e=Ze(h2);if(!e)throw new Error("foo");return e}const H_=Q({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),m2=Symbol.for("vuetify:data-table-group");function j_(e){return{groupBy:Fe(e,"groupBy")}}function Fv(e){const{disableSort:t,groupBy:n,sortBy:i}=e,r=z(new Set),s=V(()=>n.value.map(c=>({...c,order:c.order??!1})).concat(t!=null&&t.value?[]:i.value));function o(c){return r.value.has(c.id)}function a(c){const d=new Set(r.value);o(c)?d.delete(c.id):d.add(c.id),r.value=d}function l(c){function d(v){const m=[];for(const g of v.items)"type"in g&&g.type==="group"?m.push(...d(g)):m.push(g);return m}return d({type:"group",items:c,id:"dummy",key:"dummy",value:"dummy",depth:0})}const u={sortByWithGroups:s,toggleGroup:a,opened:r,groupBy:n,extractRows:l,isGroupOpen:o};return Ot(m2,u),u}function g2(){const e=Ze(m2);if(!e)throw new Error("Missing group!");return e}function O8(e,t){if(!e.length)return[];const n=new Map;for(const i of e){const r=jo(i.raw,t);n.has(r)||n.set(r,[]),n.get(r).push(i)}return n}function p2(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const r=O8(e,t[0]),s=[],o=t.slice(1);return r.forEach((a,l)=>{const u=t[0],c=`${i}_${u}_${l}`;s.push({depth:n,id:c,key:u,value:l,items:o.length?p2(a,o,n+1,c):a,type:"group"})}),s}function y2(e,t){const n=[];for(const i of e)"type"in i&&i.type==="group"?(i.value!=null&&n.push(i),(t.has(i.id)||i.value==null)&&n.push(...y2(i.items,t))):n.push(i);return n}function Bv(e,t,n){return{flatItems:V(()=>{if(!t.value.length)return e.value;const r=p2(e.value,t.value.map(s=>s.key));return y2(r,n.value)})}}function $v(e){let{page:t,itemsPerPage:n,sortBy:i,groupBy:r,search:s}=e;const o=Wt("VDataTable"),a=V(()=>({page:t.value,itemsPerPage:n.value,sortBy:i.value,groupBy:r.value,search:s.value}));let l=null;ye(a,()=>{Pr(l,a.value)||(l&&l.search!==a.value.search&&(t.value=1),o.emit("update:options",a.value),l=a.value)},{deep:!0,immediate:!0})}const z_=Q({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),_2=Symbol.for("vuetify:data-table-pagination");function W_(e){const t=Fe(e,"page",void 0,i=>+(i??1)),n=Fe(e,"itemsPerPage",void 0,i=>+(i??10));return{page:t,itemsPerPage:n}}function q_(e){const{page:t,itemsPerPage:n,itemsLength:i}=e,r=V(()=>n.value===-1?0:n.value*(t.value-1)),s=V(()=>n.value===-1?i.value:Math.min(i.value,r.value+n.value)),o=V(()=>n.value===-1||i.value===0?1:Math.ceil(i.value/n.value));ye([t,o],()=>{t.value>o.value&&(t.value=o.value)});function a(v){n.value=v,t.value=1}function l(){t.value=Zt(t.value+1,1,o.value)}function u(){t.value=Zt(t.value-1,1,o.value)}function c(v){t.value=Zt(v,1,o.value)}const d={page:t,itemsPerPage:n,startIndex:r,stopIndex:s,pageCount:o,itemsLength:i,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:a};return Ot(_2,d),d}function L8(){const e=Ze(_2);if(!e)throw new Error("Missing pagination!");return e}function b2(e){const t=Wt("usePaginatedItems"),{items:n,startIndex:i,stopIndex:r,itemsPerPage:s}=e,o=V(()=>s.value<=0?n.value:n.value.slice(i.value,r.value));return ye(o,a=>{t.emit("update:currentItems",a)}),{paginatedItems:o}}const M8={showSelectAll:!1,allSelected:()=>[],select:e=>{var i;let{items:t,value:n}=e;return new Set(n?[(i=t[0])==null?void 0:i.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},w2={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,currentPage:n,selected:i}=e;return w2.select({items:n,value:t,selected:i})}},k2={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:i}=e;for(const r of t)n?i.add(r.value):i.delete(r.value);return i},selectAll:e=>{let{value:t,allItems:n,selected:i}=e;return k2.select({items:n,value:t,selected:i})}},S2=Q({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Pr}},"DataTable-select"),C2=Symbol.for("vuetify:data-table-selection");function Uv(e,t){let{allItems:n,currentPage:i}=t;const r=Fe(e,"modelValue",e.modelValue,_=>new Set(Ht(_).map(k=>{var A;return((A=n.value.find(T=>e.valueComparator(k,T.value)))==null?void 0:A.value)??k})),_=>[..._.values()]),s=V(()=>n.value.filter(_=>_.selectable)),o=V(()=>i.value.filter(_=>_.selectable)),a=V(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return M8;case"all":return k2;case"page":default:return w2}});function l(_){return Ht(_).every(k=>r.value.has(k.value))}function u(_){return Ht(_).some(k=>r.value.has(k.value))}function c(_,k){const A=a.value.select({items:_,value:k,selected:new Set(r.value)});r.value=A}function d(_){c([_],!l([_]))}function v(_){const k=a.value.selectAll({value:_,allItems:s.value,currentPage:o.value,selected:new Set(r.value)});r.value=k}const m=V(()=>r.value.size>0),g=V(()=>{const _=a.value.allSelected({allItems:s.value,currentPage:o.value});return!!_.length&&l(_)}),p=V(()=>a.value.showSelectAll),y={toggleSelect:d,select:c,selectAll:v,isSelected:l,isSomeSelected:u,someSelected:m,allSelected:g,showSelectAll:p};return Ot(C2,y),y}function Hv(){const e=Ze(C2);if(!e)throw new Error("Missing selection!");return e}const E2=Q({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),I2=Symbol.for("vuetify:data-table-sort");function jv(e){const t=Fe(e,"sortBy"),n=ee(e,"mustSort"),i=ee(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:i}}function zv(e){const{sortBy:t,mustSort:n,multiSort:i,page:r}=e,s=l=>{if(l.key==null)return;let u=t.value.map(d=>({...d}))??[];const c=u.find(d=>d.key===l.key);c?c.order==="desc"?n.value?c.order="asc":u=u.filter(d=>d.key!==l.key):c.order="desc":i.value?u=[...u,{key:l.key,order:"asc"}]:u=[{key:l.key,order:"asc"}],t.value=u,r&&(r.value=1)};function o(l){return!!t.value.find(u=>u.key===l.key)}const a={sortBy:t,toggleSort:s,isSorted:o};return Ot(I2,a),a}function T2(){const e=Ze(I2);if(!e)throw new Error("Missing sort!");return e}function G_(e,t,n,i){const r=Xt();return{sortedItems:V(()=>{var o,a;return n.value.length?N8(t.value,n.value,r.current.value,{transform:i==null?void 0:i.transform,sortFunctions:{...e.customKeySort,...(o=i==null?void 0:i.sortFunctions)==null?void 0:o.value},sortRawFunctions:(a=i==null?void 0:i.sortRawFunctions)==null?void 0:a.value}):t.value})}}function N8(e,t,n,i){const r=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,i!=null&&i.transform?i.transform(o):o]).sort((o,a)=>{var l,u;for(let c=0;c<t.length;c++){let d=!1;const v=t[c].key,m=t[c].order??"asc";if(m===!1)continue;let g=jo(o[1],v),p=jo(a[1],v),y=o[0].raw,_=a[0].raw;if(m==="desc"&&([g,p]=[p,g],[y,_]=[_,y]),(l=i==null?void 0:i.sortRawFunctions)!=null&&l[v]){const k=i.sortRawFunctions[v](y,_);if(k==null)continue;if(d=!0,k)return k}if((u=i==null?void 0:i.sortFunctions)!=null&&u[v]){const k=i.sortFunctions[v](g,p);if(k==null)continue;if(d=!0,k)return k}if(!d){if(g instanceof Date&&p instanceof Date)return g.getTime()-p.getTime();if([g,p]=[g,p].map(k=>k!=null?k.toString().toLocaleLowerCase():k),g!==p)return zd(g)&&zd(p)?0:zd(g)?-1:zd(p)?1:!isNaN(g)&&!isNaN(p)?Number(g)-Number(p):r.compare(g,p)}}return 0}).map(o=>{let[a]=o;return a})}const F8=Q({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataIterator-items");function B8(e,t){const n=e.returnObject?t:an(t,e.itemValue),i=an(t,e.itemSelectable,!0);return{type:"item",value:n,selectable:i,raw:t}}function $8(e,t){const n=[];for(const i of t)n.push(B8(e,i));return n}function U8(e){return{items:V(()=>$8(e,e.items))}}const H8=Q({search:String,loading:Boolean,...Pe(),...F8(),...S2(),...E2(),...z_({itemsPerPage:5}),...f2(),...H_(),...Jc(),...Qe(),...ar({transition:{component:uc,hideOnLeave:!0}})},"VDataIterator"),j8=re()({name:"VDataIterator",props:H8(),emits:{"update:modelValue":e=>!0,"update:groupBy":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"groupBy"),r=ee(e,"search"),{items:s}=U8(e),{filteredItems:o}=Zc(e,s,r,{transform:q=>q.raw}),{sortBy:a,multiSort:l,mustSort:u}=jv(e),{page:c,itemsPerPage:d}=W_(e),{toggleSort:v}=zv({sortBy:a,multiSort:l,mustSort:u,page:c}),{sortByWithGroups:m,opened:g,extractRows:p,isGroupOpen:y,toggleGroup:_}=Fv({groupBy:i,sortBy:a}),{sortedItems:k}=G_(e,o,m,{transform:q=>q.raw}),{flatItems:A}=Bv(k,i,g),T=V(()=>A.value.length),{startIndex:D,stopIndex:R,pageCount:x,prevPage:w,nextPage:b,setItemsPerPage:C,setPage:E}=q_({page:c,itemsPerPage:d,itemsLength:T}),{paginatedItems:I}=b2({items:A,startIndex:D,stopIndex:R,itemsPerPage:d}),P=V(()=>p(I.value)),{isSelected:F,select:$,selectAll:j,toggleSelect:K}=Uv(e,{allItems:s,currentPage:P}),{isExpanded:U,toggleExpand:B}=Nv(e);$v({page:c,itemsPerPage:d,sortBy:a,groupBy:i,search:r});const H=V(()=>({page:c.value,itemsPerPage:d.value,sortBy:a.value,pageCount:x.value,toggleSort:v,prevPage:w,nextPage:b,setPage:E,setItemsPerPage:C,isSelected:F,select:$,selectAll:j,toggleSelect:K,isExpanded:U,toggleExpand:B,isGroupOpen:y,toggleGroup:_,items:P.value,groupedItems:I.value}));return ue(()=>f(e.tag,{class:["v-data-iterator",{"v-data-iterator--loading":e.loading},e.class],style:e.style},{default:()=>{var q,J;return[(q=n.header)==null?void 0:q.call(n,H.value),f(Xn,{transition:e.transition},{default:()=>{var he,_e;return[e.loading?f(Wc,{key:"loader",name:"v-data-iterator",active:!0},{default:Ce=>{var ie;return(ie=n.loader)==null?void 0:ie.call(n,Ce)}}):f("div",{key:"items"},[I.value.length?(_e=n.default)==null?void 0:_e.call(n,H.value):(he=n["no-data"])==null?void 0:he.call(n)])]}}),(J=n.footer)==null?void 0:J.call(n,H.value)]}})),{}}});function z8(){const e=z([]);II(()=>e.value=[]);function t(n,i){e.value[i]=n}return{refs:e,updateRef:t}}const W8=Q({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:We,default:"$first"},prevIcon:{type:We,default:"$prev"},nextIcon:{type:We,default:"$next"},lastIcon:{type:We,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...gi(),...Pe(),...hn(),...fn(),...Nt(),...Dr(),...Qe({tag:"nav"}),...ot(),...Wi({variant:"text"})},"VPagination"),Ep=re()({name:"VPagination",props:W8(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=Fe(e,"modelValue"),{t:s,n:o}=Xt(),{isRtl:a}=dn(),{themeClasses:l}=yt(e),{width:u}=zi(),c=Se(-1);zt(void 0,{scoped:!0});const{resizeRef:d}=ir(w=>{if(!w.length)return;const{target:b,contentRect:C}=w[0],E=b.querySelector(".v-pagination__list > *");if(!E)return;const I=C.width,P=E.offsetWidth+parseFloat(getComputedStyle(E).marginRight)*2;c.value=p(I,P)}),v=V(()=>parseInt(e.length,10)),m=V(()=>parseInt(e.start,10)),g=V(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):c.value>=0?c.value:p(u.value,58));function p(w,b){const C=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((w-b*C)/b).toFixed(2)))}const y=V(()=>{if(v.value<=0||isNaN(v.value)||v.value>Number.MAX_SAFE_INTEGER)return[];if(g.value<=0)return[];if(g.value===1)return[r.value];if(v.value<=g.value)return fr(v.value,m.value);const w=g.value%2===0,b=w?g.value/2:Math.floor(g.value/2),C=w?b:b+1,E=v.value-b;if(C-r.value>=0)return[...fr(Math.max(1,g.value-1),m.value),e.ellipsis,v.value];if(r.value-E>=(w?1:0)){const I=g.value-1,P=v.value-I+m.value;return[m.value,e.ellipsis,...fr(I,P)]}else{const I=Math.max(1,g.value-3),P=I===1?r.value:r.value-Math.ceil(I/2)+m.value;return[m.value,e.ellipsis,...fr(I,P),e.ellipsis,v.value]}});function _(w,b,C){w.preventDefault(),r.value=b,C&&i(C,b)}const{refs:k,updateRef:A}=z8();zt({VPaginationBtn:{color:ee(e,"color"),border:ee(e,"border"),density:ee(e,"density"),size:ee(e,"size"),variant:ee(e,"variant"),rounded:ee(e,"rounded"),elevation:ee(e,"elevation")}});const T=V(()=>y.value.map((w,b)=>{const C=E=>A(E,b);if(typeof w=="string")return{isActive:!1,key:`ellipsis-${b}`,page:w,props:{ref:C,ellipsis:!0,icon:!0,disabled:!0}};{const E=w===r.value;return{isActive:E,key:w,page:o(w),props:{ref:C,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:E?e.activeColor:e.color,"aria-current":E,"aria-label":s(E?e.currentPageAriaLabel:e.pageAriaLabel,w),onClick:I=>_(I,w)}}}})),D=V(()=>{const w=!!e.disabled||r.value<=m.value,b=!!e.disabled||r.value>=m.value+v.value-1;return{first:e.showFirstLastPage?{icon:a.value?e.lastIcon:e.firstIcon,onClick:C=>_(C,m.value,"first"),disabled:w,"aria-label":s(e.firstAriaLabel),"aria-disabled":w}:void 0,prev:{icon:a.value?e.nextIcon:e.prevIcon,onClick:C=>_(C,r.value-1,"prev"),disabled:w,"aria-label":s(e.previousAriaLabel),"aria-disabled":w},next:{icon:a.value?e.prevIcon:e.nextIcon,onClick:C=>_(C,r.value+1,"next"),disabled:b,"aria-label":s(e.nextAriaLabel),"aria-disabled":b},last:e.showFirstLastPage?{icon:a.value?e.firstIcon:e.lastIcon,onClick:C=>_(C,m.value+v.value-1,"last"),disabled:b,"aria-label":s(e.lastAriaLabel),"aria-disabled":b}:void 0}});function R(){var b;const w=r.value-m.value;(b=k.value[w])==null||b.$el.focus()}function x(w){w.key===Zg.left&&!e.disabled&&r.value>+e.start?(r.value=r.value-1,ct(R)):w.key===Zg.right&&!e.disabled&&r.value<m.value+v.value-1&&(r.value=r.value+1,ct(R))}return ue(()=>f(e.tag,{ref:d,class:["v-pagination",l.value,e.class],style:e.style,role:"navigation","aria-label":s(e.ariaLabel),onKeydown:x,"data-test":"v-pagination-root"},{default:()=>[f("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&f("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(D.value.first):f(gt,oe({_as:"VPaginationBtn"},D.value.first),null)]),f("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(D.value.prev):f(gt,oe({_as:"VPaginationBtn"},D.value.prev),null)]),T.value.map((w,b)=>f("li",{key:w.key,class:["v-pagination__item",{"v-pagination__item--is-active":w.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(w):f(gt,oe({_as:"VPaginationBtn"},w.props),{default:()=>[w.page]})])),f("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(D.value.next):f(gt,oe({_as:"VPaginationBtn"},D.value.next),null)]),e.showFirstLastPage&&f("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(D.value.last):f(gt,oe({_as:"VPaginationBtn"},D.value.last),null)])])]})),{}}}),K_=Q({prevIcon:{type:We,default:"$prev"},nextIcon:{type:We,default:"$next"},firstIcon:{type:We,default:"$first"},lastIcon:{type:We,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),mc=re()({name:"VDataTableFooter",props:K_(),setup(e,t){let{slots:n}=t;const{t:i}=Xt(),{page:r,pageCount:s,startIndex:o,stopIndex:a,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=L8(),d=V(()=>e.itemsPerPageOptions.map(v=>typeof v=="number"?{value:v,title:v===-1?i("$vuetify.dataFooter.itemsPerPageAll"):String(v)}:{...v,title:isNaN(Number(v.title))?i(v.title):v.title}));return ue(()=>{var m;const v=Ep.filterProps(e);return f("div",{class:"v-data-table-footer"},[(m=n.prepend)==null?void 0:m.call(n),f("div",{class:"v-data-table-footer__items-per-page"},[f("span",null,[i(e.itemsPerPageText)]),f(B_,{items:d.value,modelValue:u.value,"onUpdate:modelValue":g=>c(Number(g)),density:"compact",variant:"outlined","hide-details":!0},null)]),f("div",{class:"v-data-table-footer__info"},[f("div",null,[i(e.pageText,l.value?o.value+1:0,a.value,l.value)])]),f("div",{class:"v-data-table-footer__pagination"},[f(Ep,oe({modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:s.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},v),null)])])}),{}}}),th=N3({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const i=e.tag??"td";return f(i,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Te(e.height),width:Te(e.width),maxWidth:Te(e.maxWidth),left:Te(e.fixedOffset||null)}},{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n)]}})}),q8=Q({headers:Array},"DataTable-header"),x2=Symbol.for("vuetify:data-table-headers"),A2={title:"",sortable:!1},G8={...A2,width:48};function K8(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,i)=>{let r=!1;for(let s=0;s<t.length;s++)if(t[s].priority>i){t.splice(s,0,{element:n,priority:i}),r=!0;break}r||t.push({element:n,priority:i})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const i=Math.floor(t[0].priority);for(let r=0;r<t.length;r++)Math.floor(t[r].priority)===i&&(n+=1);return n},dequeue:()=>t.shift()}}function Ip(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)Ip(n,t);return t}function P2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&P2(n.children,t);return t}function Y8(e){if(e.key){if(e.key==="data-table-group")return A2;if(["data-table-expand","data-table-select"].includes(e.key))return G8}}function Y_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>Y_(n,t+1))):t}function Q8(e){let t=!1;function n(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s)if(o&&(s.fixed=!0),s.fixed)if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a],!0);else t?isNaN(+s.width)&&(`${s.key}`,void 0):s.lastFixed=!0,t=!0;else if(s.children)for(let a=s.children.length-1;a>=0;a--)n(s.children[a]);else t=!1}for(let s=e.length-1;s>=0;s--)n(e[s]);function i(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return o;if(s.children){s.fixedOffset=o;for(const a of s.children)o=i(a,o)}else s.fixed&&(s.fixedOffset=o,o+=parseFloat(s.width||"0")||0);return o}let r=0;for(const s of e)r=i(s,r)}function X8(e,t){const n=[];let i=0;const r=K8(e);for(;r.size()>0;){let o=r.count();const a=[];let l=1;for(;o>0;){const{element:u,priority:c}=r.dequeue(),d=t-i-Y_(u);if(a.push({...u,rowspan:d??1,colspan:u.children?Ip(u).length:1}),u.children)for(const v of u.children){const m=c%1+l/Math.pow(10,i+2);r.enqueue(v,i+d+m)}l+=1,o-=1}i+=1,n.push(a)}return{columns:e.map(o=>Ip(o)).flat(),headers:n}}function V2(e){const t=[];for(const n of e){const i={...Y8(n),...n},r=i.key??(typeof i.value=="string"?i.value:null),s=i.value??r??null,o={...i,key:r,value:s,sortable:i.sortable??(i.key!=null||!!i.sort),children:i.children?V2(i.children):void 0};t.push(o)}return t}function Q_(e,t){const n=z([]),i=z([]),r=z({}),s=z({}),o=z({});Kt(()=>{var p,y,_;const u=(e.headers||Object.keys(e.items[0]??{}).map(k=>({key:k,title:Ar(k)}))).slice(),c=P2(u);(p=t==null?void 0:t.groupBy)!=null&&p.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(y=t==null?void 0:t.showSelect)!=null&&y.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(_=t==null?void 0:t.showExpand)!=null&&_.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=V2(u);Q8(d);const v=Math.max(...d.map(k=>Y_(k)))+1,m=X8(d,v);n.value=m.headers,i.value=m.columns;const g=m.headers.flat(1);for(const k of g)k.key&&(k.sortable&&(k.sort&&(r.value[k.key]=k.sort),k.sortRaw&&(s.value[k.key]=k.sortRaw)),k.filter&&(o.value[k.key]=k.filter))});const a={headers:n,columns:i,sortFunctions:r,sortRawFunctions:s,filterFunctions:o};return Ot(x2,a),a}function Wv(){const e=Ze(x2);if(!e)throw new Error("Missing headers!");return e}const R2=Q({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:We,default:"$sortAsc"},sortDescIcon:{type:We,default:"$sortDesc"},headerProps:{type:Object},...la(),...Iv()},"VDataTableHeaders"),Ko=re()({name:"VDataTableHeaders",props:R2(),setup(e,t){let{slots:n}=t;const{t:i}=Xt(),{toggleSort:r,sortBy:s,isSorted:o}=T2(),{someSelected:a,allSelected:l,selectAll:u,showSelectAll:c}=Hv(),{columns:d,headers:v}=Wv(),{loaderClasses:m}=zc(e);function g(w,b){if(!(!e.sticky&&!w.fixed))return{position:"sticky",left:w.fixed?Te(w.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${b})`:void 0}}function p(w){const b=s.value.find(C=>C.key===w.key);return b?b.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:_}=It(e,"color"),{displayClasses:k,mobile:A}=zi(e),T=V(()=>({headers:v.value,columns:d.value,toggleSort:r,isSorted:o,sortBy:s.value,someSelected:a.value,allSelected:l.value,selectAll:u,getSortIcon:p})),D=V(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},k.value,m.value]),R=w=>{let{column:b,x:C,y:E}=w;const I=b.key==="data-table-select"||b.key==="data-table-expand",P=oe(e.headerProps??{},b.headerProps??{});return f(th,oe({tag:"th",align:b.align,class:[{"v-data-table__th--sortable":b.sortable&&!e.disableSort,"v-data-table__th--sorted":o(b),"v-data-table__th--fixed":b.fixed},...D.value],style:{width:Te(b.width),minWidth:Te(b.minWidth),maxWidth:Te(b.maxWidth),...g(b,E)},colspan:b.colspan,rowspan:b.rowspan,onClick:b.sortable?()=>r(b):void 0,fixed:b.fixed,nowrap:b.nowrap,lastFixed:b.lastFixed,noPadding:I},P),{default:()=>{var j;const F=`header.${b.key}`,$={column:b,selectAll:u,isSorted:o,toggleSort:r,sortBy:s.value,someSelected:a.value,allSelected:l.value,getSortIcon:p};return n[F]?n[F]($):b.key==="data-table-select"?((j=n["header.data-table-select"])==null?void 0:j.call(n,$))??(c.value&&f(ns,{modelValue:l.value,indeterminate:a.value&&!l.value,"onUpdate:modelValue":u},null)):f("div",{class:"v-data-table-header__content"},[f("span",null,[b.title]),b.sortable&&!e.disableSort&&f(pt,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(b)},null),e.multiSort&&o(b)&&f("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:_.value},[s.value.findIndex(K=>K.key===b.key)+1])])}})},x=()=>{const w=oe(e.headerProps??{}??{}),b=V(()=>d.value.filter(E=>(E==null?void 0:E.sortable)&&!e.disableSort)),C=V(()=>{if(d.value.find(I=>I.key==="data-table-select")!=null)return l.value?"$checkboxOn":a.value?"$checkboxIndeterminate":"$checkboxOff"});return f(th,oe({tag:"th",class:[...D.value],colspan:v.value.length+1},w),{default:()=>[f("div",{class:"v-data-table-header__content"},[f(B_,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:b.value,label:i("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>s.value=[],appendIcon:C.value,"onClick:append":()=>u(!l.value)},{...n,chip:E=>{var I;return f(Nl,{onClick:(I=E.item.raw)!=null&&I.sortable?()=>r(E.item.raw):void 0,onMousedown:P=>{P.preventDefault(),P.stopPropagation()}},{default:()=>[E.item.title,f(pt,{class:["v-data-table__td-sort-icon",o(E.item.raw)&&"v-data-table__td-sort-icon-active"],icon:p(E.item.raw),size:"small"},null)]})}})])]})};ue(()=>A.value?f("tr",null,[f(x,null,null)]):f(le,null,[n.headers?n.headers(T.value):v.value.map((w,b)=>f("tr",null,[w.map((C,E)=>f(R,{column:C,x:E,y:b},null))])),e.loading&&f("tr",{class:"v-data-table-progress"},[f("th",{colspan:d.value.length},[f(Wc,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),J8=Q({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),Z8=re()({name:"VDataTableGroupHeaderRow",props:J8(),setup(e,t){let{slots:n}=t;const{isGroupOpen:i,toggleGroup:r,extractRows:s}=g2(),{isSelected:o,isSomeSelected:a,select:l}=Hv(),{columns:u}=Wv(),c=V(()=>s([e.item]));return()=>f("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(d=>{var v,m;if(d.key==="data-table-group"){const g=i(e.item)?"$expand":"$next",p=()=>r(e.item);return((v=n["data-table-group"])==null?void 0:v.call(n,{item:e.item,count:c.value.length,props:{icon:g,onClick:p}}))??f(th,{class:"v-data-table-group-header-row__column"},{default:()=>[f(gt,{size:"small",variant:"text",icon:g,onClick:p},null),f("span",null,[e.item.value]),f("span",null,[Le("("),c.value.length,Le(")")])]})}if(d.key==="data-table-select"){const g=o(c.value),p=a(c.value)&&!g,y=_=>l(c.value,_);return((m=n["data-table-select"])==null?void 0:m.call(n,{props:{modelValue:g,indeterminate:p,"onUpdate:modelValue":y}}))??f("td",null,[f(ns,{modelValue:g,indeterminate:p,"onUpdate:modelValue":y},null)])}return f("td",null,null)})])}}),eF=Q({index:Number,item:Object,cellProps:[Object,Function],onClick:bn(),onContextmenu:bn(),onDblclick:bn(),...la()},"VDataTableRow"),X_=re()({name:"VDataTableRow",props:eF(),setup(e,t){let{slots:n}=t;const{displayClasses:i,mobile:r}=zi(e,"v-data-table__tr"),{isSelected:s,toggleSelect:o,someSelected:a,allSelected:l,selectAll:u}=Hv(),{isExpanded:c,toggleExpand:d}=v2(),{toggleSort:v,sortBy:m,isSorted:g}=T2(),{columns:p}=Wv();ue(()=>f("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},i.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&p.value.map((y,_)=>{const k=e.item,A=`item.${y.key}`,T=`header.${y.key}`,D={index:e.index,item:k.raw,internalItem:k,value:jo(k.columns,y.key),column:y,isSelected:s,toggleSelect:o,isExpanded:c,toggleExpand:d},R={column:y,selectAll:u,isSorted:g,toggleSort:v,sortBy:m.value,someSelected:a.value,allSelected:l.value,getSortIcon:()=>""},x=typeof e.cellProps=="function"?e.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value,column:y}):e.cellProps,w=typeof y.cellProps=="function"?y.cellProps({index:D.index,item:D.item,internalItem:D.internalItem,value:D.value}):y.cellProps;return f(th,oe({align:y.align,class:{"v-data-table__td--expanded-row":y.key==="data-table-expand","v-data-table__td--select-row":y.key==="data-table-select"},fixed:y.fixed,fixedOffset:y.fixedOffset,lastFixed:y.lastFixed,maxWidth:r.value?void 0:y.maxWidth,noPadding:y.key==="data-table-select"||y.key==="data-table-expand",nowrap:y.nowrap,width:r.value?void 0:y.width},x,w),{default:()=>{var C,E,I,P,F;if(n[A]&&!r.value)return(C=n[A])==null?void 0:C.call(n,D);if(y.key==="data-table-select")return((E=n["item.data-table-select"])==null?void 0:E.call(n,D))??f(ns,{disabled:!k.selectable,modelValue:s([k]),onClick:Ho(()=>o(k),["stop"])},null);if(y.key==="data-table-expand")return((I=n["item.data-table-expand"])==null?void 0:I.call(n,D))??f(gt,{icon:c(k)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ho(()=>d(k),["stop"])},null);const b=ze(D.value);return r.value?f(le,null,[f("div",{class:"v-data-table__td-title"},[((P=n[T])==null?void 0:P.call(n,R))??y.title]),f("div",{class:"v-data-table__td-value"},[((F=n[A])==null?void 0:F.call(n,D))??b])]):b}})})]))}}),D2=Q({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...la()},"VDataTableRows"),Yo=re()({name:"VDataTableRows",inheritAttrs:!1,props:D2(),setup(e,t){let{attrs:n,slots:i}=t;const{columns:r}=Wv(),{expandOnClick:s,toggleExpand:o,isExpanded:a}=v2(),{isSelected:l,toggleSelect:u}=Hv(),{toggleGroup:c,isGroupOpen:d}=g2(),{t:v}=Xt(),{mobile:m}=zi(e);return ue(()=>{var g,p;return e.loading&&(!e.items.length||i.loading)?f("tr",{class:"v-data-table-rows-loading",key:"loading"},[f("td",{colspan:r.value.length},[((g=i.loading)==null?void 0:g.call(i))??v(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?f("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[f("td",{colspan:r.value.length},[((p=i["no-data"])==null?void 0:p.call(i))??v(e.noDataText)])]):f(le,null,[e.items.map((y,_)=>{var T;if(y.type==="group"){const D={index:_,item:y,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return i["group-header"]?i["group-header"](D):f(Z8,oe({key:`group-header_${y.id}`,item:y},lk(n,":group-header",()=>D)),i)}const k={index:_,item:y.raw,internalItem:y,columns:r.value,isExpanded:a,toggleExpand:o,isSelected:l,toggleSelect:u},A={...k,props:oe({key:`item_${y.key??y.index}`,onClick:s.value?()=>{o(y)}:void 0,index:_,item:y,cellProps:e.cellProps,mobile:m.value},lk(n,":row",()=>k),typeof e.rowProps=="function"?e.rowProps({item:k.item,index:k.index,internalItem:k.internalItem}):e.rowProps)};return f(le,{key:A.props.key},[i.item?i.item(A):f(X_,A.props,i),a(y)&&((T=i["expanded-row"])==null?void 0:T.call(i,k))])})])}),{}}}),O2=Q({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Pe(),...hn(),...Qe(),...ot()},"VTable"),Qo=re()({name:"VTable",props:O2(),setup(e,t){let{slots:n,emit:i}=t;const{themeClasses:r}=yt(e),{densityClasses:s}=ti(e);return ue(()=>f(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},r.value,s.value,e.class],style:e.style},{default:()=>{var o,a,l;return[(o=n.top)==null?void 0:o.call(n),n.default?f("div",{class:"v-table__wrapper",style:{height:Te(e.height)}},[f("table",null,[n.default()])]):(a=n.wrapper)==null?void 0:a.call(n),(l=n.bottom)==null?void 0:l.call(n)]}})),{}}}),tF=Q({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function nF(e,t,n,i){const r=e.returnObject?t:an(t,e.itemValue),s=an(t,e.itemSelectable,!0),o=i.reduce((a,l)=>(l.key!=null&&(a[l.key]=an(t,l.value)),a),{});return{type:"item",key:e.returnObject?an(t,e.itemValue):r,index:n,value:r,selectable:s,columns:o,raw:t}}function iF(e,t,n){return t.map((i,r)=>nF(e,i,r,n))}function J_(e,t){return{items:V(()=>iF(e,e.items,t.value))}}const Z_=Q({...D2(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...f2(),...H_(),...q8(),...tF(),...S2(),...E2(),...R2(),...O2()},"DataTable"),rF=Q({...z_(),...Z_(),...Jc(),...K_()},"VDataTable"),sF=re()({name:"VDataTable",props:rF(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=j_(e),{sortBy:s,multiSort:o,mustSort:a}=jv(e),{page:l,itemsPerPage:u}=W_(e),{disableSort:c}=aa(e),{columns:d,headers:v,sortFunctions:m,sortRawFunctions:g,filterFunctions:p}=Q_(e,{groupBy:r,showSelect:ee(e,"showSelect"),showExpand:ee(e,"showExpand")}),{items:y}=J_(e,d),_=ee(e,"search"),{filteredItems:k}=Zc(e,y,_,{transform:be=>be.columns,customKeyFilter:p}),{toggleSort:A}=zv({sortBy:s,multiSort:o,mustSort:a,page:l}),{sortByWithGroups:T,opened:D,extractRows:R,isGroupOpen:x,toggleGroup:w}=Fv({groupBy:r,sortBy:s,disableSort:c}),{sortedItems:b}=G_(e,k,T,{transform:be=>({...be.raw,...be.columns}),sortFunctions:m,sortRawFunctions:g}),{flatItems:C}=Bv(b,r,D),E=V(()=>C.value.length),{startIndex:I,stopIndex:P,pageCount:F,setItemsPerPage:$}=q_({page:l,itemsPerPage:u,itemsLength:E}),{paginatedItems:j}=b2({items:C,startIndex:I,stopIndex:P,itemsPerPage:u}),K=V(()=>R(j.value)),{isSelected:U,select:B,selectAll:H,toggleSelect:q,someSelected:J,allSelected:he}=Uv(e,{allItems:y,currentPage:K}),{isExpanded:_e,toggleExpand:Ce}=Nv(e);$v({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:_}),zt({VDataTableRows:{hideNoData:ee(e,"hideNoData"),noDataText:ee(e,"noDataText"),loading:ee(e,"loading"),loadingText:ee(e,"loadingText")}});const ie=V(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:F.value,toggleSort:A,setItemsPerPage:$,someSelected:J.value,allSelected:he.value,isSelected:U,select:B,selectAll:H,toggleSelect:q,isExpanded:_e,toggleExpand:Ce,isGroupOpen:x,toggleGroup:w,items:K.value.map(be=>be.raw),internalItems:K.value,groupedItems:j.value,columns:d.value,headers:v.value}));return ue(()=>{const be=mc.filterProps(e),xe=Ko.filterProps(e),Oe=Yo.filterProps(e),Re=Qo.filterProps(e);return f(Qo,oe({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Re),{top:()=>{var me;return(me=i.top)==null?void 0:me.call(i,ie.value)},default:()=>{var me,Be,L,N,X,ne;return i.default?i.default(ie.value):f(le,null,[(me=i.colgroup)==null?void 0:me.call(i,ie.value),!e.hideDefaultHeader&&f("thead",{key:"thead"},[f(Ko,xe,i)]),(Be=i.thead)==null?void 0:Be.call(i,ie.value),!e.hideDefaultBody&&f("tbody",null,[(L=i["body.prepend"])==null?void 0:L.call(i,ie.value),i.body?i.body(ie.value):f(Yo,oe(n,Oe,{items:j.value}),i),(N=i["body.append"])==null?void 0:N.call(i,ie.value)]),(X=i.tbody)==null?void 0:X.call(i,ie.value),(ne=i.tfoot)==null?void 0:ne.call(i,ie.value)])},bottom:()=>i.bottom?i.bottom(ie.value):!e.hideDefaultFooter&&f(le,null,[f(Yc,null,null),f(mc,be,{prepend:i["footer.prepend"]})])})}),{}}}),oF=Q({...Z_(),...H_(),...Gx(),...Jc()},"VDataTableVirtual"),aF=re()({name:"VDataTableVirtual",props:oF(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=j_(e),{sortBy:s,multiSort:o,mustSort:a}=jv(e),{disableSort:l}=aa(e),{columns:u,headers:c,filterFunctions:d,sortFunctions:v,sortRawFunctions:m}=Q_(e,{groupBy:r,showSelect:ee(e,"showSelect"),showExpand:ee(e,"showExpand")}),{items:g}=J_(e,u),p=ee(e,"search"),{filteredItems:y}=Zc(e,g,p,{transform:xe=>xe.columns,customKeyFilter:d}),{toggleSort:_}=zv({sortBy:s,multiSort:o,mustSort:a}),{sortByWithGroups:k,opened:A,extractRows:T,isGroupOpen:D,toggleGroup:R}=Fv({groupBy:r,sortBy:s,disableSort:l}),{sortedItems:x}=G_(e,y,k,{transform:xe=>({...xe.raw,...xe.columns}),sortFunctions:v,sortRawFunctions:m}),{flatItems:w}=Bv(x,r,A),b=V(()=>T(w.value)),{isSelected:C,select:E,selectAll:I,toggleSelect:P,someSelected:F,allSelected:$}=Uv(e,{allItems:b,currentPage:b}),{isExpanded:j,toggleExpand:K}=Nv(e),{containerRef:U,markerRef:B,paddingTop:H,paddingBottom:q,computedItems:J,handleItemResize:he,handleScroll:_e,handleScrollend:Ce}=Kx(e,w),ie=V(()=>J.value.map(xe=>xe.raw));$v({sortBy:s,page:Se(1),itemsPerPage:Se(-1),groupBy:r,search:p}),zt({VDataTableRows:{hideNoData:ee(e,"hideNoData"),noDataText:ee(e,"noDataText"),loading:ee(e,"loading"),loadingText:ee(e,"loadingText")}});const be=V(()=>({sortBy:s.value,toggleSort:_,someSelected:F.value,allSelected:$.value,isSelected:C,select:E,selectAll:I,toggleSelect:P,isExpanded:j,toggleExpand:K,isGroupOpen:D,toggleGroup:R,items:b.value.map(xe=>xe.raw),internalItems:b.value,groupedItems:w.value,columns:u.value,headers:c.value}));ue(()=>{const xe=Ko.filterProps(e),Oe=Yo.filterProps(e),Re=Qo.filterProps(e);return f(Qo,oe({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Re),{top:()=>{var me;return(me=i.top)==null?void 0:me.call(i,be.value)},wrapper:()=>{var me,Be,L;return f("div",{ref:U,onScrollPassive:_e,onScrollend:Ce,class:"v-table__wrapper",style:{height:Te(e.height)}},[f("table",null,[(me=i.colgroup)==null?void 0:me.call(i,be.value),!e.hideDefaultHeader&&f("thead",{key:"thead"},[f(Ko,oe(xe,{sticky:e.fixedHeader}),i)]),!e.hideDefaultBody&&f("tbody",null,[f("tr",{ref:B,style:{height:Te(H.value),border:0}},[f("td",{colspan:u.value.length,style:{height:0,border:0}},null)]),(Be=i["body.prepend"])==null?void 0:Be.call(i,be.value),f(Yo,oe(n,Oe,{items:ie.value}),{...i,item:N=>f(qx,{key:N.internalItem.index,renderless:!0,"onUpdate:height":X=>he(N.internalItem.index,X)},{default:X=>{var te;let{itemRef:ne}=X;return((te=i.item)==null?void 0:te.call(i,{...N,itemRef:ne}))??f(X_,oe(N.props,{ref:ne,key:N.internalItem.index,index:N.internalItem.index}),i)}})}),(L=i["body.append"])==null?void 0:L.call(i,be.value),f("tr",{style:{height:Te(q.value),border:0}},[f("td",{colspan:u.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var me;return(me=i.bottom)==null?void 0:me.call(i,be.value)}})})}}),lF=Q({itemsLength:{type:[Number,String],required:!0},...z_(),...Z_(),...K_()},"VDataTableServer"),uF=re()({name:"VDataTableServer",props:lF(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{groupBy:r}=j_(e),{sortBy:s,multiSort:o,mustSort:a}=jv(e),{page:l,itemsPerPage:u}=W_(e),{disableSort:c}=aa(e),d=V(()=>parseInt(e.itemsLength,10)),{columns:v,headers:m}=Q_(e,{groupBy:r,showSelect:ee(e,"showSelect"),showExpand:ee(e,"showExpand")}),{items:g}=J_(e,v),{toggleSort:p}=zv({sortBy:s,multiSort:o,mustSort:a,page:l}),{opened:y,isGroupOpen:_,toggleGroup:k,extractRows:A}=Fv({groupBy:r,sortBy:s,disableSort:c}),{pageCount:T,setItemsPerPage:D}=q_({page:l,itemsPerPage:u,itemsLength:d}),{flatItems:R}=Bv(g,r,y),{isSelected:x,select:w,selectAll:b,toggleSelect:C,someSelected:E,allSelected:I}=Uv(e,{allItems:g,currentPage:g}),{isExpanded:P,toggleExpand:F}=Nv(e),$=V(()=>A(g.value));$v({page:l,itemsPerPage:u,sortBy:s,groupBy:r,search:ee(e,"search")}),Ot("v-data-table",{toggleSort:p,sortBy:s}),zt({VDataTableRows:{hideNoData:ee(e,"hideNoData"),noDataText:ee(e,"noDataText"),loading:ee(e,"loading"),loadingText:ee(e,"loadingText")}});const j=V(()=>({page:l.value,itemsPerPage:u.value,sortBy:s.value,pageCount:T.value,toggleSort:p,setItemsPerPage:D,someSelected:E.value,allSelected:I.value,isSelected:x,select:w,selectAll:b,toggleSelect:C,isExpanded:P,toggleExpand:F,isGroupOpen:_,toggleGroup:k,items:$.value.map(K=>K.raw),internalItems:$.value,groupedItems:R.value,columns:v.value,headers:m.value}));ue(()=>{const K=mc.filterProps(e),U=Ko.filterProps(e),B=Yo.filterProps(e),H=Qo.filterProps(e);return f(Qo,oe({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},H),{top:()=>{var q;return(q=i.top)==null?void 0:q.call(i,j.value)},default:()=>{var q,J,he,_e,Ce,ie;return i.default?i.default(j.value):f(le,null,[(q=i.colgroup)==null?void 0:q.call(i,j.value),!e.hideDefaultHeader&&f("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[f(Ko,oe(U,{sticky:e.fixedHeader}),i)]),(J=i.thead)==null?void 0:J.call(i,j.value),!e.hideDefaultBody&&f("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(he=i["body.prepend"])==null?void 0:he.call(i,j.value),i.body?i.body(j.value):f(Yo,oe(n,B,{items:R.value}),i),(_e=i["body.append"])==null?void 0:_e.call(i,j.value)]),(Ce=i.tbody)==null?void 0:Ce.call(i,j.value),(ie=i.tfoot)==null?void 0:ie.call(i,j.value)])},bottom:()=>i.bottom?i.bottom(j.value):!e.hideDefaultFooter&&f(le,null,[f(Yc,null,null),f(mc,K,{prepend:i["footer.prepend"]})])})})}}),cF=Q({fluid:{type:Boolean,default:!1},...Pe(),...rn(),...Qe()},"VContainer"),dF=re()({name:"VContainer",props:cF(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=dn(),{dimensionStyles:r}=sn(e);return ue(()=>f(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[r.value,e.style]},n)),{}}}),L2=bv.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),M2=bv.reduce((e,t)=>{const n="offset"+Ar(t);return e[n]={type:[String,Number],default:null},e},{}),N2=bv.reduce((e,t)=>{const n="order"+Ar(t);return e[n]={type:[String,Number],default:null},e},{}),Dk={col:Object.keys(L2),offset:Object.keys(M2),order:Object.keys(N2)};function fF(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");i+=`-${r}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const hF=["auto","start","end","center","baseline","stretch"],vF=Q({cols:{type:[Boolean,String,Number],default:!1},...L2,offset:{type:[String,Number],default:null},...M2,order:{type:[String,Number],default:null},...N2,alignSelf:{type:String,default:null,validator:e=>hF.includes(e)},...Pe(),...Qe()},"VCol"),mF=re()({name:"VCol",props:vF(),setup(e,t){let{slots:n}=t;const i=V(()=>{const r=[];let s;for(s in Dk)Dk[s].forEach(a=>{const l=e[a],u=fF(s,a,l);u&&r.push(u)});const o=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return ci(e.tag,{class:[i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),e0=["start","end","center"],F2=["space-between","space-around","space-evenly"];function t0(e,t){return bv.reduce((n,i)=>{const r=e+Ar(i);return n[r]=t(),n},{})}const gF=[...e0,"baseline","stretch"],B2=e=>gF.includes(e),$2=t0("align",()=>({type:String,default:null,validator:B2})),pF=[...e0,...F2],U2=e=>pF.includes(e),H2=t0("justify",()=>({type:String,default:null,validator:U2})),yF=[...e0,...F2,"stretch"],j2=e=>yF.includes(e),z2=t0("alignContent",()=>({type:String,default:null,validator:j2})),Ok={align:Object.keys($2),justify:Object.keys(H2),alignContent:Object.keys(z2)},_F={align:"align",justify:"justify",alignContent:"align-content"};function bF(e,t,n){let i=_F[e];if(n!=null){if(t){const r=t.replace(e,"");i+=`-${r}`}return i+=`-${n}`,i.toLowerCase()}}const wF=Q({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:B2},...$2,justify:{type:String,default:null,validator:U2},...H2,alignContent:{type:String,default:null,validator:j2},...z2,...Pe(),...Qe()},"VRow"),kF=re()({name:"VRow",props:wF(),setup(e,t){let{slots:n}=t;const i=V(()=>{const r=[];let s;for(s in Ok)Ok[s].forEach(o=>{const a=e[o],l=bF(s,o,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return ci(e.tag,{class:["v-row",i.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),W2=Rr("v-spacer","div","VSpacer"),q2=Q({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:We,default:"$next"},prevIcon:{type:We,default:"$prev"},modeIcon:{type:We,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Tp=re()({name:"VDatePickerControls",props:q2(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const i=V(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),r=V(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=V(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),o=V(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function a(){n("click:prev")}function l(){n("click:next")}function u(){n("click:year")}function c(){n("click:month")}return ue(()=>f("div",{class:["v-date-picker-controls"]},[f(gt,{class:"v-date-picker-controls__month-btn",disabled:i.value,text:e.text,variant:"text",rounded:!0,onClick:c},null),f(gt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:r.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),f(W2,{key:"mode-spacer"},null),f("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[f(gt,{disabled:s.value,icon:e.prevIcon,variant:"text",onClick:a},null),f(gt,{disabled:o.value,icon:e.nextIcon,variant:"text",onClick:l},null)])])),{}}}),SF=Q({appendIcon:String,color:String,header:String,transition:String,onClick:bn()},"VDatePickerHeader"),xp=re()({name:"VDatePickerHeader",props:SF(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=It(e,"color");function o(){n("click")}function a(){n("click:append")}return ue(()=>{const l=!!(i.default||e.header),u=!!(i.append||e.appendIcon);return f("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},r.value],style:s.value,onClick:o},[i.prepend&&f("div",{key:"prepend",class:"v-date-picker-header__prepend"},[i.prepend()]),l&&f(Xn,{key:"content",name:e.transition},{default:()=>{var c;return[f("div",{key:e.header,class:"v-date-picker-header__content"},[((c=i.default)==null?void 0:c.call(i))??e.header])]}}),u&&f("div",{class:"v-date-picker-header__append"},[i.append?f(nt,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=i.append)==null?void 0:c.call(i)]}}):f(gt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:a},null)])])}),{}}}),CF=Q({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function EF(e){const t=Hc(),n=Fe(e,"modelValue",[],m=>Ht(m)),i=V(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),r=Fe(e,"year",void 0,m=>{const g=m!=null?Number(m):t.getYear(i.value);return t.startOfYear(t.setYear(t.date(),g))},m=>t.getYear(m)),s=Fe(e,"month",void 0,m=>{const g=m!=null?Number(m):t.getMonth(i.value),p=t.setYear(t.startOfMonth(t.date()),t.getYear(r.value));return t.setMonth(p,g)},m=>t.getMonth(m)),o=V(()=>{const m=Number(e.firstDayOfWeek??0);return e.weekdays.map(g=>(g+m)%7)}),a=V(()=>{const m=t.getWeekArray(s.value,e.firstDayOfWeek),g=m.flat(),p=6*7;if(e.weeksInMonth==="static"&&g.length<p){const y=g[g.length-1];let _=[];for(let k=1;k<=p-g.length;k++)_.push(t.addDays(y,k)),k%7===0&&(m.push(_),_=[])}return m});function l(m,g){return m.filter(p=>o.value.includes(t.toJsDate(p).getDay())).map((p,y)=>{const _=t.toISO(p),k=!t.isSameMonth(p,s.value),A=t.isSameDay(p,t.startOfMonth(s.value)),T=t.isSameDay(p,t.endOfMonth(s.value)),D=t.isSameDay(p,s.value);return{date:p,isoDate:_,formatted:t.format(p,"keyboardDate"),year:t.getYear(p),month:t.getMonth(p),isDisabled:v(p),isWeekStart:y%7===0,isWeekEnd:y%7===6,isToday:t.isSameDay(p,g),isAdjacent:k,isHidden:k&&!e.showAdjacentMonths,isStart:A,isSelected:n.value.some(R=>t.isSameDay(p,R)),isEnd:T,isSame:D,localized:t.format(p,"dayOfMonth")}})}const u=V(()=>{const m=t.startOfWeek(i.value,e.firstDayOfWeek),g=[];for(let y=0;y<=6;y++)g.push(t.addDays(m,y));const p=t.date();return l(g,p)}),c=V(()=>{const m=a.value.flat(),g=t.date();return l(m,g)}),d=V(()=>a.value.map(m=>m.length?L6(t,m[0]):null));function v(m){if(e.disabled)return!0;const g=t.date(m);return e.min&&t.isAfter(t.date(e.min),g)||e.max&&t.isAfter(g,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(p=>t.isSameDay(t.date(p),g)):typeof e.allowedDates=="function"?!e.allowedDates(g):!1}return{displayValue:i,daysInMonth:c,daysInWeek:u,genDays:l,model:n,weeksInMonth:a,weekDays:o,weekNumbers:d}}const G2=Q({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...CF()},"VDatePickerMonth"),Ap=re()({name:"VDatePickerMonth",props:G2(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=z(),{daysInMonth:s,model:o,weekNumbers:a}=EF(e),l=Hc(),u=Se(),c=Se(),d=Se(!1),v=V(()=>d.value?e.reverseTransition:e.transition);e.multiple==="range"&&o.value.length>0&&(u.value=o.value[0],o.value.length>1&&(c.value=o.value[o.value.length-1]));const m=V(()=>{const _=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return o.value.length>=_});ye(s,(_,k)=>{k&&(d.value=l.isBefore(_[0].date,k[0].date))});function g(_){const k=l.startOfDay(_);if(o.value.length===0?u.value=void 0:o.value.length===1&&(u.value=o.value[0],c.value=void 0),!u.value)u.value=k,o.value=[u.value];else if(c.value)u.value=_,c.value=void 0,o.value=[u.value];else{if(l.isSameDay(k,u.value)){u.value=void 0,o.value=[];return}else l.isBefore(k,u.value)?(c.value=l.endOfDay(u.value),u.value=k):c.value=l.endOfDay(k);const A=l.getDiff(c.value,u.value,"days"),T=[u.value];for(let D=1;D<A;D++){const R=l.addDays(u.value,D);T.push(R)}T.push(c.value),o.value=T}}function p(_){const k=o.value.findIndex(A=>l.isSameDay(A,_));if(k===-1)o.value=[...o.value,_];else{const A=[...o.value];A.splice(k,1),o.value=A}}function y(_){e.multiple==="range"?g(_):e.multiple?p(_):o.value=[_]}return()=>f("div",{class:"v-date-picker-month"},[e.showWeek&&f("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&f("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Le("")]),a.value.map(_=>f("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[_]))]),f(Xn,{name:v.value},{default:()=>{var _;return[f("div",{ref:r,key:(_=s.value[0].date)==null?void 0:_.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&l.getWeekdays(e.firstDayOfWeek).map(k=>f("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[k])),s.value.map((k,A)=>{const T={props:{onClick:()=>y(k.date)},item:k,i:A};return m.value&&!k.isSelected&&(k.isDisabled=!0),f("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":k.isAdjacent,"v-date-picker-month__day--hide-adjacent":k.isHidden,"v-date-picker-month__day--selected":k.isSelected,"v-date-picker-month__day--week-end":k.isWeekEnd,"v-date-picker-month__day--week-start":k.isWeekStart}],"data-v-date":k.isDisabled?void 0:k.isoDate},[(e.showAdjacentMonths||!k.isAdjacent)&&f(nt,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(k.isSelected||k.isToday)&&!k.isDisabled?e.color:void 0,disabled:k.isDisabled,icon:!0,ripple:!1,text:k.localized,variant:k.isDisabled?k.isToday?"outlined":"text":k.isToday&&!k.isSelected?"outlined":"flat",onClick:()=>y(k.date)}}},{default:()=>{var D;return[((D=i.day)==null?void 0:D.call(i,T))??f(gt,T.props,null)]}})])})])]}})])}}),K2=Q({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Pp=re()({name:"VDatePickerMonths",props:K2(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Hc(),s=Fe(e,"modelValue"),o=V(()=>{let a=r.startOfYear(r.date());return e.year&&(a=r.setYear(a,e.year)),fr(12).map(l=>{const u=r.format(a,"monthShort"),c=!!(e.min&&r.isAfter(r.startOfMonth(r.date(e.min)),a)||e.max&&r.isAfter(a,r.startOfMonth(r.date(e.max))));return a=r.getNextMonth(a),{isDisabled:c,text:u,value:l}})});return Kt(()=>{s.value=s.value??r.getMonth(r.date())}),ue(()=>f("div",{class:"v-date-picker-months",style:{height:Te(e.height)}},[f("div",{class:"v-date-picker-months__content"},[o.value.map((a,l)=>{var d;const u={active:s.value===l,color:s.value===l?e.color:void 0,disabled:a.isDisabled,rounded:!0,text:a.text,variant:s.value===a.value?"flat":"text",onClick:()=>c(l)};function c(v){if(s.value===v){n("update:modelValue",s.value);return}s.value=v}return((d=i.month)==null?void 0:d.call(i,{month:a,i:l,props:u}))??f(gt,oe({key:"month"},u),null)})])])),{}}}),Y2=Q({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Vp=re()({name:"VDatePickerYears",props:Y2(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Hc(),s=Fe(e,"modelValue"),o=V(()=>{const l=r.getYear(r.date());let u=l-100,c=l+52;e.min&&(u=r.getYear(r.date(e.min))),e.max&&(c=r.getYear(r.date(e.max)));let d=r.startOfYear(r.date());return d=r.setYear(d,u),fr(c-u+1,u).map(v=>{const m=r.format(d,"year");return d=r.setYear(d,r.getYear(d)+1),{text:m,value:v}})});Kt(()=>{s.value=s.value??r.getYear(r.date())});const a=Kf();return Qt(async()=>{var l;await ct(),(l=a.el)==null||l.scrollIntoView({block:"center"})}),ue(()=>f("div",{class:"v-date-picker-years",style:{height:Te(e.height)}},[f("div",{class:"v-date-picker-years__content"},[o.value.map((l,u)=>{var d;const c={ref:s.value===l.value?a:void 0,active:s.value===l.value,color:s.value===l.value?e.color:void 0,rounded:!0,text:l.text,variant:s.value===l.value?"flat":"text",onClick:()=>{if(s.value===l.value){n("update:modelValue",s.value);return}s.value=l.value}};return((d=i.year)==null?void 0:d.call(i,{year:l,i:u,props:c}))??f(gt,oe({key:"month"},c),null)})])])),{}}}),IF=Rr("v-picker-title"),Q2=Q({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...Mv()},"VPicker"),Lk=re()({name:"VPicker",props:Q2(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=It(ee(e,"color"));return ue(()=>{const s=Go.filterProps(e),o=!!(e.title||n.title);return f(Go,oe(s,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var a;return[!e.hideHeader&&f("div",{key:"header",class:[i.value],style:[r.value]},[o&&f(IF,{key:"picker-title"},{default:()=>{var l;return[((l=n.title)==null?void 0:l.call(n))??e.title]}}),n.header&&f("div",{class:"v-picker__header"},[n.header()])]),f("div",{class:"v-picker__body"},[(a=n.default)==null?void 0:a.call(n)]),n.actions&&f(nt,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[f("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),TF=Q({header:{type:String,default:"$vuetify.datePicker.header"},...q2(),...G2({weeksInMonth:"static"}),...nn(K2(),["modelValue"]),...nn(Y2(),["modelValue"]),...Q2({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),xF=re()({name:"VDatePicker",props:TF(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const r=Hc(),{t:s}=Xt(),o=Fe(e,"modelValue",void 0,b=>Ht(b),b=>e.multiple?b:b[0]),a=Fe(e,"viewMode"),l=V(()=>{var C;const b=r.date((C=o.value)==null?void 0:C[0]);return b&&r.isValid(b)?b:r.date()}),u=z(Number(e.month??r.getMonth(r.startOfMonth(l.value)))),c=z(Number(e.year??r.getYear(r.startOfYear(r.setMonth(l.value,u.value))))),d=Se(!1),v=V(()=>e.multiple&&o.value.length>1?s("$vuetify.datePicker.itemsSelected",o.value.length):o.value[0]&&r.isValid(o.value[0])?r.format(r.date(o.value[0]),"normalDateWithWeekday"):s(e.header)),m=V(()=>{let b=r.date();return b=r.setDate(b,1),b=r.setMonth(b,u.value),b=r.setYear(b,c.value),r.format(b,"monthAndYear")}),g=V(()=>`date-picker-header${d.value?"-reverse":""}-transition`),p=V(()=>{const b=r.date(e.min);return e.min&&r.isValid(b)?b:null}),y=V(()=>{const b=r.date(e.max);return e.max&&r.isValid(b)?b:null}),_=V(()=>{if(e.disabled)return!0;const b=[];if(a.value!=="month")b.push("prev","next");else{let C=r.date();if(C=r.setYear(C,c.value),C=r.setMonth(C,u.value),p.value){const E=r.addDays(r.startOfMonth(C),-1);r.isAfter(p.value,E)&&b.push("prev")}if(y.value){const E=r.addDays(r.endOfMonth(C),1);r.isAfter(E,y.value)&&b.push("next")}}return b});function k(){u.value<11?u.value++:(c.value++,u.value=0,w(c.value)),x(u.value)}function A(){u.value>0?u.value--:(c.value--,u.value=11,w(c.value)),x(u.value)}function T(){a.value="month"}function D(){a.value=a.value==="months"?"month":"months"}function R(){a.value=a.value==="year"?"month":"year"}function x(b){a.value==="months"&&D(),n("update:month",b)}function w(b){a.value==="year"&&R(),n("update:year",b)}return ye(o,(b,C)=>{const E=Ht(C),I=Ht(b);if(!I.length)return;const P=r.date(E[E.length-1]),F=r.date(I[I.length-1]),$=r.getMonth(F),j=r.getYear(F);$!==u.value&&(u.value=$,x(u.value)),j!==c.value&&(c.value=j,w(c.value)),d.value=r.isBefore(P,F)}),ue(()=>{const b=Lk.filterProps(e),C=Tp.filterProps(e),E=xp.filterProps(e),I=Ap.filterProps(e),P=nn(Pp.filterProps(e),["modelValue"]),F=nn(Vp.filterProps(e),["modelValue"]),$={header:v.value,transition:g.value};return f(Lk,oe(b,{class:["v-date-picker",`v-date-picker--${a.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var j;return((j=i.title)==null?void 0:j.call(i))??f("div",{class:"v-date-picker__title"},[s(e.title)])},header:()=>i.header?f(nt,{defaults:{VDatePickerHeader:{...$}}},{default:()=>{var j;return[(j=i.header)==null?void 0:j.call(i,$)]}}):f(xp,oe({key:"header"},E,$,{onClick:a.value!=="month"?T:void 0}),{...i,default:void 0}),default:()=>f(le,null,[f(Tp,oe(C,{disabled:_.value,text:m.value,"onClick:next":k,"onClick:prev":A,"onClick:month":D,"onClick:year":R}),null),f(uc,{hideOnLeave:!0},{default:()=>[a.value==="months"?f(Pp,oe({key:"date-picker-months"},P,{modelValue:u.value,"onUpdate:modelValue":[j=>u.value=j,x],min:p.value,max:y.value,year:c.value}),null):a.value==="year"?f(Vp,oe({key:"date-picker-years"},F,{modelValue:c.value,"onUpdate:modelValue":[j=>c.value=j,w],min:p.value,max:y.value}),null):f(Ap,oe({key:"date-picker-month"},I,{modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,month:u.value,"onUpdate:month":[j=>u.value=j,x],year:c.value,"onUpdate:year":[j=>c.value=j,w],min:p.value,max:y.value}),null)]})]),actions:i.actions})}),{}}}),AF=Q({actionText:String,bgColor:String,color:String,icon:We,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Pe(),...rn(),...Dr({size:void 0}),...ot()},"VEmptyState"),PF=re()({name:"VEmptyState",props:AF(),emits:{"click:action":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{themeClasses:r}=yt(e),{backgroundColorClasses:s,backgroundColorStyles:o}=It(ee(e,"bgColor")),{dimensionStyles:a}=sn(e),{displayClasses:l}=zi();function u(c){n("click:action",c)}return ue(()=>{var y,_,k;const c=!!(i.actions||e.actionText),d=!!(i.headline||e.headline),v=!!(i.title||e.title),m=!!(i.text||e.text),g=!!(i.media||e.image||e.icon),p=e.size||(e.image?200:96);return f("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},r.value,s.value,l.value,e.class],style:[o.value,a.value,e.style]},[g&&f("div",{key:"media",class:"v-empty-state__media"},[i.media?f(nt,{key:"media-defaults",defaults:{VImg:{src:e.image,height:p},VIcon:{size:p,icon:e.icon}}},{default:()=>[i.media()]}):f(le,null,[e.image?f(ts,{key:"image",src:e.image,height:p},null):e.icon?f(pt,{key:"icon",color:e.color,size:p,icon:e.icon},null):void 0])]),d&&f("div",{key:"headline",class:"v-empty-state__headline"},[((y=i.headline)==null?void 0:y.call(i))??e.headline]),v&&f("div",{key:"title",class:"v-empty-state__title"},[((_=i.title)==null?void 0:_.call(i))??e.title]),m&&f("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Te(e.textWidth)}},[((k=i.text)==null?void 0:k.call(i))??e.text]),i.default&&f("div",{key:"content",class:"v-empty-state__content"},[i.default()]),c&&f("div",{key:"actions",class:"v-empty-state__actions"},[f(nt,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var A;return[((A=i.actions)==null?void 0:A.call(i,{props:{onClick:u}}))??f(gt,{onClick:u},null)]}})])])}),{}}}),gc=Symbol.for("vuetify:v-expansion-panel"),X2=Q({...Pe(),...O_()},"VExpansionPanelText"),Rp=re()({name:"VExpansionPanelText",props:X2(),setup(e,t){let{slots:n}=t;const i=Ze(gc);if(!i)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:s}=L_(e,i.isSelected);return ue(()=>f(Sv,{onAfterLeave:s},{default:()=>{var o;return[xt(f("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&r.value&&f("div",{class:"v-expansion-panel-text__wrapper"},[(o=n.default)==null?void 0:o.call(n)])]),[[xi,i.isSelected.value]])]}})),{}}}),J2=Q({color:String,expandIcon:{type:We,default:"$expand"},collapseIcon:{type:We,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Pe(),...rn()},"VExpansionPanelTitle"),Dp=re()({name:"VExpansionPanelTitle",directives:{Ripple:ms},props:J2(),setup(e,t){let{slots:n}=t;const i=Ze(gc);if(!i)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:s}=It(e,"color"),{dimensionStyles:o}=sn(e),a=V(()=>({collapseIcon:e.collapseIcon,disabled:i.disabled.value,expanded:i.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),l=V(()=>i.isSelected.value?e.collapseIcon:e.expandIcon);return ue(()=>{var u;return xt(f("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":i.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[s.value,o.value,e.style],type:"button",tabindex:i.disabled.value?-1:void 0,disabled:i.disabled.value,"aria-expanded":i.isSelected.value,onClick:e.readonly?void 0:i.toggle},[f("span",{class:"v-expansion-panel-title__overlay"},null),(u=n.default)==null?void 0:u.call(n,a.value),!e.hideActions&&f(nt,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var c;return[f("span",{class:"v-expansion-panel-title__icon"},[((c=n.actions)==null?void 0:c.call(n,a.value))??f(pt,null,null)])]}})]),[[mi("ripple"),e.ripple]])}),{}}}),Z2=Q({title:String,text:String,bgColor:String,...fn(),...va(),...Nt(),...Qe(),...J2(),...X2()},"VExpansionPanel"),VF=re()({name:"VExpansionPanel",props:Z2(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ma(e,gc),{backgroundColorClasses:r,backgroundColorStyles:s}=It(e,"bgColor"),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e),l=V(()=>(i==null?void 0:i.disabled.value)||e.disabled),u=V(()=>i.group.items.value.reduce((v,m,g)=>(i.group.selected.value.includes(m.id)&&v.push(g),v),[])),c=V(()=>{const v=i.group.items.value.findIndex(m=>m.id===i.id);return!i.isSelected.value&&u.value.some(m=>m-v===1)}),d=V(()=>{const v=i.group.items.value.findIndex(m=>m.id===i.id);return!i.isSelected.value&&u.value.some(m=>m-v===-1)});return Ot(gc,i),ue(()=>{const v=!!(n.text||e.text),m=!!(n.title||e.title),g=Dp.filterProps(e),p=Rp.filterProps(e);return f(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":i.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},a.value,r.value,e.class],style:[s.value,e.style]},{default:()=>[f("div",{class:["v-expansion-panel__shadow",...o.value]},null),f(nt,{defaults:{VExpansionPanelTitle:{...g},VExpansionPanelText:{...p}}},{default:()=>{var y;return[m&&f(Dp,{key:"title"},{default:()=>[n.title?n.title():e.title]}),v&&f(Rp,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(y=n.default)==null?void 0:y.call(n)]}})]})}),{groupItem:i}}}),RF=["default","accordion","inset","popout"],DF=Q({flat:Boolean,...ha(),...u_(Z2(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...ot(),...Pe(),...Qe(),variant:{type:String,default:"default",validator:e=>RF.includes(e)}},"VExpansionPanels"),OF=re()({name:"VExpansionPanels",props:DF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:i,prev:r}=ro(e,gc),{themeClasses:s}=yt(e),o=V(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return zt({VExpansionPanel:{bgColor:ee(e,"bgColor"),collapseIcon:ee(e,"collapseIcon"),color:ee(e,"color"),eager:ee(e,"eager"),elevation:ee(e,"elevation"),expandIcon:ee(e,"expandIcon"),focusable:ee(e,"focusable"),hideActions:ee(e,"hideActions"),readonly:ee(e,"readonly"),ripple:ee(e,"ripple"),rounded:ee(e,"rounded"),static:ee(e,"static")}}),ue(()=>f(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},s.value,o.value,e.class],style:e.style},{default:()=>{var a;return[(a=n.default)==null?void 0:a.call(n,{prev:r,next:i})]}})),{next:i,prev:r}}}),LF=Q({app:Boolean,appear:Boolean,extended:Boolean,layout:Boolean,offset:Boolean,modelValue:{type:Boolean,default:!0},...nn(Tv({active:!0}),["location"]),...ua(),...vs(),...ar({transition:"fab-transition"})},"VFab"),MF=re()({name:"VFab",props:LF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),r=Se(56),s=z(),{resizeRef:o}=ir(d=>{d.length&&(r.value=d[0].target.clientHeight)}),a=V(()=>e.app||e.absolute),l=V(()=>{var d;return a.value?((d=e.location)==null?void 0:d.split(" ").shift())??"bottom":!1}),u=V(()=>{var d;return a.value?((d=e.location)==null?void 0:d.split(" ")[1])??"end":!1});ai(()=>e.app,()=>{const d=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:l,layoutSize:V(()=>e.layout?r.value+24:0),elementSize:V(()=>r.value+24),active:V(()=>e.app&&i.value),absolute:ee(e,"absolute")});Kt(()=>{s.value=d.layoutItemStyles.value})});const c=z();return ue(()=>{const d=gt.filterProps(e);return f("div",{ref:c,class:["v-fab",{"v-fab--absolute":e.absolute,"v-fab--app":!!e.app,"v-fab--extended":e.extended,"v-fab--offset":e.offset,[`v-fab--${l.value}`]:a.value,[`v-fab--${u.value}`]:a.value},e.class],style:[e.app?{...s.value}:{height:"inherit",width:void 0},e.style]},[f("div",{class:"v-fab__container"},[f(Xn,{appear:e.appear,transition:e.transition},{default:()=>[xt(f(gt,oe({ref:o},d,{active:void 0,location:void 0}),n),[[xi,e.active]])]})])])}),{}}}),NF=Q({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...ps({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Ht(e).every(t=>t!=null&&typeof t=="object")},...Xc({clearable:!0})},"VFileInput"),FF=re()({name:"VFileInput",inheritAttrs:!1,props:NF(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{t:s}=Xt(),o=Fe(e,"modelValue",e.modelValue,b=>Ht(b),b=>!e.multiple&&Array.isArray(b)?b[0]:b),{isFocused:a,focus:l,blur:u}=gs(e),c=V(()=>typeof e.showSize!="boolean"?e.showSize:void 0),d=V(()=>(o.value??[]).reduce((b,C)=>{let{size:E=0}=C;return b+E},0)),v=V(()=>Gw(d.value,c.value)),m=V(()=>(o.value??[]).map(b=>{const{name:C="",size:E=0}=b;return e.showSize?`${C} (${Gw(E,c.value)})`:C})),g=V(()=>{var C;const b=((C=o.value)==null?void 0:C.length)??0;return e.showSize?s(e.counterSizeString,b,v.value):s(e.counterString,b)}),p=z(),y=z(),_=z(),k=V(()=>a.value||e.active),A=V(()=>["plain","underlined"].includes(e.variant));function T(){var b;_.value!==document.activeElement&&((b=_.value)==null||b.focus()),a.value||l()}function D(b){var C;(C=_.value)==null||C.click()}function R(b){i("mousedown:control",b)}function x(b){var C;(C=_.value)==null||C.click(),i("click:control",b)}function w(b){b.stopPropagation(),T(),ct(()=>{o.value=[],d_(e["onClick:clear"],b)})}return ye(o,b=>{(!Array.isArray(b)||!b.length)&&_.value&&(_.value.value="")}),ue(()=>{const b=!!(r.counter||e.counter),C=!!(b||r.details),[E,I]=no(n),{modelValue:P,...F}=Ln.filterProps(e),$=M_(e);return f(Ln,oe({ref:p,modelValue:o.value,"onUpdate:modelValue":j=>o.value=j,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":A.value},e.class],style:e.style,"onClick:prepend":D},E,F,{centerAffix:!A.value,focused:a.value}),{...r,default:j=>{let{id:K,isDisabled:U,isDirty:B,isReadonly:H,isValid:q}=j;return f(Fl,oe({ref:y,"prepend-icon":e.prependIcon,onMousedown:R,onClick:x,"onClick:clear":w,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},$,{id:K.value,active:k.value||B.value,dirty:B.value||e.dirty,disabled:U.value,focused:a.value,error:q.value===!1}),{...r,default:J=>{var Ce;let{props:{class:he,..._e}}=J;return f(le,null,[f("input",oe({ref:_,type:"file",readonly:H.value,disabled:U.value,multiple:e.multiple,name:e.name,onClick:ie=>{ie.stopPropagation(),H.value&&ie.preventDefault(),T()},onChange:ie=>{if(!ie.target)return;const be=ie.target;o.value=[...be.files??[]]},onFocus:T,onBlur:u},_e,I),null),f("div",{class:he},[!!((Ce=o.value)!=null&&Ce.length)&&!e.hideInput&&(r.selection?r.selection({fileNames:m.value,totalBytes:d.value,totalBytesReadable:v.value}):e.chips?m.value.map(ie=>f(Nl,{key:ie,size:"small",text:ie},null)):m.value.join(", "))])])}})},details:C?j=>{var K,U;return f(le,null,[(K=r.details)==null?void 0:K.call(r,j),b&&f(le,null,[f("span",null,null),f(Vv,{active:!!((U=o.value)!=null&&U.length),value:g.value,disabled:e.disabled},r.counter)])])}:void 0})}),qi({},p,y,_)}}),BF=Q({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...gi(),...Pe(),...fn(),...ua(),...Nt(),...Qe({tag:"footer"}),...ot()},"VFooter"),$F=re()({name:"VFooter",props:BF(),setup(e,t){let{slots:n}=t;const i=z(),{themeClasses:r}=yt(e),{backgroundColorClasses:s,backgroundColorStyles:o}=It(ee(e,"color")),{borderClasses:a}=Vi(e),{elevationClasses:l}=Cn(e),{roundedClasses:u}=qt(e),c=Se(32),{resizeRef:d}=ir(m=>{m.length&&(c.value=m[0].target.clientHeight)}),v=V(()=>e.height==="auto"?c.value:parseInt(e.height,10));return ai(()=>e.app,()=>{const m=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:V(()=>"bottom"),layoutSize:v,elementSize:V(()=>e.height==="auto"?void 0:v.value),active:V(()=>e.app),absolute:ee(e,"absolute")});Kt(()=>{i.value=m.layoutItemStyles.value})}),ue(()=>f(e.tag,{ref:d,class:["v-footer",r.value,s.value,a.value,l.value,u.value,e.class],style:[o.value,e.app?i.value:{height:Te(e.height)},e.style]},n)),{}}}),UF=Q({...Pe(),...KL()},"VForm"),HF=re()({name:"VForm",props:UF(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=YL(e),s=z();function o(l){l.preventDefault(),r.reset()}function a(l){const u=l,c=r.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),i("submit",u),u.defaultPrevented||c.then(d=>{var m;let{valid:v}=d;v&&((m=s.value)==null||m.submit())}),u.preventDefault()}return ue(()=>{var l;return f("form",{ref:s,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,r)])}),qi(r,s)}}),jF=Q({disabled:Boolean,modelValue:{type:Boolean,default:null},...R_()},"VHover"),zF=re()({name:"VHover",props:jF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),{runOpenDelay:r,runCloseDelay:s}=D_(e,o=>!e.disabled&&(i.value=o));return()=>{var o;return(o=n.default)==null?void 0:o.call(n,{isHovering:i.value,props:{onMouseenter:r,onMouseleave:s}})}}}),WF=Q({color:String,direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},side:{type:String,default:"end",validator:e=>["start","end","both"].includes(e)},mode:{type:String,default:"intersect",validator:e=>["intersect","manual"].includes(e)},margin:[Number,String],loadMoreText:{type:String,default:"$vuetify.infiniteScroll.loadMore"},emptyText:{type:String,default:"$vuetify.infiniteScroll.empty"},...rn(),...Qe()},"VInfiniteScroll"),Mk=Ai({name:"VInfiniteScrollIntersect",props:{side:{type:String,required:!0},rootMargin:String},emits:{intersect:(e,t)=>!0},setup(e,t){let{emit:n}=t;const{intersectionRef:i,isIntersecting:r}=Cv();return ye(r,async s=>{n("intersect",e.side,s)}),ue(()=>f("div",{class:"v-infinite-scroll-intersect",style:{"--v-infinite-margin-size":e.rootMargin},ref:i},[Le("")])),{}}}),qF=re()({name:"VInfiniteScroll",props:WF(),emits:{load:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=z(),s=Se("ok"),o=Se("ok"),a=V(()=>Te(e.margin)),l=Se(!1);function u(D){if(!r.value)return;const R=e.direction==="vertical"?"scrollTop":"scrollLeft";r.value[R]=D}function c(){if(!r.value)return 0;const D=e.direction==="vertical"?"scrollTop":"scrollLeft";return r.value[D]}function d(){if(!r.value)return 0;const D=e.direction==="vertical"?"scrollHeight":"scrollWidth";return r.value[D]}function v(){if(!r.value)return 0;const D=e.direction==="vertical"?"clientHeight":"clientWidth";return r.value[D]}Qt(()=>{r.value&&(e.side==="start"?u(d()):e.side==="both"&&u(d()/2-v()/2))});function m(D,R){D==="start"?s.value=R:D==="end"&&(o.value=R)}function g(D){return D==="start"?s.value:o.value}let p=0;function y(D,R){l.value=R,l.value&&_(D)}function _(D){if(e.mode!=="manual"&&!l.value)return;const R=g(D);if(!r.value||["empty","loading"].includes(R))return;p=d(),m(D,"loading");function x(w){m(D,w),ct(()=>{w==="empty"||w==="error"||(w==="ok"&&D==="start"&&u(d()-p+c()),e.mode!=="manual"&&ct(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{_(D)})})})}))})}i("load",{side:D,done:x})}const{t:k}=Xt();function A(D,R){var b,C,E,I,P;if(e.side!==D&&e.side!=="both")return;const x=()=>_(D),w={side:D,props:{onClick:x,color:e.color}};return R==="error"?(b=n.error)==null?void 0:b.call(n,w):R==="empty"?((C=n.empty)==null?void 0:C.call(n,w))??f("div",null,[k(e.emptyText)]):e.mode==="manual"?R==="loading"?((E=n.loading)==null?void 0:E.call(n,w))??f(hl,{indeterminate:!0,color:e.color},null):((I=n["load-more"])==null?void 0:I.call(n,w))??f(gt,{variant:"outlined",color:e.color,onClick:x},{default:()=>[k(e.loadMoreText)]}):((P=n.loading)==null?void 0:P.call(n,w))??f(hl,{indeterminate:!0,color:e.color},null)}const{dimensionStyles:T}=sn(e);ue(()=>{const D=e.tag,R=e.side==="start"||e.side==="both",x=e.side==="end"||e.side==="both",w=e.mode==="intersect";return f(D,{ref:r,class:["v-infinite-scroll",`v-infinite-scroll--${e.direction}`,{"v-infinite-scroll--start":R,"v-infinite-scroll--end":x}],style:T.value},{default:()=>{var b;return[f("div",{class:"v-infinite-scroll__side"},[A("start",s.value)]),R&&w&&f(Mk,{key:"start",side:"start",onIntersect:y,rootMargin:a.value},null),(b=n.default)==null?void 0:b.call(n),x&&w&&f(Mk,{key:"end",side:"end",onIntersect:y,rootMargin:a.value},null),f("div",{class:"v-infinite-scroll__side"},[A("end",o.value)])]}})})}}),eA=Symbol.for("vuetify:v-item-group"),GF=Q({...Pe(),...ha({selectedClass:"v-item--selected"}),...Qe(),...ot()},"VItemGroup"),KF=re()({name:"VItemGroup",props:GF(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{isSelected:r,select:s,next:o,prev:a,selected:l}=ro(e,eA);return()=>f(e.tag,{class:["v-item-group",i.value,e.class],style:e.style},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,{isSelected:r,select:s,next:o,prev:a,selected:l.value})]}})}}),YF=re()({name:"VItem",props:va(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,select:r,toggle:s,selectedClass:o,value:a,disabled:l}=ma(e,eA);return()=>{var u;return(u=n.default)==null?void 0:u.call(n,{isSelected:i.value,selectedClass:o.value,select:r,toggle:s,value:a.value,disabled:l.value})}}}),QF=Rr("v-kbd"),XF=Q({...Pe(),...rn(),...jT()},"VLayout"),JF=re()({name:"VLayout",props:XF(),setup(e,t){let{slots:n}=t;const{layoutClasses:i,layoutStyles:r,getLayoutItem:s,items:o,layoutRef:a}=WT(e),{dimensionStyles:l}=sn(e);return ue(()=>{var u;return f("div",{ref:a,class:[i.value,e.class],style:[l.value,r.value,e.style]},[(u=n.default)==null?void 0:u.call(n)])}),{getLayoutItem:s,items:o}}}),ZF=Q({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Pe(),...ua()},"VLayoutItem"),e9=re()({name:"VLayoutItem",props:ZF(),setup(e,t){let{slots:n}=t;const{layoutItemStyles:i}=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:ee(e,"position"),elementSize:ee(e,"size"),layoutSize:ee(e,"size"),active:ee(e,"modelValue"),absolute:ee(e,"absolute")});return()=>{var r;return f("div",{class:["v-layout-item",e.class],style:[i.value,e.style]},[(r=n.default)==null?void 0:r.call(n)])}}}),t9=Q({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Pe(),...rn(),...Qe(),...ar({transition:"fade-transition"})},"VLazy"),n9=re()({name:"VLazy",directives:{intersect:jc},props:t9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=sn(e),r=Fe(e,"modelValue");function s(o){r.value||(r.value=o)}return ue(()=>xt(f(e.tag,{class:["v-lazy",e.class],style:[i.value,e.style]},{default:()=>[r.value&&f(Xn,{transition:e.transition,appear:!0},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]}})]}),[[mi("intersect"),{handler:s,options:e.options},null]])),{}}}),i9=Q({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Pe()},"VLocaleProvider"),r9=re()({name:"VLocaleProvider",props:i9(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=q3(e);return ue(()=>{var r;return f("div",{class:["v-locale-provider",i.value,e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),s9=Q({scrollable:Boolean,...Pe(),...rn(),...Qe({tag:"main"})},"VMain"),o9=re()({name:"VMain",props:s9(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=sn(e),{mainStyles:r}=zT(),{ssrBootStyles:s}=da();return ue(()=>f(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[r.value,s.value,i.value,e.style]},{default:()=>{var o,a;return[e.scrollable?f("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(a=n.default)==null?void 0:a.call(n)]}})),{}}});function a9(e){let{rootEl:t,isSticky:n,layoutItemStyles:i}=e;const r=Se(!1),s=Se(0),o=V(()=>{const u=typeof r.value=="boolean"?"top":r.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,r.value?{[u]:Te(s.value)}:{top:i.value.top}]});Qt(()=>{ye(n,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),kn(()=>{window.removeEventListener("scroll",l)});let a=0;function l(){const u=a>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat(i.value.top??0),v=window.scrollY-Math.max(0,s.value-d),m=c.height+Math.max(s.value,d)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(r.value="top",s.value=d):u==="up"&&r.value==="bottom"||u==="down"&&r.value==="top"?(s.value=window.scrollY+c.top-g,r.value=!0):u==="down"&&m<=0?(s.value=0,r.value="bottom"):u==="up"&&v<=0&&(g?r.value!=="top"&&(s.value=-v+g+d,r.value="top"):(s.value=c.top+v,r.value="top")),a=window.scrollY}return{isStuck:r,stickyStyles:o}}const l9=100,u9=20;function Nk(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Fk(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=Nk(t),r=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(r-i)*Math.abs(r),n===e.length-1&&(t*=.5)}return Nk(t)*1e3}function c9(){const e={};function t(r){Array.from(r.changedTouches).forEach(s=>{(e[s.identifier]??(e[s.identifier]=new o3(u9))).push([r.timeStamp,s])})}function n(r){Array.from(r.changedTouches).forEach(s=>{delete e[s.identifier]})}function i(r){var u;const s=(u=e[r])==null?void 0:u.values().reverse();if(!s)throw new Error(`No samples for touch id ${r}`);const o=s[0],a=[],l=[];for(const c of s){if(o[0]-c[0]>l9)break;a.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:Fk(a),y:Fk(l),get direction(){const{x:c,y:d}=this,[v,m]=[Math.abs(c),Math.abs(d)];return v>m&&c>=0?"right":v>m&&c<=0?"left":m>v&&d>=0?"down":m>v&&d<=0?"up":d9()}}}return{addMovement:t,endTouch:n,getVelocity:i}}function d9(){throw new Error}function f9(e){let{el:t,isActive:n,isTemporary:i,width:r,touchless:s,position:o}=e;Qt(()=>{window.addEventListener("touchstart",k,{passive:!0}),window.addEventListener("touchmove",A,{passive:!1}),window.addEventListener("touchend",T,{passive:!0})}),kn(()=>{window.removeEventListener("touchstart",k),window.removeEventListener("touchmove",A),window.removeEventListener("touchend",T)});const a=V(()=>["left","right"].includes(o.value)),{addMovement:l,endTouch:u,getVelocity:c}=c9();let d=!1;const v=Se(!1),m=Se(0),g=Se(0);let p;function y(R,x){return(o.value==="left"?R:o.value==="right"?document.documentElement.clientWidth-R:o.value==="top"?R:o.value==="bottom"?document.documentElement.clientHeight-R:Ma())-(x?r.value:0)}function _(R){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const w=o.value==="left"?(R-g.value)/r.value:o.value==="right"?(document.documentElement.clientWidth-R-g.value)/r.value:o.value==="top"?(R-g.value)/r.value:o.value==="bottom"?(document.documentElement.clientHeight-R-g.value)/r.value:Ma();return x?Math.max(0,Math.min(1,w)):w}function k(R){if(s.value)return;const x=R.changedTouches[0].clientX,w=R.changedTouches[0].clientY,b=25,C=o.value==="left"?x<b:o.value==="right"?x>document.documentElement.clientWidth-b:o.value==="top"?w<b:o.value==="bottom"?w>document.documentElement.clientHeight-b:Ma(),E=n.value&&(o.value==="left"?x<r.value:o.value==="right"?x>document.documentElement.clientWidth-r.value:o.value==="top"?w<r.value:o.value==="bottom"?w>document.documentElement.clientHeight-r.value:Ma());(C||E||n.value&&i.value)&&(p=[x,w],g.value=y(a.value?x:w,n.value),m.value=_(a.value?x:w),d=g.value>-20&&g.value<80,u(R),l(R))}function A(R){const x=R.changedTouches[0].clientX,w=R.changedTouches[0].clientY;if(d){if(!R.cancelable){d=!1;return}const C=Math.abs(x-p[0]),E=Math.abs(w-p[1]);(a.value?C>E&&C>3:E>C&&E>3)?(v.value=!0,d=!1):(a.value?E:C)>3&&(d=!1)}if(!v.value)return;R.preventDefault(),l(R);const b=_(a.value?x:w,!1);m.value=Math.max(0,Math.min(1,b)),b>1?g.value=y(a.value?x:w,!0):b<0&&(g.value=y(a.value?x:w,!1))}function T(R){if(d=!1,!v.value)return;l(R),v.value=!1;const x=c(R.changedTouches[0].identifier),w=Math.abs(x.x),b=Math.abs(x.y);(a.value?w>b&&w>400:b>w&&b>3)?n.value=x.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||Ma()):n.value=m.value>.5}const D=V(()=>v.value?{transform:o.value==="left"?`translateX(calc(-100% + ${m.value*r.value}px))`:o.value==="right"?`translateX(calc(100% - ${m.value*r.value}px))`:o.value==="top"?`translateY(calc(-100% + ${m.value*r.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${m.value*r.value}px))`:Ma(),transition:"none"}:void 0);return ai(v,()=>{var w,b;const R=((w=t.value)==null?void 0:w.style.transform)??null,x=((b=t.value)==null?void 0:b.style.transition)??null;Kt(()=>{var C,E,I,P;(E=t.value)==null||E.style.setProperty("transform",((C=D.value)==null?void 0:C.transform)||"none"),(P=t.value)==null||P.style.setProperty("transition",((I=D.value)==null?void 0:I.transition)||null)}),wn(()=>{var C,E;(C=t.value)==null||C.style.setProperty("transform",R),(E=t.value)==null||E.style.setProperty("transition",x)})}),{isDragging:v,dragProgress:m,dragStyles:D}}function Ma(){throw new Error}const h9=["start","end","left","right","top","bottom"],v9=Q({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>h9.includes(e)},sticky:Boolean,...gi(),...Pe(),...R_(),...la({mobile:null}),...fn(),...ua(),...Nt(),...Qe({tag:"nav"}),...ot()},"VNavigationDrawer"),m9=re()({name:"VNavigationDrawer",props:v9(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{isRtl:s}=dn(),{themeClasses:o}=yt(e),{borderClasses:a}=Vi(e),{backgroundColorClasses:l,backgroundColorStyles:u}=It(ee(e,"color")),{elevationClasses:c}=Cn(e),{displayClasses:d,mobile:v}=zi(e),{roundedClasses:m}=qt(e),g=nx(),p=Fe(e,"modelValue",null,q=>!!q),{ssrBootStyles:y}=da(),{scopeId:_}=pa(),k=z(),A=Se(!1),{runOpenDelay:T,runCloseDelay:D}=D_(e,q=>{A.value=q}),R=V(()=>e.rail&&e.expandOnHover&&A.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=V(()=>np(e.location,s.value)),w=V(()=>e.persistent),b=V(()=>!e.permanent&&(v.value||e.temporary)),C=V(()=>e.sticky&&!b.value&&x.value!=="bottom");ai(()=>e.expandOnHover&&e.rail!=null,()=>{ye(A,q=>i("update:rail",!q))}),ai(()=>!e.disableResizeWatcher,()=>{ye(b,q=>!e.permanent&&ct(()=>p.value=!q))}),ai(()=>!e.disableRouteWatcher&&!!g,()=>{ye(g.currentRoute,()=>b.value&&(p.value=!1))}),ye(()=>e.permanent,q=>{q&&(p.value=!0)}),e.modelValue==null&&!b.value&&(p.value=e.permanent||!v.value);const{isDragging:E,dragProgress:I}=f9({el:k,isActive:p,isTemporary:b,width:R,touchless:ee(e,"touchless"),position:x}),P=V(()=>{const q=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):R.value;return E.value?q*I.value:q}),F=V(()=>["top","bottom"].includes(e.location)?0:R.value),{layoutItemStyles:$,layoutItemScrimStyles:j}=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:x,layoutSize:P,elementSize:F,active:V(()=>p.value||E.value),disableTransitions:V(()=>E.value),absolute:V(()=>e.absolute||C.value&&typeof K.value!="string")}),{isStuck:K,stickyStyles:U}=a9({rootEl:k,isSticky:C,layoutItemStyles:$}),B=It(V(()=>typeof e.scrim=="string"?e.scrim:null)),H=V(()=>({...E.value?{opacity:I.value*.2,transition:"none"}:void 0,...j.value}));return zt({VList:{bgColor:"transparent"}}),ue(()=>{const q=r.image||e.image;return f(le,null,[f(e.tag,oe({ref:k,onMouseenter:T,onMouseleave:D,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":A.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--persistent":w.value,"v-navigation-drawer--active":p.value,"v-navigation-drawer--sticky":C.value},o.value,l.value,a.value,d.value,c.value,m.value,e.class],style:[u.value,$.value,y.value,U.value,e.style,["top","bottom"].includes(x.value)?{height:"auto"}:{}]},_,n),{default:()=>{var J,he,_e;return[q&&f("div",{key:"image",class:"v-navigation-drawer__img"},[r.image?f(nt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},r.image):f(ts,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),r.prepend&&f("div",{class:"v-navigation-drawer__prepend"},[(J=r.prepend)==null?void 0:J.call(r)]),f("div",{class:"v-navigation-drawer__content"},[(he=r.default)==null?void 0:he.call(r)]),r.append&&f("div",{class:"v-navigation-drawer__append"},[(_e=r.append)==null?void 0:_e.call(r)])]}}),f(kr,{name:"fade-transition"},{default:()=>[b.value&&(E.value||p.value)&&!!e.scrim&&f("div",oe({class:["v-navigation-drawer__scrim",B.backgroundColorClasses.value],style:[H.value,B.backgroundColorStyles.value],onClick:()=>{w.value||(p.value=!1)}},_),null)]})])}),{isStuck:K}}}),g9=Ai({name:"VNoSsr",setup(e,t){let{slots:n}=t;const i=Ux();return()=>{var r;return i.value&&((r=n.default)==null?void 0:r.call(n))}}}),p9=Q({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...rn(),...Kc(),...mv(Xc({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),y9=re()({name:"VOtpInput",props:p9(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const{dimensionStyles:s}=sn(e),{isFocused:o,focus:a,blur:l}=gs(e),u=Fe(e,"modelValue","",w=>w==null?[]:String(w).split(""),w=>w.join("")),{t:c}=Xt(),d=V(()=>Number(e.length)),v=V(()=>Array(d.value).fill(0)),m=z(-1),g=z(),p=z([]),y=V(()=>p.value[m.value]);function _(){if(x(y.value.value)){y.value.value="";return}const w=u.value.slice(),b=y.value.value;w[m.value]=b;let C=null;m.value>u.value.length?C=u.value.length+1:m.value+1!==d.value&&(C="next"),u.value=w,C&&Do(g.value,C)}function k(w){const b=u.value.slice(),C=m.value;let E=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(w.key)&&(w.preventDefault(),w.key==="ArrowLeft"?E="prev":w.key==="ArrowRight"?E="next":["Backspace","Delete"].includes(w.key)&&(b[m.value]="",u.value=b,m.value>0&&w.key==="Backspace"?E="prev":requestAnimationFrame(()=>{var I;(I=p.value[C])==null||I.select()})),requestAnimationFrame(()=>{E!=null&&Do(g.value,E)}))}function A(w,b){var E,I;b.preventDefault(),b.stopPropagation();const C=((E=b==null?void 0:b.clipboardData)==null?void 0:E.getData("Text").slice(0,d.value))??"";x(C)||(u.value=C.split(""),(I=p.value)==null||I[w].blur())}function T(){u.value=[]}function D(w,b){a(),m.value=b}function R(){l(),m.value=-1}function x(w){return e.type==="number"&&/[^0-9]/g.test(w)}return zt({VField:{color:V(()=>e.color),bgColor:V(()=>e.color),baseColor:V(()=>e.baseColor),disabled:V(()=>e.disabled),error:V(()=>e.error),variant:V(()=>e.variant)}},{scoped:!0}),ye(u,w=>{w.length===d.value&&i("finish",w.join(""))},{deep:!0}),ye(m,w=>{w<0||ct(()=>{var b;(b=p.value[w])==null||b.select()})}),ue(()=>{var C;const[w,b]=no(n);return f("div",oe({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},w),[f("div",{ref:g,class:"v-otp-input__content",style:[s.value]},[v.value.map((E,I)=>f(le,null,[e.divider&&I!==0&&f("span",{class:"v-otp-input__divider"},[e.divider]),f(Fl,{focused:o.value&&e.focusAll||m.value===I,key:I},{...r,loader:void 0,default:()=>f("input",{ref:P=>p.value[I]=P,"aria-label":c(e.label,I+1),autofocus:I===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:u.value[I],onInput:_,onFocus:P=>D(P,I),onBlur:R,onKeydown:k,onPaste:P=>A(I,P)},null)})])),f("input",oe({class:"v-otp-input-input",type:"hidden"},b,{value:u.value.join("")}),null),f(Sr,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var E;return[((E=r.loader)==null?void 0:E.call(r))??f(hl,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(C=r.default)==null?void 0:C.call(r)])])}),{blur:()=>{var w;(w=p.value)==null||w.some(b=>b.blur())},focus:()=>{var w;(w=p.value)==null||w[0].focus()},reset:T,isFocused:o}}});function _9(e){return Math.floor(Math.abs(e))*Math.sign(e)}const b9=Q({scale:{type:[Number,String],default:.5},...Pe()},"VParallax"),w9=re()({name:"VParallax",props:b9(),setup(e,t){let{slots:n}=t;const{intersectionRef:i,isIntersecting:r}=Cv(),{resizeRef:s,contentRect:o}=ir(),{height:a}=zi(),l=z();Kt(()=>{var m;i.value=s.value=(m=l.value)==null?void 0:m.$el});let u;ye(r,m=>{m?(u=g_(i.value),u=u===document.scrollingElement?document:u,u.addEventListener("scroll",v,{passive:!0}),v()):u.removeEventListener("scroll",v)}),kn(()=>{u==null||u.removeEventListener("scroll",v)}),ye(a,v),ye(()=>{var m;return(m=o.value)==null?void 0:m.height},v);const c=V(()=>1-Zt(+e.scale));let d=-1;function v(){r.value&&(cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var D;const m=((D=l.value)==null?void 0:D.$el).querySelector(".v-img__img");if(!m)return;const g=u instanceof Document?document.documentElement.clientHeight:u.clientHeight,p=u instanceof Document?window.scrollY:u.scrollTop,y=i.value.getBoundingClientRect().top+p,_=o.value.height,k=y+(_-g)/2,A=_9((p-k)*c.value),T=Math.max(1,(c.value*(g-_)+_)/_);m.style.setProperty("transform",`translateY(${A}px) scale(${T})`)}))}return ue(()=>f(ts,{class:["v-parallax",{"v-parallax--active":r.value},e.class],style:e.style,ref:l,cover:!0,onLoadstart:v,onLoad:v},n)),{}}}),k9=Q({...xv({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),S9=re()({name:"VRadio",props:k9(),setup(e,t){let{slots:n}=t;return ue(()=>{const i=qs.filterProps(e);return f(qs,oe(i,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),C9=Q({height:{type:[Number,String],default:"auto"},...ps(),...nn(T_(),["multiple"]),trueIcon:{type:We,default:"$radioOn"},falseIcon:{type:We,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),E9=re()({name:"VRadioGroup",inheritAttrs:!1,props:C9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Sn(),s=V(()=>e.id||`radio-group-${r}`),o=Fe(e,"modelValue");return ue(()=>{const[a,l]=no(n),u=Ln.filterProps(e),c=qs.filterProps(e),d=i.label?i.label({label:e.label,props:{for:s.value}}):e.label;return f(Ln,oe({class:["v-radio-group",e.class],style:e.style},a,u,{modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,id:s.value}),{...i,default:v=>{let{id:m,messagesId:g,isDisabled:p,isReadonly:y}=v;return f(le,null,[d&&f(Ml,{id:m.value},{default:()=>[d]}),f(hx,oe(c,{id:m.value,"aria-describedby":g.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:p.value,readonly:y.value,"aria-labelledby":d?m.value:void 0,multiple:!1},l,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_}),i)])}})}),{}}}),I9=Q({...Kc(),...ps(),...l2(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),T9=re()({name:"VRangeSlider",props:I9(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,end:e=>!0,start:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const r=z(),s=z(),o=z(),{rtlClasses:a}=dn();function l(C){if(!r.value||!s.value)return;const E=kp(C,r.value.$el,e.direction),I=kp(C,s.value.$el,e.direction),P=Math.abs(E),F=Math.abs(I);return P<F||P===F&&E<0?r.value.$el:s.value.$el}const u=u2(e),c=Fe(e,"modelValue",void 0,C=>C!=null&&C.length?C.map(E=>u.roundValue(E)):[0,0]),{activeThumbRef:d,hasLabels:v,max:m,min:g,mousePressed:p,onSliderMousedown:y,onSliderTouchstart:_,position:k,trackContainerRef:A,readonly:T}=c2({props:e,steps:u,onSliderStart:()=>{i("start",c.value)},onSliderEnd:C=>{var P;let{value:E}=C;const I=d.value===((P=r.value)==null?void 0:P.$el)?[E,c.value[1]]:[c.value[0],E];!e.strict&&I[0]<I[1]&&(c.value=I),i("end",c.value)},onSliderMove:C=>{var F,$,j,K;let{value:E}=C;const[I,P]=c.value;!e.strict&&I===P&&I!==g.value&&(d.value=E>I?(F=s.value)==null?void 0:F.$el:($=r.value)==null?void 0:$.$el,(j=d.value)==null||j.focus()),d.value===((K=r.value)==null?void 0:K.$el)?c.value=[Math.min(E,P),P]:c.value=[I,Math.max(I,E)]},getActiveThumb:l}),{isFocused:D,focus:R,blur:x}=gs(e),w=V(()=>k(c.value[0])),b=V(()=>k(c.value[1]));return ue(()=>{const C=Ln.filterProps(e),E=!!(e.label||n.label||n.prepend);return f(Ln,oe({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!n["tick-label"]||v.value,"v-slider--focused":D.value,"v-slider--pressed":p.value,"v-slider--disabled":e.disabled},a.value,e.class],style:e.style,ref:o},C,{focused:D.value}),{...n,prepend:E?I=>{var P,F;return f(le,null,[((P=n.label)==null?void 0:P.call(n,I))??(e.label?f(Ml,{class:"v-slider__label",text:e.label},null):void 0),(F=n.prepend)==null?void 0:F.call(n,I)])}:void 0,default:I=>{var $,j;let{id:P,messagesId:F}=I;return f("div",{class:"v-slider__container",onMousedown:T.value?void 0:y,onTouchstartPassive:T.value?void 0:_},[f("input",{id:`${P.value}_start`,name:e.name||P.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[0]},null),f("input",{id:`${P.value}_stop`,name:e.name||P.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value[1]},null),f(d2,{ref:A,start:w.value,stop:b.value},{"tick-label":n["tick-label"]}),f(Sp,{ref:r,"aria-describedby":F.value,focused:D&&d.value===(($=r.value)==null?void 0:$.$el),modelValue:c.value[0],"onUpdate:modelValue":K=>c.value=[K,c.value[1]],onFocus:K=>{var U,B,H,q;R(),d.value=(U=r.value)==null?void 0:U.$el,c.value[0]===c.value[1]&&c.value[1]===g.value&&K.relatedTarget!==((B=s.value)==null?void 0:B.$el)&&((H=r.value)==null||H.$el.blur(),(q=s.value)==null||q.$el.focus())},onBlur:()=>{x(),d.value=void 0},min:g.value,max:c.value[1],position:w.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]}),f(Sp,{ref:s,"aria-describedby":F.value,focused:D&&d.value===((j=s.value)==null?void 0:j.$el),modelValue:c.value[1],"onUpdate:modelValue":K=>c.value=[c.value[0],K],onFocus:K=>{var U,B,H,q;R(),d.value=(U=s.value)==null?void 0:U.$el,c.value[0]===c.value[1]&&c.value[0]===m.value&&K.relatedTarget!==((B=r.value)==null?void 0:B.$el)&&((H=s.value)==null||H.$el.blur(),(q=r.value)==null||q.$el.focus())},onBlur:()=>{x(),d.value=void 0},min:c.value[0],max:m.value,position:b.value,ripple:e.ripple},{"thumb-label":n["thumb-label"]})])}})}),{}}}),x9=Q({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:We,default:"$ratingEmpty"},fullIcon:{type:We,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Pe(),...hn(),...Dr(),...Qe(),...ot()},"VRating"),A9=re()({name:"VRating",props:x9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:i}=Xt(),{themeClasses:r}=yt(e),s=Fe(e,"modelValue"),o=V(()=>Zt(parseFloat(s.value),0,+e.length)),a=V(()=>fr(Number(e.length),1)),l=V(()=>a.value.flatMap(p=>e.halfIncrements?[p-.5,p]:[p])),u=Se(-1),c=V(()=>l.value.map(p=>{const y=e.hover&&u.value>-1,_=o.value>=p,k=u.value>=p,T=(y?k:_)?e.fullIcon:e.emptyIcon,D=e.activeColor??e.color,R=_||k?D:e.color;return{isFilled:_,isHovered:k,icon:T,color:R}})),d=V(()=>[0,...l.value].map(p=>{function y(){u.value=p}function _(){u.value=-1}function k(){e.disabled||e.readonly||(s.value=o.value===p&&e.clearable?0:p)}return{onMouseenter:e.hover?y:void 0,onMouseleave:e.hover?_:void 0,onClick:k}})),v=V(()=>e.name??`v-rating-${Sn()}`);function m(p){var w,b;let{value:y,index:_,showStar:k=!0}=p;const{onMouseenter:A,onMouseleave:T,onClick:D}=d.value[_+1],R=`${v.value}-${String(y).replace(".","-")}`,x={color:(w=c.value[_])==null?void 0:w.color,density:e.density,disabled:e.disabled,icon:(b=c.value[_])==null?void 0:b.icon,ripple:e.ripple,size:e.size,variant:"plain"};return f(le,null,[f("label",{for:R,class:{"v-rating__item--half":e.halfIncrements&&y%1>0,"v-rating__item--full":e.halfIncrements&&y%1===0},onMouseenter:A,onMouseleave:T,onClick:D},[f("span",{class:"v-rating__hidden"},[i(e.itemAriaLabel,y,e.length)]),k?n.item?n.item({...c.value[_],props:x,value:y,index:_,rating:o.value}):f(gt,oe({"aria-label":i(e.itemAriaLabel,y,e.length)},x),null):void 0]),f("input",{class:"v-rating__hidden",name:v.value,id:R,type:"radio",value:y,checked:o.value===y,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function g(p){return n["item-label"]?n["item-label"](p):p.label?f("span",null,[p.label]):f("span",null,[Le("")])}return ue(()=>{var y;const p=!!((y=e.itemLabels)!=null&&y.length)||n["item-label"];return f(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},r.value,e.class],style:e.style},{default:()=>[f(m,{value:0,index:-1,showStar:!1},null),a.value.map((_,k)=>{var A,T;return f("div",{class:"v-rating__wrapper"},[p&&e.itemLabelPosition==="top"?g({value:_,index:k,label:(A=e.itemLabels)==null?void 0:A[k]}):void 0,f("div",{class:"v-rating__item"},[e.halfIncrements?f(le,null,[f(m,{value:_-.5,index:k*2},null),f(m,{value:_,index:k*2+1},null)]):f(m,{value:_,index:k},null)]),p&&e.itemLabelPosition==="bottom"?g({value:_,index:k,label:(T=e.itemLabels)==null?void 0:T[k]}):void 0])})]})}),{}}}),P9={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function V9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return f("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[t])}function Bk(e){const[t,n]=e.split("@");return Array.from({length:n}).map(()=>qv(t))}function qv(e){let t=[];if(!e)return t;const n=P9[e];if(e!==n){if(e.includes(","))return $k(e);if(e.includes("@"))return Bk(e);n.includes(",")?t=$k(n):n.includes("@")?t=Bk(n):n&&t.push(qv(n))}return[V9(e,t)]}function $k(e){return e.replace(/\s/g,"").split(",").map(qv)}const R9=Q({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...rn(),...fn(),...ot()},"VSkeletonLoader"),D9=re()({name:"VSkeletonLoader",props:R9(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=It(ee(e,"color")),{dimensionStyles:s}=sn(e),{elevationClasses:o}=Cn(e),{themeClasses:a}=yt(e),{t:l}=Xt(),u=V(()=>qv(Ht(e.type).join(",")));return ue(()=>{var v;const c=!n.default||e.loading,d=e.boilerplate||!c?{}:{ariaLive:"polite",ariaLabel:l(e.loadingText),role:"alert"};return f("div",oe({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},a.value,i.value,o.value],style:[r.value,c?s.value:{}]},d),[c?u.value:(v=n.default)==null?void 0:v.call(n)])}),{}}}),O9=re()({name:"VSlideGroupItem",props:va(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ma(e,kx);return()=>{var r;return(r=n.default)==null?void 0:r.call(n,{isSelected:i.isSelected.value,select:i.select,toggle:i.toggle,selectedClass:i.selectedClass.value})}}});function L9(e){const t=Se(e());let n=-1;function i(){clearInterval(n)}function r(){i(),ct(()=>t.value=e())}function s(o){const a=o?getComputedStyle(o):{transitionDuration:.2},l=parseFloat(a.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const u=performance.now();n=window.setInterval(()=>{const c=performance.now()-u+l;t.value=Math.max(e()-c,0),t.value<=0&&i()},l)}return wn(i),{clear:i,time:t,start:s,reset:r}}const M9=Q({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...vs({location:"bottom"}),...Ol(),...Nt(),...Wi(),...ot(),...nn(Qc({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),N9=re()({name:"VSnackbar",props:M9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),{positionClasses:r}=Ll(e),{scopeId:s}=pa(),{themeClasses:o}=yt(e),{colorClasses:a,colorStyles:l,variantClasses:u}=fa(e),{roundedClasses:c}=qt(e),d=L9(()=>Number(e.timeout)),v=z(),m=z(),g=Se(!1),p=Se(0),y=z(),_=Ze(lc,void 0);ai(()=>!!_,()=>{const E=zT();Kt(()=>{y.value=E.mainStyles.value})}),ye(i,A),ye(()=>e.timeout,A),Qt(()=>{i.value&&A()});let k=-1;function A(){d.reset(),window.clearTimeout(k);const E=Number(e.timeout);if(!i.value||E===-1)return;const I=l_(m.value);d.start(I),k=window.setTimeout(()=>{i.value=!1},E)}function T(){d.reset(),window.clearTimeout(k)}function D(){g.value=!0,T()}function R(){g.value=!1,A()}function x(E){p.value=E.touches[0].clientY}function w(E){Math.abs(p.value-E.changedTouches[0].clientY)>50&&(i.value=!1)}function b(){g.value&&R()}const C=V(()=>e.location.split(" ").reduce((E,I)=>(E[`v-snackbar--${I}`]=!0,E),{}));return ue(()=>{const E=Sr.filterProps(e),I=!!(n.default||n.text||e.text);return f(Sr,oe({ref:v,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},C.value,r.value,e.class],style:[y.value,e.style]},E,{modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,contentProps:oe({class:["v-snackbar__wrapper",o.value,a.value,c.value,u.value],style:[l.value],onPointerenter:D,onPointerleave:R},E.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:x,onTouchend:w,onAfterLeave:b},s),{default:()=>{var P,F;return[io(!1,"v-snackbar"),e.timer&&!g.value&&f("div",{key:"timer",class:"v-snackbar__timer"},[f(Ev,{ref:m,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),I&&f("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((P=n.text)==null?void 0:P.call(n))??e.text,(F=n.default)==null?void 0:F.call(n)]),n.actions&&f(nt,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[f("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),qi({},v)}}),tA=Q({autoDraw:Boolean,autoDrawDuration:[Number,String],autoDrawEasing:{type:String,default:"ease"},color:String,gradient:{type:Array,default:()=>[]},gradientDirection:{type:String,validator:e=>["top","bottom","left","right"].includes(e),default:"top"},height:{type:[String,Number],default:75},labels:{type:Array,default:()=>[]},labelSize:{type:[Number,String],default:7},lineWidth:{type:[String,Number],default:4},id:String,itemValue:{type:String,default:"value"},modelValue:{type:Array,default:()=>[]},min:[String,Number],max:[String,Number],padding:{type:[String,Number],default:8},showLabels:Boolean,smooth:Boolean,width:{type:[Number,String],default:300}},"Line"),nA=Q({autoLineWidth:Boolean,...tA()},"VBarline"),Uk=re()({name:"VBarline",props:nA(),setup(e,t){let{slots:n}=t;const i=Sn(),r=V(()=>e.id||`barline-${i}`),s=V(()=>Number(e.autoDrawDuration)||500),o=V(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),a=V(()=>parseFloat(e.lineWidth)||4),l=V(()=>Math.max(e.modelValue.length*a.value,Number(e.width))),u=V(()=>({minX:0,maxX:l.value,minY:0,maxY:parseInt(e.height,10)})),c=V(()=>e.modelValue.map(p=>an(p,e.itemValue,p)));function d(p,y){const{minX:_,maxX:k,minY:A,maxY:T}=y,D=p.length;let R=e.max!=null?Number(e.max):Math.max(...p),x=e.min!=null?Number(e.min):Math.min(...p);x>0&&e.min==null&&(x=0),R<0&&e.max==null&&(R=0);const w=k/D,b=(T-A)/(R-x||1),C=T-Math.abs(x*b);return p.map((E,I)=>{const P=Math.abs(b*E);return{x:_+I*w,y:C-P+ +(E<0)*P,height:P,value:E}})}const v=V(()=>{const p=[],y=d(c.value,u.value),_=y.length;for(let k=0;p.length<_;k++){const A=y[k];let T=e.labels[k];T||(T=typeof A=="object"?A.value:A),p.push({x:A.x,value:String(T)})}return p}),m=V(()=>d(c.value,u.value)),g=V(()=>(Math.abs(m.value[0].x-m.value[1].x)-a.value)/2);ue(()=>{const p=e.gradient.slice().length?e.gradient.slice().reverse():[""];return f("svg",{display:"block"},[f("defs",null,[f("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[p.map((y,_)=>f("stop",{offset:_/Math.max(p.length-1,1),"stop-color":y||"currentColor"},null))])]),f("clipPath",{id:`${r.value}-clip`},[m.value.map(y=>f("rect",{x:y.x+g.value,y:y.y,width:a.value,height:y.height,rx:typeof e.smooth=="number"?e.smooth:e.smooth?2:0,ry:typeof e.smooth=="number"?e.smooth:e.smooth?2:0},[e.autoDraw&&f(le,null,[f("animate",{attributeName:"y",from:y.y+y.height,to:y.y,dur:`${s.value}ms`,fill:"freeze"},null),f("animate",{attributeName:"height",from:"0",to:y.height,dur:`${s.value}ms`,fill:"freeze"},null)])]))]),o.value&&f("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[v.value.map((y,_)=>{var k;return f("text",{x:y.x+g.value+a.value/2,y:parseInt(e.height,10)-2+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((k=n.label)==null?void 0:k.call(n,{index:_,value:y.value}))??y.value])})]),f("g",{"clip-path":`url(#${r.value}-clip)`,fill:`url(#${r.value})`},[f("rect",{x:0,y:0,width:Math.max(e.modelValue.length*a.value,Number(e.width)),height:e.height},null)])])})}});function F9(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:75;if(e.length===0)return"";const r=e.shift(),s=e[e.length-1];return(n?`M${r.x} ${i-r.x+2} L${r.x} ${r.y}`:`M${r.x} ${r.y}`)+e.map((o,a)=>{const l=e[a+1],u=e[a-1]||r,c=l&&B9(l,o,u);if(!l||c)return`L${o.x} ${o.y}`;const d=Math.min(Hk(u,o),Hk(l,o)),m=d/2<t?d/2:t,g=jk(u,o,m),p=jk(l,o,m);return`L${g.x} ${g.y}S${o.x} ${o.y} ${p.x} ${p.y}`}).join("")+(n?`L${s.x} ${i-r.x+2} Z`:"")}function Kd(e){return parseInt(e,10)}function B9(e,t,n){return Kd(e.x+n.x)===Kd(2*t.x)&&Kd(e.y+n.y)===Kd(2*t.y)}function Hk(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function jk(e,t,n){const i={x:e.x-t.x,y:e.y-t.y},r=Math.sqrt(i.x*i.x+i.y*i.y),s={x:i.x/r,y:i.y/r};return{x:t.x+s.x*n,y:t.y+s.y*n}}const iA=Q({fill:Boolean,...tA()},"VTrendline"),zk=re()({name:"VTrendline",props:iA(),setup(e,t){let{slots:n}=t;const i=Sn(),r=V(()=>e.id||`trendline-${i}`),s=V(()=>Number(e.autoDrawDuration)||(e.fill?500:2e3)),o=z(0),a=z(null);function l(y,_){const{minX:k,maxX:A,minY:T,maxY:D}=_,R=y.length,x=e.max!=null?Number(e.max):Math.max(...y),w=e.min!=null?Number(e.min):Math.min(...y),b=(A-k)/(R-1),C=(D-T)/(x-w||1);return y.map((E,I)=>({x:k+I*b,y:D-(E-w)*C,value:E}))}const u=V(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),c=V(()=>parseFloat(e.lineWidth)||4),d=V(()=>Number(e.width)),v=V(()=>{const y=Number(e.padding);return{minX:y,maxX:d.value-y,minY:y,maxY:parseInt(e.height,10)-y}}),m=V(()=>e.modelValue.map(y=>an(y,e.itemValue,y))),g=V(()=>{const y=[],_=l(m.value,v.value),k=_.length;for(let A=0;y.length<k;A++){const T=_[A];let D=e.labels[A];D||(D=typeof T=="object"?T.value:T),y.push({x:T.x,value:String(D)})}return y});ye(()=>e.modelValue,async()=>{if(await ct(),!e.autoDraw||!a.value)return;const y=a.value,_=y.getTotalLength();e.fill?(y.style.transformOrigin="bottom center",y.style.transition="none",y.style.transform="scaleY(0)",y.getBoundingClientRect(),y.style.transition=`transform ${s.value}ms ${e.autoDrawEasing}`,y.style.transform="scaleY(1)"):(y.style.strokeDasharray=`${_}`,y.style.strokeDashoffset=`${_}`,y.getBoundingClientRect(),y.style.transition=`stroke-dashoffset ${s.value}ms ${e.autoDrawEasing}`,y.style.strokeDashoffset="0"),o.value=_},{immediate:!0});function p(y){return F9(l(m.value,v.value),e.smooth?8:Number(e.smooth),y,parseInt(e.height,10))}ue(()=>{var _;const y=e.gradient.slice().length?e.gradient.slice().reverse():[""];return f("svg",{display:"block","stroke-width":parseFloat(e.lineWidth)??4},[f("defs",null,[f("linearGradient",{id:r.value,gradientUnits:"userSpaceOnUse",x1:e.gradientDirection==="left"?"100%":"0",y1:e.gradientDirection==="top"?"100%":"0",x2:e.gradientDirection==="right"?"100%":"0",y2:e.gradientDirection==="bottom"?"100%":"0"},[y.map((k,A)=>f("stop",{offset:A/Math.max(y.length-1,1),"stop-color":k||"currentColor"},null))])]),u.value&&f("g",{key:"labels",style:{textAnchor:"middle",dominantBaseline:"mathematical",fill:"currentColor"}},[g.value.map((k,A)=>{var T;return f("text",{x:k.x+c.value/2+c.value/2,y:parseInt(e.height,10)-4+(parseInt(e.labelSize,10)||7*.75),"font-size":Number(e.labelSize)||7},[((T=n.label)==null?void 0:T.call(n,{index:A,value:k.value}))??k.value])})]),f("path",{ref:a,d:p(e.fill),fill:e.fill?`url(#${r.value})`:"none",stroke:e.fill?"none":`url(#${r.value})`},null),e.fill&&f("path",{d:p(!1),fill:"none",stroke:e.color??((_=e.gradient)==null?void 0:_[0])},null)])})}}),$9=Q({type:{type:String,default:"trend"},...nA(),...iA()},"VSparkline"),U9=re()({name:"VSparkline",props:$9(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:r}=On(ee(e,"color")),s=V(()=>!!(e.showLabels||e.labels.length>0||n!=null&&n.label)),o=V(()=>{let a=parseInt(e.height,10);return s.value&&(a+=parseInt(e.labelSize,10)*1.5),a});ue(()=>{const a=e.type==="trend"?zk:Uk,l=e.type==="trend"?zk.filterProps(e):Uk.filterProps(e);return f(a,oe({key:e.type,class:i.value,style:r.value,viewBox:`0 0 ${e.width} ${parseInt(o.value,10)}`},l),n)})}}),H9=Q({...Pe(),...Wx({offset:8,minWidth:0,openDelay:0,closeDelay:100,location:"top center",transition:"scale-transition"})},"VSpeedDial"),j9=re()({name:"VSpeedDial",props:H9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),r=z(),s=V(()=>{var u;const[a,l="center"]=((u=e.location)==null?void 0:u.split(" "))??[];return`${a} ${l}`}),o=V(()=>({[`v-speed-dial__content--${s.value.replace(" ","-")}`]:!0}));return ue(()=>{const a=vl.filterProps(e);return f(vl,oe(a,{modelValue:i.value,"onUpdate:modelValue":l=>i.value=l,class:e.class,style:e.style,contentClass:["v-speed-dial__content",o.value,e.contentClass],location:s.value,ref:r,transition:"fade-transition"}),{...n,default:l=>f(nt,{defaults:{VBtn:{size:"small"}}},{default:()=>[f(Xn,{appear:!0,group:!0,transition:e.transition},{default:()=>{var u;return[(u=n.default)==null?void 0:u.call(n,l)]}})]})})}),{}}}),n0=Symbol.for("vuetify:v-stepper"),rA=Q({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),sA=re()({name:"VStepperActions",props:rA(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:i}=t;const{t:r}=Xt();function s(){n("click:prev")}function o(){n("click:next")}return ue(()=>{const a={onClick:s},l={onClick:o};return f("div",{class:"v-stepper-actions"},[f(nt,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:r(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=i.prev)==null?void 0:u.call(i,{props:a}))??f(gt,a,null)]}}),f(nt,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:r(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=i.next)==null?void 0:u.call(i,{props:l}))??f(gt,l,null)]}})])}),{}}}),oA=Rr("v-stepper-header"),z9=Q({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),W9=Q({...z9(),...va()},"VStepperItem"),aA=re()({name:"VStepperItem",directives:{Ripple:ms},props:W9(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const i=ma(e,n0,!0),r=V(()=>(i==null?void 0:i.value.value)??e.value),s=V(()=>e.rules.every(v=>v()===!0)),o=V(()=>!e.disabled&&e.editable),a=V(()=>!e.disabled&&e.editable),l=V(()=>e.error||!s.value),u=V(()=>e.complete||e.rules.length>0&&s.value),c=V(()=>l.value?e.errorIcon:u.value?e.completeIcon:i.isSelected.value&&e.editable?e.editIcon:e.icon),d=V(()=>({canEdit:a.value,hasError:l.value,hasCompleted:u.value,title:e.title,subtitle:e.subtitle,step:r.value,value:e.value}));return ue(()=>{var y,_,k;const v=(!i||i.isSelected.value||u.value||a.value)&&!l.value&&!e.disabled,m=!!(e.title!=null||n.title),g=!!(e.subtitle!=null||n.subtitle);function p(){i==null||i.toggle()}return xt(f("button",{class:["v-stepper-item",{"v-stepper-item--complete":u.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":l.value},i==null?void 0:i.selectedClass.value],disabled:!e.editable,onClick:p},[o.value&&io(!0,"v-stepper-item"),f($i,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:v?e.color:void 0,size:24},{default:()=>{var A;return[((A=n.icon)==null?void 0:A.call(n,d.value))??(c.value?f(pt,{icon:c.value},null):r.value)]}}),f("div",{class:"v-stepper-item__content"},[m&&f("div",{key:"title",class:"v-stepper-item__title"},[((y=n.title)==null?void 0:y.call(n,d.value))??e.title]),g&&f("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((_=n.subtitle)==null?void 0:_.call(n,d.value))??e.subtitle]),(k=n.default)==null?void 0:k.call(n,d.value)])]),[[mi("ripple"),e.ripple&&e.editable,null]])}),{}}}),q9=Q({...nn(Ov(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),lA=re()({name:"VStepperWindow",props:q9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Ze(n0,null),r=Fe(e,"modelValue"),s=V({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return ue(()=>{const o=Wo.filterProps(e);return f(Wo,oe({_as:"VStepperWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),G9=Q({...Lv()},"VStepperWindowItem"),uA=re()({name:"VStepperWindowItem",props:G9(),setup(e,t){let{slots:n}=t;return ue(()=>{const i=qo.filterProps(e);return f(qo,oe({_as:"VStepperWindowItem"},i,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),K9=Q({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...la()},"Stepper"),Y9=Q({...K9(),...ha({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Mv(),...mv(rA(),["prevText","nextText"])},"VStepper"),Q9=re()({name:"VStepper",props:Y9(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:i,next:r,prev:s,selected:o}=ro(e,n0),{displayClasses:a,mobile:l}=zi(e),{completeIcon:u,editIcon:c,errorIcon:d,color:v,editable:m,prevText:g,nextText:p}=aa(e),y=V(()=>e.items.map((A,T)=>{const D=an(A,e.itemTitle,A),R=an(A,e.itemValue,T+1);return{title:D,value:R,raw:A}})),_=V(()=>i.value.findIndex(A=>o.value.includes(A.id))),k=V(()=>e.disabled?e.disabled:_.value===0?"prev":_.value===i.value.length-1?"next":!1);return zt({VStepperItem:{editable:m,errorIcon:d,completeIcon:u,editIcon:c,prevText:g,nextText:p},VStepperActions:{color:v,disabled:k,prevText:g,nextText:p}}),ue(()=>{const A=Go.filterProps(e),T=!!(n.header||e.items.length),D=e.items.length>0,R=!e.hideActions&&!!(D||n.actions);return f(Go,oe(A,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":l.value},a.value,e.class],style:e.style}),{default:()=>{var x,w;return[T&&f(oA,{key:"stepper-header"},{default:()=>[y.value.map((b,C)=>{let{raw:E,...I}=b;return f(le,null,[!!C&&f(Yc,null,null),f(aA,I,{default:n[`header-item.${I.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),D&&f(lA,{key:"stepper-window"},{default:()=>[y.value.map(b=>f(uA,{value:b.value},{default:()=>{var C,E;return((C=n[`item.${b.value}`])==null?void 0:C.call(n,b))??((E=n.item)==null?void 0:E.call(n,b))}}))]}),(x=n.default)==null?void 0:x.call(n,{prev:s,next:r}),R&&(((w=n.actions)==null?void 0:w.call(n,{next:r,prev:s}))??f(sA,{key:"stepper-actions","onClick:prev":s,"onClick:next":r},n))]}})}),{prev:s,next:r}}}),X9=Q({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ps(),...xv()},"VSwitch"),J9=re()({name:"VSwitch",inheritAttrs:!1,props:X9(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Fe(e,"indeterminate"),s=Fe(e,"modelValue"),{loaderClasses:o}=zc(e),{isFocused:a,focus:l,blur:u}=gs(e),c=z(),d=_t&&window.matchMedia("(forced-colors: active)").matches,v=V(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),m=Sn(),g=V(()=>e.id||`switch-${m}`);function p(){r.value&&(r.value=!1)}function y(_){var k,A;_.stopPropagation(),_.preventDefault(),(A=(k=c.value)==null?void 0:k.input)==null||A.click()}return ue(()=>{const[_,k]=no(n),A=Ln.filterProps(e),T=qs.filterProps(e);return f(Ln,oe({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":r.value},o.value,e.class]},_,A,{modelValue:s.value,"onUpdate:modelValue":D=>s.value=D,id:g.value,focused:a.value,style:e.style}),{...i,default:D=>{let{id:R,messagesId:x,isDisabled:w,isReadonly:b,isValid:C}=D;const E={model:s,isValid:C};return f(qs,oe({ref:c},T,{modelValue:s.value,"onUpdate:modelValue":[I=>s.value=I,p],id:R.value,"aria-describedby":x.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:w.value,readonly:b.value,onFocus:l,onBlur:u},k),{...i,default:I=>{let{backgroundColorClasses:P,backgroundColorStyles:F}=I;return f("div",{class:["v-switch__track",d?void 0:P.value],style:F.value,onClick:y},[i["track-true"]&&f("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](E)]),i["track-false"]&&f("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](E)])])},input:I=>{let{inputNode:P,icon:F,backgroundColorClasses:$,backgroundColorStyles:j}=I;return f(le,null,[P,f("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":F||e.loading},e.inset||d?void 0:$.value],style:e.inset?void 0:j.value},[i.thumb?f(nt,{defaults:{VIcon:{icon:F,size:"x-small"}}},{default:()=>[i.thumb({...E,icon:F})]}):f(k_,null,{default:()=>[e.loading?f(Wc,{name:"v-switch",active:!0,color:C.value===!1?void 0:v.value},{default:K=>i.loader?i.loader(K):f(hl,{active:K.isActive,color:K.color,indeterminate:!0,size:"16",width:"2"},null)}):F&&f(pt,{key:String(F),icon:F,size:"x-small"},null)]})])])}})}})}),{}}}),Z9=Q({color:String,height:[Number,String],window:Boolean,...Pe(),...fn(),...ua(),...Nt(),...Qe(),...ot()},"VSystemBar"),eB=re()({name:"VSystemBar",props:Z9(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{backgroundColorClasses:r,backgroundColorStyles:s}=It(ee(e,"color")),{elevationClasses:o}=Cn(e),{roundedClasses:a}=qt(e),{ssrBootStyles:l}=da(),u=V(()=>e.height??(e.window?32:24)),{layoutItemStyles:c}=ca({id:e.name,order:V(()=>parseInt(e.order,10)),position:Se("top"),layoutSize:u,elementSize:u,active:V(()=>!0),absolute:ee(e,"absolute")});return ue(()=>f(e.tag,{class:["v-system-bar",{"v-system-bar--window":e.window},i.value,r.value,o.value,a.value,e.class],style:[s.value,c.value,l.value,e.style]},n)),{}}}),i0=Symbol.for("vuetify:v-tabs"),tB=Q({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...nn(Tv({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),cA=re()({name:"VTab",props:tB(),setup(e,t){let{slots:n,attrs:i}=t;const{textColorClasses:r,textColorStyles:s}=On(e,"sliderColor"),o=z(),a=z(),l=V(()=>e.direction==="horizontal"),u=V(()=>{var d,v;return((v=(d=o.value)==null?void 0:d.group)==null?void 0:v.isSelected.value)??!1});function c(d){var m,g;let{value:v}=d;if(v){const p=(g=(m=o.value)==null?void 0:m.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),y=a.value;if(!p||!y)return;const _=getComputedStyle(p).color,k=p.getBoundingClientRect(),A=y.getBoundingClientRect(),T=l.value?"x":"y",D=l.value?"X":"Y",R=l.value?"right":"bottom",x=l.value?"width":"height",w=k[T],b=A[T],C=w>b?k[R]-A[R]:k[T]-A[T],E=Math.sign(C)>0?l.value?"right":"bottom":Math.sign(C)<0?l.value?"left":"top":"center",P=(Math.abs(C)+(Math.sign(C)<0?k[x]:A[x]))/Math.max(k[x],A[x])||0,F=k[x]/A[x]||0,$=1.5;Io(y,{backgroundColor:[_,"currentcolor"],transform:[`translate${D}(${C}px) scale${D}(${F})`,`translate${D}(${C/$}px) scale${D}(${(P-1)/$+1})`,"none"],transformOrigin:Array(3).fill(E)},{duration:225,easing:oc})}}return ue(()=>{const d=gt.filterProps(e);return f(gt,oe({symbol:i0,ref:o,class:["v-tab",e.class],style:e.style,tabindex:u.value?0:-1,role:"tab","aria-selected":String(u.value),active:!1},d,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var v;return f(le,null,[((v=n.default)==null?void 0:v.call(n))??e.text,!e.hideSlider&&f("div",{ref:a,class:["v-tab__slider",r.value],style:s.value},null)])}})}),qi({},o)}}),nB=Q({...nn(Ov(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),dA=re()({name:"VTabsWindow",props:nB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Ze(i0,null),r=Fe(e,"modelValue"),s=V({get(){var o;return r.value!=null||!i?r.value:(o=i.items.value.find(a=>i.selected.value.includes(a.id)))==null?void 0:o.value},set(o){r.value=o}});return ue(()=>{const o=Wo.filterProps(e);return f(Wo,oe({_as:"VTabsWindow"},o,{modelValue:s.value,"onUpdate:modelValue":a=>s.value=a,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),iB=Q({...Lv()},"VTabsWindowItem"),fA=re()({name:"VTabsWindowItem",props:iB(),setup(e,t){let{slots:n}=t;return ue(()=>{const i=qo.filterProps(e);return f(qo,oe({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function rB(e){return e?e.map(t=>a_(t)?t:{text:t,value:t}):[]}const sB=Q({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...x_({mandatory:"force",selectedClass:"v-tab-item--selected"}),...hn(),...Qe()},"VTabs"),oB=re()({name:"VTabs",props:sB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const r=Fe(e,"modelValue"),s=V(()=>rB(e.items)),{densityClasses:o}=ti(e),{backgroundColorClasses:a,backgroundColorStyles:l}=It(ee(e,"bgColor")),{scopeId:u}=pa();return zt({VTab:{color:ee(e,"color"),direction:ee(e,"direction"),stacked:ee(e,"stacked"),fixed:ee(e,"fixedTabs"),sliderColor:ee(e,"sliderColor"),hideSlider:ee(e,"hideSlider")}}),ue(()=>{const c=hc.filterProps(e),d=!!(i.window||e.items.length>0);return f(le,null,[f(hc,oe(c,{modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},o.value,a.value,e.class],style:[{"--v-tabs-height":Te(e.height)},l.value,e.style],role:"tablist",symbol:i0},u,n),{default:()=>{var v;return[((v=i.default)==null?void 0:v.call(i))??s.value.map(m=>{var g;return((g=i.tab)==null?void 0:g.call(i,{item:m}))??f(cA,oe(m,{key:m.text,value:m.value}),{default:i[`tab.${m.value}`]?()=>{var p;return(p=i[`tab.${m.value}`])==null?void 0:p.call(i,{item:m})}:void 0})})]}}),d&&f(dA,oe({modelValue:r.value,"onUpdate:modelValue":v=>r.value=v,key:"tabs-window"},u),{default:()=>{var v;return[s.value.map(m=>{var g;return((g=i.item)==null?void 0:g.call(i,{item:m}))??f(fA,{value:m.value},{default:()=>{var p;return(p=i[`item.${m.value}`])==null?void 0:p.call(i,{item:m})}})}),(v=i.window)==null?void 0:v.call(i)]}})])}),{}}}),aB=Q({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...ps(),...Xc()},"VTextarea"),lB=re()({name:"VTextarea",directives:{Intersect:jc},inheritAttrs:!1,props:aB(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:r}=t;const s=Fe(e,"modelValue"),{isFocused:o,focus:a,blur:l}=gs(e),u=V(()=>typeof e.counterValue=="function"?e.counterValue(s.value):(s.value||"").toString().length),c=V(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function d(E,I){var P,F;!e.autofocus||!E||(F=(P=I[0].target)==null?void 0:P.focus)==null||F.call(P)}const v=z(),m=z(),g=Se(""),p=z(),y=V(()=>e.persistentPlaceholder||o.value||e.active);function _(){var E;p.value!==document.activeElement&&((E=p.value)==null||E.focus()),o.value||a()}function k(E){_(),i("click:control",E)}function A(E){i("mousedown:control",E)}function T(E){E.stopPropagation(),_(),ct(()=>{s.value="",d_(e["onClick:clear"],E)})}function D(E){var P;const I=E.target;if(s.value=I.value,(P=e.modelModifiers)!=null&&P.trim){const F=[I.selectionStart,I.selectionEnd];ct(()=>{I.selectionStart=F[0],I.selectionEnd=F[1]})}}const R=z(),x=z(+e.rows),w=V(()=>["plain","underlined"].includes(e.variant));Kt(()=>{e.autoGrow||(x.value=+e.rows)});function b(){e.autoGrow&&ct(()=>{if(!R.value||!m.value)return;const E=getComputedStyle(R.value),I=getComputedStyle(m.value.$el),P=parseFloat(E.getPropertyValue("--v-field-padding-top"))+parseFloat(E.getPropertyValue("--v-input-padding-top"))+parseFloat(E.getPropertyValue("--v-field-padding-bottom")),F=R.value.scrollHeight,$=parseFloat(E.lineHeight),j=Math.max(parseFloat(e.rows)*$+P,parseFloat(I.getPropertyValue("--v-input-control-height"))),K=parseFloat(e.maxRows)*$+P||1/0,U=Zt(F??0,j,K);x.value=Math.floor((U-P)/$),g.value=Te(U)})}Qt(b),ye(s,b),ye(()=>e.rows,b),ye(()=>e.maxRows,b),ye(()=>e.density,b);let C;return ye(R,E=>{E?(C=new ResizeObserver(b),C.observe(R.value)):C==null||C.disconnect()}),kn(()=>{C==null||C.disconnect()}),ue(()=>{const E=!!(r.counter||e.counter||e.counterValue),I=!!(E||r.details),[P,F]=no(n),{modelValue:$,...j}=Ln.filterProps(e),K=M_(e);return f(Ln,oe({ref:v,modelValue:s.value,"onUpdate:modelValue":U=>s.value=U,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":w.value},e.class],style:e.style},P,j,{centerAffix:x.value===1&&!w.value,focused:o.value}),{...r,default:U=>{let{id:B,isDisabled:H,isDirty:q,isReadonly:J,isValid:he}=U;return f(Fl,oe({ref:m,style:{"--v-textarea-control-height":g.value},onClick:k,onMousedown:A,"onClick:clear":T,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},K,{id:B.value,active:y.value||q.value,centerAffix:x.value===1&&!w.value,dirty:q.value||e.dirty,disabled:H.value,focused:o.value,error:he.value===!1}),{...r,default:_e=>{let{props:{class:Ce,...ie}}=_e;return f(le,null,[e.prefix&&f("span",{class:"v-text-field__prefix"},[e.prefix]),xt(f("textarea",oe({ref:p,class:Ce,value:s.value,onInput:D,autofocus:e.autofocus,readonly:J.value,disabled:H.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:_,onBlur:l},ie,F),null),[[mi("intersect"),{handler:d},null,{once:!0}]]),e.autoGrow&&xt(f("textarea",{class:[Ce,"v-textarea__sizer"],id:`${ie.id}-sizer`,"onUpdate:modelValue":be=>s.value=be,ref:R,readonly:!0,"aria-hidden":"true"},null),[[jO,s.value]]),e.suffix&&f("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:I?U=>{var B;return f(le,null,[(B=r.details)==null?void 0:B.call(r,U),E&&f(le,null,[f("span",null,null),f(Vv,{active:e.persistentCounter||o.value,value:u.value,max:c.value,disabled:e.disabled},r.counter)])])}:void 0})}),qi({},v,m,p)}}),uB=Q({withBackground:Boolean,...Pe(),...ot(),...Qe()},"VThemeProvider"),cB=re()({name:"VThemeProvider",props:uB(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e);return()=>{var r;return e.withBackground?f(e.tag,{class:["v-theme-provider",i.value,e.class],style:e.style},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}}):(r=n.default)==null?void 0:r.call(n)}}}),dB=Q({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:We,iconColor:String,lineColor:String,...Pe(),...Nt(),...Dr(),...fn()},"VTimelineDivider"),fB=re()({name:"VTimelineDivider",props:dB(),setup(e,t){let{slots:n}=t;const{sizeClasses:i,sizeStyles:r}=Dl(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=It(ee(e,"dotColor")),{roundedClasses:a}=qt(e,"v-timeline-divider__dot"),{elevationClasses:l}=Cn(e),{backgroundColorClasses:u,backgroundColorStyles:c}=It(ee(e,"lineColor"));return ue(()=>f("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[f("div",{class:["v-timeline-divider__before",u.value],style:c.value},null),!e.hideDot&&f("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,i.value],style:r.value},[f("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?f(nt,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},n.default):f(pt,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),f("div",{class:["v-timeline-divider__after",u.value],style:c.value},null)])),{}}}),hA=Q({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:We,iconColor:String,lineInset:[Number,String],...Pe(),...rn(),...fn(),...Nt(),...Dr(),...Qe()},"VTimelineItem"),hB=re()({name:"VTimelineItem",props:hA(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=sn(e),r=Se(0),s=z();return ye(s,o=>{var a;o&&(r.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),ue(()=>{var o,a;return f("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Te(r.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Te(e.lineInset)})`:Te(0)},e.style]},[f("div",{class:"v-timeline-item__body",style:i.value},[(o=n.default)==null?void 0:o.call(n)]),f(fB,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:n.icon}),e.density!=="compact"&&f("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}}),vB=Q({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...mv(hA({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Pe(),...hn(),...Qe(),...ot()},"VTimeline"),mB=re()({name:"VTimeline",props:vB(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=yt(e),{densityClasses:r}=ti(e),{rtlClasses:s}=dn();zt({VTimelineDivider:{lineColor:ee(e,"lineColor")},VTimelineItem:{density:ee(e,"density"),dotColor:ee(e,"dotColor"),fillDot:ee(e,"fillDot"),hideOpposite:ee(e,"hideOpposite"),iconColor:ee(e,"iconColor"),lineColor:ee(e,"lineColor"),lineInset:ee(e,"lineInset"),size:ee(e,"size")}});const o=V(()=>{const l=e.side?e.side:e.density!=="default"?"end":null;return l&&`v-timeline--side-${l}`}),a=V(()=>{const l=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return l;case"start":return l[0];case"end":return l[1];default:return null}});return ue(()=>f(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},i.value,r.value,o.value,s.value,e.class],style:[{"--v-timeline-line-thickness":Te(e.lineThickness)},e.style]},n)),{}}}),gB=Q({...Pe(),...Wi({variant:"text"})},"VToolbarItems"),pB=re()({name:"VToolbarItems",props:gB(),setup(e,t){let{slots:n}=t;return zt({VBtn:{color:ee(e,"color"),height:"inherit",variant:ee(e,"variant")}}),ue(()=>{var i;return f("div",{class:["v-toolbar-items",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),yB=Q({id:String,text:String,...nn(Qc({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),vA=re()({name:"VTooltip",props:yB(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=Fe(e,"modelValue"),{scopeId:r}=pa(),s=Sn(),o=V(()=>e.id||`v-tooltip-${s}`),a=z(),l=V(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=V(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=V(()=>e.transition?e.transition:i.value?"scale-transition":"fade-transition"),d=V(()=>oe({"aria-describedby":o.value},e.activatorProps));return ue(()=>{const v=Sr.filterProps(e);return f(Sr,oe({ref:a,class:["v-tooltip",e.class],style:e.style,id:o.value},v,{modelValue:i.value,"onUpdate:modelValue":m=>i.value=m,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var y;for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];return((y=n.default)==null?void 0:y.call(n,...g))??e.text}})}),qi({},a)}}),_B=re()({name:"VValidation",props:yx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=_x(e,"validation");return()=>{var r;return(r=n.default)==null?void 0:r.call(n,i)}}}),bB=Object.freeze(Object.defineProperty({__proto__:null,VAlert:HL,VAlertTitle:dx,VApp:X6,VAppBar:pL,VAppBarNavIcon:FL,VAppBarTitle:BL,VAutocomplete:cN,VAvatar:$i,VBadge:fN,VBanner:mN,VBannerActions:Yx,VBannerText:Qx,VBottomNavigation:pN,VBottomSheet:_N,VBreadcrumbs:SN,VBreadcrumbsDivider:Jx,VBreadcrumbsItem:Zx,VBtn:gt,VBtnGroup:dp,VBtnToggle:SL,VCard:xN,VCardActions:e2,VCardItem:i2,VCardSubtitle:t2,VCardText:r2,VCardTitle:n2,VCarousel:NN,VCarouselItem:BN,VCheckbox:XL,VCheckboxBtn:ns,VChip:Nl,VChipGroup:nM,VClassIcon:b_,VCode:$N,VCol:mF,VColorPicker:x8,VCombobox:V8,VComponentIcon:lp,VConfirmEdit:D8,VContainer:dF,VCounter:Vv,VDataIterator:j8,VDataTable:sF,VDataTableFooter:mc,VDataTableHeaders:Ko,VDataTableRow:X_,VDataTableRows:Yo,VDataTableServer:uF,VDataTableVirtual:aF,VDatePicker:xF,VDatePickerControls:Tp,VDatePickerHeader:xp,VDatePickerMonth:Ap,VDatePickerMonths:Pp,VDatePickerYears:Vp,VDefaultsProvider:nt,VDialog:_p,VDialogBottomTransition:tL,VDialogTopTransition:nL,VDialogTransition:kv,VDivider:Yc,VEmptyState:PF,VExpandTransition:Sv,VExpandXTransition:C_,VExpansionPanel:VF,VExpansionPanelText:Rp,VExpansionPanelTitle:Dp,VExpansionPanels:OF,VFab:MF,VFabTransition:eL,VFadeTransition:uc,VField:Fl,VFieldLabel:Iu,VFileInput:FF,VFooter:$F,VForm:HF,VHover:zF,VIcon:pt,VImg:ts,VInfiniteScroll:qF,VInput:Ln,VItem:YF,VItemGroup:KF,VKbd:QF,VLabel:Ml,VLayout:JF,VLayoutItem:e9,VLazy:n9,VLigatureIcon:H6,VList:Pv,VListGroup:mp,VListImg:EM,VListItem:is,VListItemAction:TM,VListItemMedia:AM,VListItemSubtitle:Vx,VListItemTitle:Rx,VListSubheader:Dx,VLocaleProvider:r9,VMain:o9,VMenu:vl,VMessages:gx,VNavigationDrawer:m9,VNoSsr:g9,VOtpInput:y9,VOverlay:Sr,VPagination:Ep,VParallax:w9,VProgressCircular:hl,VProgressLinear:Ev,VRadio:S9,VRadioGroup:E9,VRangeSlider:T9,VRating:A9,VResponsive:up,VRow:kF,VScaleTransition:k_,VScrollXReverseTransition:rL,VScrollXTransition:iL,VScrollYReverseTransition:oL,VScrollYTransition:sL,VSelect:B_,VSelectionControl:qs,VSelectionControlGroup:hx,VSheet:Go,VSkeletonLoader:D9,VSlideGroup:hc,VSlideGroupItem:O9,VSlideXReverseTransition:lL,VSlideXTransition:aL,VSlideYReverseTransition:uL,VSlideYTransition:S_,VSlider:Cp,VSnackbar:N9,VSpacer:W2,VSparkline:U9,VSpeedDial:j9,VStepper:Q9,VStepperActions:sA,VStepperHeader:oA,VStepperItem:aA,VStepperWindow:lA,VStepperWindowItem:uA,VSvgIcon:__,VSwitch:J9,VSystemBar:eB,VTab:cA,VTable:Qo,VTabs:oB,VTabsWindow:dA,VTabsWindowItem:fA,VTextField:zo,VTextarea:lB,VThemeProvider:cB,VTimeline:mB,VTimelineItem:hB,VToolbar:cp,VToolbarItems:pB,VToolbarTitle:w_,VTooltip:vA,VValidation:_B,VVirtualScroll:Dv,VWindow:Wo,VWindowItem:qo},Symbol.toStringTag,{value:"Module"}));function wB(e,t){const n=t.modifiers||{},i=t.value,{once:r,immediate:s,...o}=n,a=!Object.keys(o).length,{handler:l,options:u}=typeof i=="object"?i:{handler:i,options:{attributes:(o==null?void 0:o.attr)??a,characterData:(o==null?void 0:o.char)??a,childList:(o==null?void 0:o.child)??a,subtree:(o==null?void 0:o.sub)??a}},c=new MutationObserver(function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0;l==null||l(d,v),r&&mA(e,t)});s&&(l==null||l([],c)),e._mutate=Object(e._mutate),e._mutate[t.instance.$.uid]={observer:c},c.observe(e,u)}function mA(e,t){var n;(n=e._mutate)!=null&&n[t.instance.$.uid]&&(e._mutate[t.instance.$.uid].observer.disconnect(),delete e._mutate[t.instance.$.uid])}const kB={mounted:wB,unmounted:mA};function SB(e,t){var r,s;const n=t.value,i={passive:!((r=t.modifiers)!=null&&r.active)};window.addEventListener("resize",n,i),e._onResize=Object(e._onResize),e._onResize[t.instance.$.uid]={handler:n,options:i},(s=t.modifiers)!=null&&s.quiet||n()}function CB(e,t){var r;if(!((r=e._onResize)!=null&&r[t.instance.$.uid]))return;const{handler:n,options:i}=e._onResize[t.instance.$.uid];window.removeEventListener("resize",n,i),delete e._onResize[t.instance.$.uid]}const EB={mounted:SB,unmounted:CB};function gA(e,t){const{self:n=!1}=t.modifiers??{},i=t.value,r=typeof i=="object"&&i.options||{passive:!0},s=typeof i=="function"||"handleEvent"in i?i:i.handler,o=n?e:t.arg?document.querySelector(t.arg):window;o&&(o.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[t.instance.$.uid]={handler:s,options:r,target:n?void 0:o})}function pA(e,t){var s;if(!((s=e._onScroll)!=null&&s[t.instance.$.uid]))return;const{handler:n,options:i,target:r=e}=e._onScroll[t.instance.$.uid];r.removeEventListener("scroll",n,i),delete e._onScroll[t.instance.$.uid]}function IB(e,t){t.value!==t.oldValue&&(pA(e,t),gA(e,t))}const TB={mounted:gA,unmounted:pA,updated:IB};function xB(e,t){const n=typeof e=="string"?Y(e):e,i=AB(n,t);return{mounted:i,updated:i,unmounted(r){sT(null,r)}}}function AB(e,t){return function(n,i,r){var d,v,m;const s=typeof t=="function"?t(i):t,o=((d=i.value)==null?void 0:d.text)??i.value??(s==null?void 0:s.text),a=a_(i.value)?i.value:{},l=()=>o??n.textContent,u=(r.ctx===i.instance.$?(v=PB(r,i.instance.$))==null?void 0:v.provides:(m=r.ctx)==null?void 0:m.provides)??i.instance.$.provides,c=ci(e,oe(s,a),l);c.appContext=Object.assign(Object.create(null),i.instance.$.appContext,{provides:u}),sT(c,n)}}function PB(e,t){const n=new Set,i=s=>{var o,a;for(const l of s){if(!l)continue;if(l===e||l.el&&e.el&&l.el===e.el)return!0;n.add(l);let u;if(l.suspense?u=i([l.ssContent]):Array.isArray(l.children)?u=i(l.children):(o=l.component)!=null&&o.vnode&&(u=i([(a=l.component)==null?void 0:a.subTree])),u)return u;n.delete(l)}return!1};if(!i([t.subTree]))return t;const r=Array.from(n).reverse();for(const s of r)if(s.component)return s.component;return t}const VB=xB(vA,e=>{var t;return{activator:"parent",location:(t=e.arg)==null?void 0:t.replace("-"," "),text:typeof e.value=="boolean"?void 0:e.value}}),RB=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:zx,Intersect:jc,Mutate:kB,Resize:EB,Ripple:ms,Scroll:TB,Tooltip:VB,Touch:$_},Symbol.toStringTag,{value:"Module"}));var Wk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=function(e,t){if(!e)throw Bl(t)},Bl=function(e){return new Error("Firebase Database ("+yA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},DB=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],o=e[n++],a=e[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],o=r+1<e.length,a=o?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let v=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(v=64)),i.push(n[c],n[d],n[v],n[m])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_A(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):DB(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const u=r<e.length?n[e.charAt(r)]:64;++r;const d=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new OB;const v=s<<2|a>>4;if(i.push(v),u!==64){const m=a<<4&240|u>>2;if(i.push(m),d!==64){const g=u<<6&192|d;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class OB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bA=function(e){const t=_A(e);return Gv.encodeByteArray(t,!0)},nh=function(e){return bA(e).replace(/\./g,"")},ih=function(e){try{return Gv.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(e){return wA(void 0,e)}function wA(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!MB(n)||(e[n]=wA(e[n],t[n]));return e}function MB(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=()=>NB().__FIREBASE_DEFAULTS__,BB=()=>{if(typeof process>"u"||typeof Wk>"u")return;const e=Wk.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$B=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ih(e[1]);return t&&JSON.parse(t)},Kv=()=>{try{return FB()||BB()||$B()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},UB=e=>{var t,n;return(n=(t=Kv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},HB=e=>{const t=UB(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},kA=()=>{var e;return(e=Kv())===null||e===void 0?void 0:e.config},jB=e=>{var t;return(t=Kv())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nh(JSON.stringify(n)),nh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function WB(){var e;const t=(e=Kv())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GB(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function SA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KB(){const e=ei();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function CA(){return yA.NODE_ADMIN===!0}function YB(){return!WB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function QB(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="FirebaseError";class Or extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=XB,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?JB(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Or(r,a,i)}}function JB(e,t){return e.replace(ZB,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const ZB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e){return JSON.parse(e)}function Pn(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=yc(ih(s[0])||""),n=yc(ih(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}},e7=function(e){const t=IA(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},t7=function(e){const t=IA(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ml(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Op(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function rh(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function sh(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],o=t[r];if(qk(s)&&qk(o)){if(!sh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function qk(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const v=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(v<<1|v>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const v=(r<<5|r>>>27)+u+l+c+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=v}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}function i7(e,t){const n=new r7(e,t);return n.subscribe.bind(n)}class r7{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");s7(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=cg),r.error===void 0&&(r.error=cg),r.complete===void 0&&(r.complete=cg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s7(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function cg(){}function o7(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,De(i<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Yv=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(e){return e&&e._delegate?e._delegate:e}class rr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new pc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c7(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=_o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_o){return this.instances.has(t)}getOptions(t=_o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u7(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=_o){return this.component?this.component.multipleInstances?t:_o:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u7(e){return e===_o?void 0:e}function c7(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new l7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(lt||(lt={}));const f7={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},h7=lt.INFO,v7={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},m7=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=v7[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ed{constructor(t){this.name=t,this._logLevel=h7,this._logHandler=m7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?f7[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const g7=(e,t)=>t.some(n=>e instanceof n);let Gk,Kk;function p7(){return Gk||(Gk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y7(){return Kk||(Kk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TA=new WeakMap,Lp=new WeakMap,xA=new WeakMap,dg=new WeakMap,s0=new WeakMap;function _7(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n($s(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&TA.set(n,e)}).catch(()=>{}),s0.set(t,e),t}function b7(e){if(Lp.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Lp.set(e,t)}let Mp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||xA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function w7(e){Mp=e(Mp)}function k7(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(fg(this),t,...n);return xA.set(i,t.sort?t.sort():[t]),$s(i)}:y7().includes(e)?function(...t){return e.apply(fg(this),t),$s(TA.get(this))}:function(...t){return $s(e.apply(fg(this),t))}}function S7(e){return typeof e=="function"?k7(e):(e instanceof IDBTransaction&&b7(e),g7(e,p7())?new Proxy(e,Mp):e)}function $s(e){if(e instanceof IDBRequest)return _7(e);if(dg.has(e))return dg.get(e);const t=S7(e);return t!==e&&(dg.set(e,t),s0.set(t,e)),t}const fg=e=>s0.get(e);function C7(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(e,t),a=$s(o);return i&&o.addEventListener("upgradeneeded",l=>{i($s(o.result),l.oldVersion,l.newVersion,$s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const E7=["get","getKey","getAll","getAllKeys","count"],I7=["put","add","delete","clear"],hg=new Map;function Yk(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hg.get(t))return hg.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=I7.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||E7.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return hg.set(t,s),s}w7(e=>({...e,get:(t,n,i)=>Yk(t,n)||e.get(t,n,i),has:(t,n)=>!!Yk(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x7(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function x7(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Np="@firebase/app",Qk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new ed("@firebase/app"),A7="@firebase/app-compat",P7="@firebase/analytics-compat",V7="@firebase/analytics",R7="@firebase/app-check-compat",D7="@firebase/app-check",O7="@firebase/auth",L7="@firebase/auth-compat",M7="@firebase/database",N7="@firebase/data-connect",F7="@firebase/database-compat",B7="@firebase/functions",$7="@firebase/functions-compat",U7="@firebase/installations",H7="@firebase/installations-compat",j7="@firebase/messaging",z7="@firebase/messaging-compat",W7="@firebase/performance",q7="@firebase/performance-compat",G7="@firebase/remote-config",K7="@firebase/remote-config-compat",Y7="@firebase/storage",Q7="@firebase/storage-compat",X7="@firebase/firestore",J7="@firebase/vertexai-preview",Z7="@firebase/firestore-compat",e$="firebase",t$="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",n$={[Np]:"fire-core",[A7]:"fire-core-compat",[V7]:"fire-analytics",[P7]:"fire-analytics-compat",[D7]:"fire-app-check",[R7]:"fire-app-check-compat",[O7]:"fire-auth",[L7]:"fire-auth-compat",[M7]:"fire-rtdb",[N7]:"fire-data-connect",[F7]:"fire-rtdb-compat",[B7]:"fire-fn",[$7]:"fire-fn-compat",[U7]:"fire-iid",[H7]:"fire-iid-compat",[j7]:"fire-fcm",[z7]:"fire-fcm-compat",[W7]:"fire-perf",[q7]:"fire-perf-compat",[G7]:"fire-rc",[K7]:"fire-rc-compat",[Y7]:"fire-gcs",[Q7]:"fire-gcs-compat",[X7]:"fire-fst",[Z7]:"fire-fst-compat",[J7]:"fire-vertex","fire-js":"fire-js",[e$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,i$=new Map,Bp=new Map;function Xk(e,t){try{e.container.addComponent(t)}catch(n){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Cr(e){const t=e.name;if(Bp.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;Bp.set(t,e);for(const n of oh.values())Xk(n,e);for(const n of i$.values())Xk(n,e);return!0}function AA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qr(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new $l("app","Firebase",r$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=t$;function PA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Us.create("bad-app-name",{appName:String(r)});if(n||(n=kA()),!n)throw Us.create("no-options");const s=oh.get(r);if(s){if(sh(n,s.options)&&sh(i,s.config))return s;throw Us.create("duplicate-app",{appName:r})}const o=new d7(r);for(const l of Bp.values())o.addComponent(l);const a=new s$(n,i,o);return oh.set(r,a),a}function VA(e=Fp){const t=oh.get(e);if(!t&&e===Fp&&kA())return PA();if(!t)throw Us.create("no-app",{appName:e});return t}function Ci(e,t,n){var i;let r=(i=n$[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(a.join(" "));return}Cr(new rr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="firebase-heartbeat-database",a$=1,_c="firebase-heartbeat-store";let vg=null;function RA(){return vg||(vg=C7(o$,a$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(e=>{throw Us.create("idb-open",{originalErrorMessage:e.message})})),vg}async function l$(e){try{const n=(await RA()).transaction(_c),i=await n.objectStore(_c).get(DA(e));return await n.done,i}catch(t){if(t instanceof Or)rs.warn(t.message);else{const n=Us.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rs.warn(n.message)}}}async function Jk(e,t){try{const i=(await RA()).transaction(_c,"readwrite");await i.objectStore(_c).put(t,DA(e)),await i.done}catch(n){if(n instanceof Or)rs.warn(n.message);else{const i=Us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(i.message)}}}function DA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=1024,c$=30*24*60*60*1e3;class d${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h$(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Zk();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=c$}),this._storage.overwrite(this._heartbeatsCache))}catch(i){rs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zk(),{heartbeatsToSend:i,unsentEntries:r}=f$(this._heartbeatsCache.heartbeats),s=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rs.warn(n),""}}}function Zk(){return new Date().toISOString().substring(0,10)}function f$(e,t=u$){const n=[];let i=e.slice();for(const r of e){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),eS(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),eS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class h${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?QB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jk(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Jk(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function eS(e){return nh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(e){Cr(new rr("platform-logger",t=>new T7(t),"PRIVATE")),Cr(new rr("heartbeat",t=>new d$(t),"PRIVATE")),Ci(Np,Qk,e),Ci(Np,Qk,"esm2017"),Ci("fire-js","")}v$("");function o0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function OA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m$=OA,LA=new $l("auth","Firebase",OA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new ed("@firebase/auth");function g$(e,...t){ah.logLevel<=lt.WARN&&ah.warn(`Auth (${so}): ${e}`,...t)}function Ef(e,...t){ah.logLevel<=lt.ERROR&&ah.error(`Auth (${so}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(e,...t){throw l0(e,...t)}function Zi(e,...t){return l0(e,...t)}function a0(e,t,n){const i=Object.assign(Object.assign({},m$()),{[t]:n});return new $l("auth","Firebase",i).create(t,{appName:e.name})}function Mo(e){return a0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p$(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Er(e,"argument-error"),a0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function l0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return LA.create(e,...t)}function tt(e,t,...n){if(!e)throw l0(t,...n)}function Gr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ef(t),new Error(t)}function ss(e,t){e||Gr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function y$(){return tS()==="http:"||tS()==="https:"}function tS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y$()||GB()||"connection"in navigator)?navigator.onLine:!0}function b$(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t,n){this.shortDelay=t,this.longDelay=n,ss(n>t,"Short delay should be less than long delay!"),this.isMobile=r0()||SA()}get(){return _$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(e,t){ss(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=new td(3e4,6e4);function c0(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hl(e,t,n,i,r={}){return NA(e,r,async()=>{let s={},o={};i&&(t==="GET"?o=i:s={body:JSON.stringify(i)});const a=Ul(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},s);return qB()||(u.referrerPolicy="no-referrer"),MA.fetch()(FA(e,e.config.apiHost,n,a),u)})}async function NA(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},w$),t);try{const r=new C$(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yd(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yd(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yd(e,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw a0(e,c,u);Er(e,c)}}catch(r){if(r instanceof Or)throw r;Er(e,"network-request-failed",{message:String(r)})}}async function S$(e,t,n,i,r={}){const s=await Hl(e,t,n,i,r);return"mfaPendingCredential"in s&&Er(e,"multi-factor-auth-required",{_serverResponse:s}),s}function FA(e,t,n,i){const r=`${t}${n}?${i}`;return e.config.emulator?u0(e.config,r):`${e.config.apiScheme}://${r}`}class C${constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zi(this.auth,"network-request-failed")),k$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yd(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Zi(e,t,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(e,t){return Hl(e,"POST","/v1/accounts:delete",t)}async function BA(e,t){return Hl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function I$(e,t=!1){const n=Mn(e),i=await n.getIdToken(t),r=d0(i);tt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Bu(mg(r.auth_time)),issuedAtTime:Bu(mg(r.iat)),expirationTime:Bu(mg(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function mg(e){return Number(e)*1e3}function d0(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const r=ih(n);return r?JSON.parse(r):(Ef("Failed to decode base64 JWT payload"),null)}catch(r){return Ef("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function nS(e){const t=d0(e);return tt(t,"internal-error"),tt(typeof t.exp<"u","internal-error"),tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Or&&T$(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function T$({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(e){var t;const n=e.auth,i=await e.getIdToken(),r=await bc(e,BA(n,{idToken:i}));tt(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?$A(s.providerUserInfo):[],a=P$(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Up(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function A$(e){const t=Mn(e);await lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function P$(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function $A(e){return e.map(t=>{var{providerId:n}=t,i=o0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(e,t){const n=await NA(e,{},async()=>{const i=Ul({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=FA(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MA.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R$(e,t){return Hl(e,"POST","/v2/accounts:revokeToken",c0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){tt(t.idToken,"internal-error"),tt(typeof t.idToken<"u","internal-error"),tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){tt(t.length!==0,"internal-error");const n=nS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await V$(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new Za;return i&&(tt(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(tt(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(tt(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(e,t){tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Kr{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=o0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Up(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await bc(this,this.stsTokenManager.getToken(this.auth,t));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return I$(this,t)}reload(){return A$(this)}_assign(t){this!==t&&(tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Kr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(Mo(this.auth));const t=await this.getIdToken();return await bc(this,E$(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,l,u,c;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,k=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:T,isAnonymous:D,providerData:R,stsTokenManager:x}=n;tt(A&&x,t,"internal-error");const w=Za.fromJSON(this.name,x);tt(typeof A=="string",t,"internal-error"),Es(d,t.name),Es(v,t.name),tt(typeof T=="boolean",t,"internal-error"),tt(typeof D=="boolean",t,"internal-error"),Es(m,t.name),Es(g,t.name),Es(p,t.name),Es(y,t.name),Es(_,t.name),Es(k,t.name);const b=new Kr({uid:A,auth:t,email:v,emailVerified:T,displayName:d,isAnonymous:D,photoURL:g,phoneNumber:m,tenantId:p,stsTokenManager:w,createdAt:_,lastLoginAt:k});return R&&Array.isArray(R)&&(b.providerData=R.map(C=>Object.assign({},C))),y&&(b._redirectEventId=y),b}static async _fromIdTokenResponse(t,n,i=!1){const r=new Za;r.updateFromServerResponse(n);const s=new Kr({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await lh(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];tt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?$A(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Za;a.updateFromIdToken(i);const l=new Kr({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Up(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;function Yr(e){ss(e instanceof Function,"Expected a class definition");let t=iS.get(e);return t?(ss(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,iS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}UA.type="NONE";const rS=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(e,t,n){return`firebase:${e}:${t}:${n}`}class el{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=If(this.userKey,r.apiKey,s),this.fullPersistenceKey=If("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Kr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new el(Yr(rS),t,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Yr(rS);const o=If(i,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Kr._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new el(s,t,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new el(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GA(t))return"Blackberry";if(KA(t))return"Webos";if(jA(t))return"Safari";if((t.includes("chrome/")||zA(t))&&!t.includes("edge/"))return"Chrome";if(qA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function HA(e=ei()){return/firefox\//i.test(e)}function jA(e=ei()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zA(e=ei()){return/crios\//i.test(e)}function WA(e=ei()){return/iemobile/i.test(e)}function qA(e=ei()){return/android/i.test(e)}function GA(e=ei()){return/blackberry/i.test(e)}function KA(e=ei()){return/webos/i.test(e)}function f0(e=ei()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function D$(e=ei()){var t;return f0(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function O$(){return KB()&&document.documentMode===10}function YA(e=ei()){return f0(e)||qA(e)||KA(e)||GA(e)||/windows phone/i.test(e)||WA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(e,t=[]){let n;switch(e){case"Browser":n=sS(ei());break;case"Worker":n=`${sS(ei())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(e,t={}){return Hl(e,"GET","/v2/passwordPolicy",c0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=6;class F${constructor(t){var n,i,r,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:N$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oS(this),this.idTokenSubscription=new oS(this),this.beforeStateQueue=new L$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await el.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await BA(this,{idToken:t}),i=await Kr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(qr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=b$()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qr(this.app))return Promise.reject(Mo(this));const n=t?Mn(t):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qr(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await M$(this),n=new F$(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new $l("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await R$(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yr(t)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&g$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qv(e){return Mn(e)}class oS{constructor(t){this.auth=t,this.observer=null,this.addObserver=i7(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $$(e){h0=e}function U$(e){return h0.loadJS(e)}function H$(){return h0.gapiScript}function j$(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(e,t){const n=AA(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(sh(s,t??{}))return r;Er(r,"already-initialized")}return n.initialize({options:t})}function W$(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Yr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(t){return Gr("not implemented")}_linkToIdToken(t,n){return Gr("not implemented")}_getReauthenticationResolver(t){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(e,t){return S$(e,"POST","/v1/accounts:signInWithIdp",c0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="http://localhost";class Xo extends XA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Xo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,s=o0(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Xo(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return tl(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,tl(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,tl(t,n)}buildRequest(){const t={requestUri:q$,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ul(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends v0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends nd{constructor(){super("facebook.com")}static credential(t){return Xo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends nd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xo._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ms.credential(n,i)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends nd{constructor(){super("github.com")}static credential(t){return Xo._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends nd{constructor(){super("twitter.com")}static credential(t,n){return Xo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ns.credential(n,i)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await Kr._fromIdTokenResponse(t,i,r),o=aS(i);return new gl({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=aS(i);return new gl({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function aS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Or{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new uh(t,n,i,r)}}function JA(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(e,s,t,i):s})}async function G$(e,t,n=!1){const i=await bc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gl._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(e,t,n=!1){const{auth:i}=e;if(qr(i.app))return Promise.reject(Mo(i));const r="reauthenticate";try{const s=await bc(e,JA(i,r,t,e),n);tt(s.idToken,i,"internal-error");const o=d0(s.idToken);tt(o,i,"internal-error");const{sub:a}=o;return tt(e.uid===a,i,"user-mismatch"),gl._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Er(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y$(e,t,n=!1){if(qr(e.app))return Promise.reject(Mo(e));const i="signIn",r=await JA(e,i,t),s=await gl._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}function Q$(e,t,n,i){return Mn(e).onIdTokenChanged(t,n,i)}function X$(e){return Mn(e).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=1e3,Z$=10;class eP extends ZA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);O$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,Z$):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},J$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}eP.type="LOCAL";const eU=eP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP extends ZA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}tP.type="SESSION";const nP=tP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new Xv(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await tU(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=m0("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const v=d;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(v.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function iU(e){pr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function rU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sU(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function oU(){return iP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="firebaseLocalStorageDb",aU=1,dh="firebaseLocalStorage",sP="fbase_key";class id{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jv(e,t){return e.transaction([dh],t?"readwrite":"readonly").objectStore(dh)}function lU(){const e=indexedDB.deleteDatabase(rP);return new id(e).toPromise()}function Hp(){const e=indexedDB.open(rP,aU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(dh,{keyPath:sP})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(dh)?t(i):(i.close(),await lU(),t(await Hp()))})})}async function lS(e,t,n){const i=Jv(e,!0).put({[sP]:t,value:n});return new id(i).toPromise()}async function uU(e,t){const n=Jv(e,!1).get(t),i=await new id(n).toPromise();return i===void 0?null:i.value}function uS(e,t){const n=Jv(e,!0).delete(t);return new id(n).toPromise()}const cU=800,dU=3;class oP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>dU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xv._getInstance(oU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await rU(),!this.activeServiceWorker)return;this.sender=new nU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hp();return await lS(t,ch,"1"),await uS(t,ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>lS(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>uU(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=Jv(r,!1).getAll();return new id(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oP.type="LOCAL";const fU=oP;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e,t){return t?Yr(t):(tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends XA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return tl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return tl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return tl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function hU(e){return Y$(e.auth,new g0(e),e.bypassAuthState)}function vU(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),K$(n,new g0(e),e.bypassAuthState)}async function mU(e){const{auth:t,user:n}=e;return tt(n,t,"internal-error"),G$(n,new g0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hU;case"linkViaPopup":case"linkViaRedirect":return mU;case"reauthViaPopup":case"reauthViaRedirect":return vU;default:Er(this.auth,"internal-error")}}resolve(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new td(2e3,1e4);async function uP(e,t,n){if(qr(e.app))return Promise.reject(Zi(e,"operation-not-supported-in-this-environment"));const i=Qv(e);p$(e,t,v0);const r=aP(i,n);return new To(i,"signInViaPopup",t,r).executeNotNull()}class To extends lP{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return tt(t,this.auth,"internal-error"),t}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const t=m0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,gU.get())};t()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="pendingRedirect",Tf=new Map;class yU extends lP{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Tf.get(this.auth._key());if(!t){try{const i=await _U(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Tf.set(this.auth._key(),t)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _U(e,t){const n=kU(t),i=wU(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function bU(e,t){Tf.set(e._key(),t)}function wU(e){return Yr(e._redirectPersistence)}function kU(e){return If(pU,e.config.apiKey,e.name)}async function cP(e,t){return await Qv(e)._initializationPromise,dP(e,t,!1)}async function dP(e,t,n=!1){if(qr(e.app))return Promise.reject(Mo(e));const i=Qv(e),r=aP(i,t),o=await new yU(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=10*60*1e3;class CU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!fP(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Zi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=SU&&this.cachedEventUids.clear(),this.cachedEventUids.has(cS(t))}saveEventToCache(t){this.cachedEventUids.add(cS(t)),this.lastProcessedEventTime=Date.now()}}function cS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function fP({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fP(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(e,t={}){return Hl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xU=/^https?/;async function AU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await IU(e);for(const n of t)try{if(PU(n))return}catch{}Er(e,"unauthorized-domain")}function PU(e){const t=$p(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!xU.test(n))return!1;if(TU.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new td(3e4,6e4);function dS(){const e=pr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function RU(e){return new Promise((t,n)=>{var i,r,s;function o(){dS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dS(),n(Zi(e,"network-request-failed"))},timeout:VU.get()})}if(!((r=(i=pr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=j$("iframefcb");return pr()[a]=()=>{gapi.load?o():n(Zi(e,"network-request-failed"))},U$(`${H$()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw xf=null,t})}let xf=null;function DU(e){return xf=xf||RU(e),xf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new td(5e3,15e3),LU="__/auth/iframe",MU="emulator/auth/iframe",NU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BU(e){const t=e.config;tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?u0(t,MU):`https://${e.config.authDomain}/${LU}`,i={apiKey:t.apiKey,appName:e.name,v:so},r=FU.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ul(i).slice(1)}`}async function $U(e){const t=await DU(e),n=pr().gapi;return tt(n,e,"internal-error"),t.open({where:document.body,url:BU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NU,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Zi(e,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},OU.get());function l(){pr().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HU=500,jU=600,zU="_blank",WU="http://localhost";class fS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qU(e,t,n,i=HU,r=jU){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UU),{width:i.toString(),height:r.toString(),top:s,left:o}),u=ei().toLowerCase();n&&(a=zA(u)?zU:n),HA(u)&&(t=t||WU,l.scrollbars="yes");const c=Object.entries(l).reduce((v,[m,g])=>`${v}${m}=${g},`,"");if(D$(u)&&a!=="_self")return GU(t||"",a),new fS(null);const d=window.open(t||"",a,c);tt(d,e,"popup-blocked");try{d.focus()}catch{}return new fS(d)}function GU(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="__/auth/handler",YU="emulator/auth/handler",QU=encodeURIComponent("fac");async function hS(e,t,n,i,r,s){tt(e.config.authDomain,e,"auth-domain-config-required"),tt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:so,eventId:r};if(t instanceof v0){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Op(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof nd){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${QU}=${encodeURIComponent(l)}`:"";return`${XU(e)}?${Ul(a).slice(1)}${u}`}function XU({config:e}){return e.emulator?u0(e,YU):`https://${e.authDomain}/${KU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class JU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nP,this._completeRedirectFn=dP,this._overrideRedirectResult=bU}async _openPopup(t,n,i,r){var s;ss((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hS(t,n,i,$p(),r);return qU(t,o,m0())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await hS(t,n,i,$p(),r);return iU(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ss(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await $U(t),i=new CU(t);return n.register("authEvent",r=>(tt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(gg,{type:gg},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[gg];o!==void 0&&n(!!o),Er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return YA()||jA()||f0()}}const ZU=JU;var vS="@firebase/auth",mS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nH(e){Cr(new rr("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;tt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QA(e)},u=new B$(i,r,s,l);return W$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Cr(new rr("auth-internal",t=>{const n=Qv(t.getProvider("auth").getImmediate());return(i=>new eH(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(vS,mS,tH(e)),Ci(vS,mS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH=5*60;jB("authIdTokenMaxAge");function rH(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}$$({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=Zi("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",rH().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nH("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=new Map,oH={activated:!1,tokenObservers:[]};function sr(e){return sH.get(e)||Object.assign({},oH)}const gS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(t,n,i,r,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new pc,this.pending.promise.catch(n=>{}),await lH(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new pc,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function lH(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},fh=new $l("appCheck","AppCheck",uH);function hP(e){if(!sr(e).activated)throw fh.create("use-before-activation",{appName:e.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH="firebase-app-check-database",dH=1,jp="firebase-app-check-store";let Qd=null;function fH(){return Qd||(Qd=new Promise((e,t)=>{try{const n=indexedDB.open(cH,dH);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(fh.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{const r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(jp,{keyPath:"compositeKey"})}}}catch(n){t(fh.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Qd)}function hH(e,t){return vH(mH(e),t)}async function vH(e,t){const i=(await fH()).transaction(jp,"readwrite"),s=i.objectStore(jp).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var u;a(fh.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}function mH(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new ed("@firebase/app-check");function pS(e,t){return EA()?hH(e,t).catch(n=>{zp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH={error:"UNKNOWN_ERROR"};function pH(e){return Gv.encodeString(JSON.stringify(e),!1)}async function Wp(e,t=!1){const n=e.app;hP(n);const i=sr(n);let r=i.token,s;if(r&&!Tu(r)&&(i.token=void 0,r=void 0),!r){const l=await i.cachedTokenPromise;l&&(Tu(l)?r=l:await pS(n,void 0))}if(!t&&r&&Tu(r))return{token:r.token};let o=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=await sr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?zp.warn(l.message):zp.error(l),s=l}let a;return r?s?Tu(r)?a={token:r.token,internalError:s}:a=_S(s):(a={token:r.token},i.token=r,await pS(n,r)):a=_S(s),o&&wH(n,a),a}async function yH(e){const t=e.app;hP(t);const{provider:n}=sr(t);{const{token:i}=await n.getToken();return{token:i}}}function _H(e,t,n,i){const{app:r}=e,s=sr(r),o={next:n,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Tu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),yS(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>yS(e))}function vP(e,t){const n=sr(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function yS(e){const{app:t}=e,n=sr(t);let i=n.tokenRefresher;i||(i=bH(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function bH(e){const{app:t}=e;return new aH(async()=>{const n=sr(t);let i;if(n.token?i=await Wp(e,!0):i=await Wp(e),i.error)throw i.error;if(i.internalError)throw i.internalError},()=>!0,()=>{const n=sr(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},gS.RETRIAL_MIN_WAIT,gS.RETRIAL_MAX_WAIT)}function wH(e,t){const n=sr(e).tokenObservers;for(const i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Tu(e){return e.expireTimeMillis-Date.now()>0}function _S(e){return{token:pH(gH),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=sr(this.app);for(const n of t)vP(this.app,n.next);return Promise.resolve()}}function SH(e,t){return new kH(e,t)}function CH(e){return{getToken:t=>Wp(e,t),getLimitedUseToken:()=>yH(e),addTokenListener:t=>_H(e,"INTERNAL",t),removeTokenListener:t=>vP(e.app,t)}}const EH="@firebase/app-check",IH="0.8.8",TH="app-check",bS="app-check-internal";function xH(){Cr(new rr(TH,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return SH(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(bS).initialize()})),Cr(new rr(bS,e=>{const t=e.getProvider("app-check").getImmediate();return CH(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ci(EH,IH)}xH();var AH="firebase",PH="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(AH,PH,"app");const mP=Symbol("firebaseApp");function Zv(e){return Rl()&&Ze(mP,null)||VA(e)}const hr=()=>{},VH=typeof window<"u";function p0(e,t){return t.split(".").reduce((n,i)=>n&&n[i],e)}function RH(e,t,n){const i=(""+t).split("."),r=i.pop(),s=i.reduce((o,a)=>o&&o[a],e);if(s!=null)return Array.isArray(s)?s.splice(Number(r),1,n):s[r]=n}function ya(e){return!!e&&typeof e=="object"}const DH=Object.prototype;function OH(e){return ya(e)&&Object.getPrototypeOf(e)===DH}function y0(e){return ya(e)&&e.type==="document"}function LH(e){return ya(e)&&e.type==="collection"}function MH(e){return y0(e)||LH(e)}function NH(e){return ya(e)&&e.type==="query"}function FH(e){return ya(e)&&"ref"in e}function BH(e){return ya(e)&&typeof e.bucket=="string"}function $H(e,t){let n;return()=>{if(!n)return n=!0,e(t())}}const UH=Symbol.for("v-scx");function HH(){return!!Ze(UH,0)}const Xd=new WeakMap;function jH(e,t){if(!Xd.has(e)){const n=Fc(!0);Xd.set(e,n);const{unmount:i}=t;t.unmount=()=>{i.call(t),n.stop(),Xd.delete(e)}}return Xd.get(e)}const gP=new WeakMap;function jl(e){return gP.get(Zv(e))}const Jd=new WeakMap;function zH(e){const t=Zv(e);if(!Jd.has(t)){let n;const r=[new Promise(s=>{n=s}),s=>{Jd.set(t,s),n(s.value)}];Jd.set(t,r)}return Jd.get(t)}function WH(e,t){Q$(t,n=>{const i=zH();e.value=n,Array.isArray(i)&&i[1](e)})}var wS={};const kS="@firebase/database",SS="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pP="";function qH(e){pP=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:yc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ys(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new GH(t)}}catch{}return new KH},xo=yP("localStorage"),YH=yP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=new ed("@firebase/database"),QH=function(){let e=1;return function(){return e++}}(),_P=function(e){const t=a7(e),n=new n7;n.update(t);const i=n.digest();return Gv.encodeByteArray(i)},rd=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=rd.apply(null,i):typeof i=="object"?t+=Pn(i):t+=i,t+=" "}return t};let $u=null,CS=!0;const XH=function(e,t){De(!t,"Can't turn on custom loggers persistently."),nl.logLevel=lt.VERBOSE,$u=nl.log.bind(nl)},qn=function(...e){if(CS===!0&&(CS=!1,$u===null&&YH.get("logging_enabled")===!0&&XH()),$u){const t=rd.apply(null,e);$u(t)}},sd=function(e){return function(...t){qn(e,...t)}},qp=function(...e){const t="FIREBASE INTERNAL ERROR: "+rd(...e);nl.error(t)},Jo=function(...e){const t=`FIREBASE FATAL ERROR: ${rd(...e)}`;throw nl.error(t),new Error(t)},Ei=function(...e){const t="FIREBASE WARNING: "+rd(...e);nl.warn(t)},JH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},bP=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ZH=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pl="[MIN_NAME]",Zo="[MAX_NAME]",zl=function(e,t){if(e===t)return 0;if(e===pl||t===Zo)return-1;if(t===pl||e===Zo)return 1;{const n=ES(e),i=ES(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},ej=function(e,t){return e===t?0:e<t?-1:1},pu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Pn(t))},_0=function(e){if(typeof e!="object"||e===null)return Pn(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Pn(t[i]),n+=":",n+=_0(e[t[i]]);return n+="}",n},wP=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Ui(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const kP=function(e){De(!bP(e),"Invalid JSON number");const t=11,n=52,i=(1<<t-1)-1;let r,s,o,a,l;e===0?(s=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let v=parseInt(c.substr(l,8),2).toString(16);v.length===1&&(v="0"+v),d=d+v}return d.toLowerCase()},tj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},ij=new RegExp("^-?(0*)\\d{1,10}$"),rj=-2147483648,sj=2147483647,ES=function(e){if(ij.test(e)){const t=Number(e);if(t>=rj&&t<=sj)return t}return null},od=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ei("Exception was thrown by user callback.",n),t},Math.floor(0))}},oj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uu=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ei(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ei(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="5",SP="v",CP="s",EP="r",IP="f",TP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xP="ls",AP="p",Gp="ac",PP="websocket",VP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(t,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xo.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function cj(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function RP(e,t,n){De(typeof t=="string","typeof type must == string"),De(typeof n=="object","typeof params must == object");let i;if(t===PP)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===VP)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);cj(e)&&(n.ns=e.namespace);const r=[];return Ui(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.counters_={}}incrementCounter(t,n=1){ys(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return LB(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg={},yg={};function w0(e){const t=e.toString();return pg[t]||(pg[t]=new dj),pg[t]}function fj(e,t){const n=e.toString();return yg[n]||(yg[n]=t()),yg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&od(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="start",vj="close",mj="pLPCommand",gj="pRTLPCB",DP="id",OP="pw",LP="ser",pj="cb",yj="seg",_j="ts",bj="d",wj="dframe",MP=1870,NP=30,kj=MP-NP,Sj=25e3,Cj=3e4;class Wa{constructor(t,n,i,r,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sd(t),this.stats_=w0(n),this.urlFn=l=>(this.appCheckToken&&(l[Gp]=this.appCheckToken),RP(n,VP,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hj(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Cj)),ZH(()=>{if(this.isClosed_)return;this.scriptTagHolder=new k0((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===IS)this.id=a,this.password=l;else if(o===vj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[IS]="t",i[LP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[pj]=this.scriptTagHolder.uniqueCallbackIdentifier),i[SP]=b0,this.transportSessionId&&(i[CP]=this.transportSessionId),this.lastSessionId&&(i[xP]=this.lastSessionId),this.applicationId&&(i[AP]=this.applicationId),this.appCheckToken&&(i[Gp]=this.appCheckToken),typeof location<"u"&&location.hostname&&TP.test(location.hostname)&&(i[EP]=IP);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wa.forceAllow_=!0}static forceDisallow(){Wa.forceDisallow_=!0}static isAvailable(){return Wa.forceAllow_?!0:!Wa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tj()&&!nj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Pn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=bA(n),r=wP(i,kj);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[wj]="t",i[DP]=t,i[OP]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Pn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class k0{constructor(t,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=QH(),window[mj+this.uniqueCallbackIdentifier]=t,window[gj+this.uniqueCallbackIdentifier]=n,this.myIFrame=k0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qn("frame writing exception"),a.stack&&qn(a.stack),qn(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||qn("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[DP]=this.myID,t[OP]=this.myPW,t[LP]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NP+i.length<=MP;){const o=this.pendingSegs.shift();i=i+"&"+yj+r+"="+o.seg+"&"+_j+r+"="+o.ts+"&"+bj+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Sj)),s=()=>{clearTimeout(r),i()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{qn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=16384,Ij=45e3;let hh=null;typeof MozWebSocket<"u"?hh=MozWebSocket:typeof WebSocket<"u"&&(hh=WebSocket);class Ki{constructor(t,n,i,r,s,o,a){this.connId=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sd(this.connId),this.stats_=w0(n),this.connURL=Ki.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,i,r,s){const o={};return o[SP]=b0,typeof location<"u"&&location.hostname&&TP.test(location.hostname)&&(o[EP]=IP),n&&(o[CP]=n),i&&(o[xP]=i),r&&(o[Gp]=r),s&&(o[AP]=s),RP(t,PP,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xo.set("previous_websocket_failure",!0);try{let i;CA(),this.mySock=new hh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&hh!==null&&!Ki.forceDisallow_}static previouslyFailed(){return xo.isInMemoryStorage||xo.get("previous_websocket_failure")===!0}markConnectionHealthy(){xo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=yc(n);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(De(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const n=Pn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=wP(n,Ej);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ij))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ki.responsesRequiredToBeHealthy=2;Ki.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wa,Ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ki&&Ki.isAvailable();let i=n&&!Ki.previouslyFailed();if(t.webSocketOnly&&(n||Ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ki];else{const r=this.transports_=[];for(const s of wc.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);wc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}wc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=6e4,xj=5e3,Aj=10*1024,Pj=100*1024,_g="t",TS="d",Vj="s",xS="r",Rj="e",AS="o",PS="a",VS="n",RS="p",Dj="h";class Oj{constructor(t,n,i,r,s,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sd("c:"+this.id+":"),this.transportManager_=new wc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Uu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Pj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Aj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(_g in t){const n=t[_g];n===PS?this.upgradeIfSecondaryHealthy_():n===xS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===AS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=pu("t",t),i=pu("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:RS,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:PS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=pu("t",t),i=pu("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=pu(_g,t);if(TS in t){const i=t[TS];if(n===Dj){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===VS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Vj?this.onConnectionShutdown_(i):n===xS?this.onReset_(i):n===Rj?qp("Server Error: "+i):n===AS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qp("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),b0!==i&&Ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Uu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Tj))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:RS,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.allowedEvents_=t,this.listeners_={},De(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});const r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(t){De(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends BP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!r0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vh}getInitialEvent(t){return De(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=32,OS=768;class jt{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Pt(){return new jt("")}function vt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Gs(e){return e.pieces_.length-e.pieceNum_}function $t(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new jt(e.pieces_,t)}function $P(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lj(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function UP(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function HP(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new jt(t,0)}function pn(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof jt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new jt(n,0)}function dt(e){return e.pieceNum_>=e.pieces_.length}function Mi(e,t){const n=vt(e),i=vt(t);if(n===null)return t;if(n===i)return Mi($t(e),$t(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function jP(e,t){if(Gs(e)!==Gs(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function Yi(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Gs(e)>Gs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class Mj{constructor(t,n){this.errorPrefix_=n,this.parts_=UP(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Yv(this.parts_[i]);zP(this)}}function Nj(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Yv(t),zP(e)}function Fj(e){const t=e.parts_.pop();e.byteLength_-=Yv(t),e.parts_.length>0&&(e.byteLength_-=1)}function zP(e){if(e.byteLength_>OS)throw new Error(e.errorPrefix_+"has a key path longer than "+OS+" bytes ("+e.byteLength_+").");if(e.parts_.length>DS)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+DS+") or object contains a cycle "+bo(e))}function bo(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends BP{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new S0}getInitialEvent(t){return De(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=1e3,Bj=60*5*1e3,LS=30*1e3,$j=1.3,Uj=3e4,Hj="server_kill",MS=3;class Xr extends FP{constructor(t,n,i,r,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Xr.nextPersistentConnectionId_++,this.log_=sd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yu,this.maxReconnectDelay_=Bj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!CA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");S0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&vh.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,i){const r=++this.requestNumber_,s={r,a:t,b:n};this.log_(Pn(s)),De(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(t){this.initConnection_();const n=new pc,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,i,r){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),De(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),De(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:t,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(t){const n=t.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Xr.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&ys(t,"w")){const i=ml(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||t7(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=LS)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=e7(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,i=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(t,n){const i=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),De(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,t._queryObject,n)}sendUnlisten_(t,n,i,r){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:i})}onDisconnectMerge(t,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:i})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(t,n,i,r){this.putInternal("p",t,n,i,r)}merge(t,n,i,r){this.putInternal("m",t,n,i,r)}putInternal(t,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Pn(t));const n=t.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):qp("Unrecognized action received from server: "+Pn(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){De(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Uj&&(this.reconnectDelay_=yu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$j)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Xr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(d){De(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,v]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?qn("getToken() completed but was canceled"):(qn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=v&&v.token,a=new Oj(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,m=>{Ei(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hj)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ei(d),l())}}}interrupt(t){qn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Op(this.interruptReasons_)&&(this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let i;n?i=n.map(s=>_0(s)).join("$"):i="default";const r=this.removeListen_(t,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,n){const i=new jt(t).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(t,n){qn("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=MS&&(this.reconnectDelay_=LS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){qn("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=MS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+pP.replace(/\./g,"-")]=1,r0()?t["framework.cordova"]=1:SA()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vh.getInstance().currentlyOnline();return Op(this.interruptReasons_)&&t}}Xr.nextPersistentConnectionId_=0;Xr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new mt(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const i=new mt(pl,t),r=new mt(pl,n);return this.compare(i,r)!==0}minPost(){return mt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd;class WP extends em{static get __EMPTY_NODE(){return Zd}static set __EMPTY_NODE(t){Zd=t}compare(t,n){return zl(t.name,n.name)}isDefinedOn(t){throw Bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return mt.MIN}maxPost(){return new mt(Zo,Zd)}makePost(t,n){return De(typeof t=="string","KeyIndex indexValue must always be a string."),new mt(t,Zd)}toString(){return".key"}}const il=new WP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=class{constructor(t,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},yi=class xu{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??xu.RED,this.left=r??vr.EMPTY_NODE,this.right=s??vr.EMPTY_NODE}copy(t,n,i,r,s){return new xu(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return vr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let i,r;if(i=this,n(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(t,i.key)===0){if(i.right.isEmpty())return vr.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,xu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,xu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}};yi.RED=!0;yi.BLACK=!1;class jj{copy(t,n,i,r,s){return this}insert(t,n,i){return new yi(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let vr=class Af{constructor(t,n=Af.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Af(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,yi.BLACK,null,null))}remove(t){return new Af(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yi.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ef(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ef(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ef(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ef(this.root_,null,this.comparator_,!0,t)}};vr.EMPTY_NODE=new jj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(e,t){return zl(e.name,t.name)}function C0(e,t){return zl(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp;function Wj(e){Kp=e}const qP=function(e){return typeof e=="number"?"number:"+kP(e):"string:"+e},GP=function(e){if(e.isLeafNode()){const t=e.val();De(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ys(t,".sv"),"Priority must be a string or number.")}else De(e===Kp||e.isEmpty(),"priority of unexpected type.");De(e===Kp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NS;class mn{constructor(t,n=mn.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,De(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GP(this.priorityNode_)}static set __childrenNodeConstructor(t){NS=t}static get __childrenNodeConstructor(){return NS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new mn(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:mn.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return dt(t)?this:vt(t)===".priority"?this.priorityNode_:mn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:mn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const i=vt(t);return i===null?n:n.isEmpty()&&i!==".priority"?this:(De(i!==".priority"||Gs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,mn.__childrenNodeConstructor.EMPTY_NODE.updateChild($t(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+qP(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=kP(this.value_):t+=this.value_,this.lazyHash_=_P(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===mn.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof mn.__childrenNodeConstructor?-1:(De(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,i=typeof this.value_,r=mn.VALUE_TYPE_ORDER.indexOf(n),s=mn.VALUE_TYPE_ORDER.indexOf(i);return De(r>=0,"Unknown leaf type: "+n),De(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}mn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KP,YP;function qj(e){KP=e}function Gj(e){YP=e}class Kj extends em{compare(t,n){const i=t.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?zl(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return mt.MIN}maxPost(){return new mt(Zo,new mn("[PRIORITY-POST]",YP))}makePost(t,n){const i=KP(t);return new mt(n,new mn("[PRIORITY-POST]",i))}toString(){return".priority"}}const Jn=new Kj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=Math.log(2);class Qj{constructor(t){const n=s=>parseInt(Math.log(s)/Yj,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const mh=function(e,t,n,i){e.sort(t);const r=function(l,u){const c=u-l;let d,v;if(c===0)return null;if(c===1)return d=e[l],v=n?n(d):d,new yi(v,d.node,yi.BLACK,null,null);{const m=parseInt(c/2,10)+l,g=r(l,m),p=r(m+1,u);return d=e[m],v=n?n(d):d,new yi(v,d.node,yi.BLACK,g,p)}},s=function(l){let u=null,c=null,d=e.length;const v=function(g,p){const y=d-g,_=d;d-=g;const k=r(y+1,_),A=e[y],T=n?n(A):A;m(new yi(T,A.node,p,null,k))},m=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const p=l.nextBitIsOne(),y=Math.pow(2,l.count-(g+1));p?v(y,yi.BLACK):(v(y,yi.BLACK),v(y,yi.RED))}return c},o=new Qj(e.length),a=s(o);return new vr(i||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg;const Na={};class Qr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return De(Na&&Jn,"ChildrenNode.ts has not been loaded"),bg=bg||new Qr({".priority":Na},{".priority":Jn}),bg}get(t){const n=ml(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof vr?n:null}hasIndex(t){return ys(this.indexSet_,t.toString())}addIndex(t,n){De(t!==il,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(mt.Wrap);let o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=mh(i,t.getCompare()):a=Na;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Qr(c,u)}addToIndexes(t,n){const i=rh(this.indexes_,(r,s)=>{const o=ml(this.indexSet_,s);if(De(o,"Missing index implementation for "+s),r===Na)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(mt.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),mh(a,o.getCompare())}else return Na;else{const a=n.get(t.name);let l=r;return a&&(l=l.remove(new mt(t.name,a))),l.insert(t,t.node)}});return new Qr(i,this.indexSet_)}removeFromIndexes(t,n){const i=rh(this.indexes_,r=>{if(r===Na)return r;{const s=n.get(t.name);return s?r.remove(new mt(t.name,s)):r}});return new Qr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;class Et{constructor(t,n,i){this.children_=t,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&GP(this.priorityNode_),this.children_.isEmpty()&&De(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _u||(_u=new Et(new vr(C0),null,Qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_u}updatePriority(t){return this.children_.isEmpty()?this:new Et(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?_u:n}}getChild(t){const n=vt(t);return n===null?this:this.getImmediateChild(n).getChild($t(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(De(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const i=new mt(t,n);let r,s;n.isEmpty()?(r=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?_u:this.priorityNode_;return new Et(r,o,s)}}updateChild(t,n){const i=vt(t);if(i===null)return n;{De(vt(t)!==".priority"||Gs(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild($t(t),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(Jn,(o,a)=>{n[o]=a.val(t),i++,s&&Et.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!t&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+qP(this.getPriority().val())+":"),this.forEachChild(Jn,(n,i)=>{const r=i.hash();r!==""&&(t+=":"+n+":"+r)}),this.lazyHash_=t===""?"":_P(t)}return this.lazyHash_}getPredecessorChildName(t,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new mt(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new mt(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new mt(n,this.children_.get(n)):null}forEachChild(t,n){const i=this.resolveIndex_(t);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,mt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,mt.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,t)>0;)r.getNext(),s=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ad?-1:0}withIndex(t){if(t===il||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Et(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===il||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Jn),r=n.getIterator(Jn);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===il?null:this.indexMap_.get(t.toString())}}Et.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Xj extends Et{constructor(){super(new vr(C0),Et.EMPTY_NODE,Qr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Et.EMPTY_NODE}isEmpty(){return!1}}const ad=new Xj;Object.defineProperties(mt,{MIN:{value:new mt(pl,Et.EMPTY_NODE)},MAX:{value:new mt(Zo,ad)}});WP.__EMPTY_NODE=Et.EMPTY_NODE;mn.__childrenNodeConstructor=Et;Wj(ad);Gj(ad);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=!0;function Gn(e,t=null){if(e===null)return Et.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),De(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new mn(n,Gn(t))}if(!(e instanceof Array)&&Jj){const n=[];let i=!1;if(Ui(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Gn(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new mt(o,l)))}}),n.length===0)return Et.EMPTY_NODE;const s=mh(n,zj,o=>o.name,C0);if(i){const o=mh(n,Jn.getCompare());return new Et(s,Gn(t),new Qr({".priority":o},{".priority":Jn}))}else return new Et(s,Gn(t),Qr.Default)}else{let n=Et.EMPTY_NODE;return Ui(e,(i,r)=>{if(ys(e,i)&&i.substring(0,1)!=="."){const s=Gn(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Gn(t))}}qj(Gn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj extends em{constructor(t){super(),this.indexPath_=t,De(!dt(t)&&vt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const i=this.extractChild(t.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?zl(t.name,n.name):s}makePost(t,n){const i=Gn(t),r=Et.EMPTY_NODE.updateChild(this.indexPath_,i);return new mt(n,r)}maxPost(){const t=Et.EMPTY_NODE.updateChild(this.indexPath_,ad);return new mt(Zo,t)}toString(){return UP(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez extends em{compare(t,n){const i=t.node.compareTo(n.node);return i===0?zl(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return mt.MIN}maxPost(){return mt.MAX}makePost(t,n){const i=Gn(t);return new mt(n,i)}toString(){return".value"}}const tz=new ez;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(e){return{type:"value",snapshotNode:e}}function iz(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function rz(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function FS(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function sz(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return De(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return De(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pl}hasEnd(){return this.endSet_}getIndexEndValue(){return De(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return De(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return De(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jn}copy(){const t=new E0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function BS(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Jn?n="$priority":e.index_===tz?n="$value":e.index_===il?n="$key":(De(e.index_ instanceof Zj,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Pn(n),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";t[i]=Pn(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Pn(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Pn(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Pn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function $S(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Jn&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends FP{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=sd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(De(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=gh.getListenId_(t,i),a={};this.listens_[o]=a;const l=BS(t._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),ml(this.listens_,o)===a){let v;u?u===401?v="permission_denied":v="rest_error:"+u:v="ok",r(v,null)}})}unlisten(t,n){const i=gh.getListenId_(t,n);delete this.listens_[i]}get(t){const n=BS(t._queryParams),i=t._path.toString(),r=new pc;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ul(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=yc(a.responseText)}catch{Ei("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ei("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.rootNode_=Et.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(){return{value:null,children:new Map}}function QP(e,t,n){if(dt(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const i=vt(t);e.children.has(i)||e.children.set(i,ph());const r=e.children.get(i);t=$t(t),QP(r,t,n)}}function Yp(e,t,n){e.value!==null?n(t,e.value):az(e,(i,r)=>{const s=new jt(t.toString()+"/"+i);Yp(r,s,n)})}function az(e,t){e.children.forEach((n,i)=>{t(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ui(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=10*1e3,uz=30*1e3,cz=5*60*1e3;class dz{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new lz(t);const i=US+(uz-US)*Math.random();Uu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),n={};let i=!1;Ui(t,(r,s)=>{s>0&&ys(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Uu(this.reportStats_.bind(this),Math.floor(Math.random()*2*cz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mr||(mr={}));function XP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function JP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ZP(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=mr.ACK_USER_WRITE,this.source=XP()}operationForChild(t){if(dt(this.path)){if(this.affectedTree.value!=null)return De(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new jt(t));return new yh(Pt(),n,this.revert)}}else return De(vt(this.path)===t,"operationForChild called for unrelated child."),new yh($t(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=mr.OVERWRITE}operationForChild(t){return dt(this.path)?new ea(this.source,Pt(),this.snap.getImmediateChild(t)):new ea(this.source,$t(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=mr.MERGE}operationForChild(t){if(dt(this.path)){const n=this.children.subtree(new jt(t));return n.isEmpty()?null:n.value?new ea(this.source,Pt(),n.value):new kc(this.source,Pt(),n)}else return De(vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new kc(this.source,$t(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(dt(t))return this.isFullyInitialized()&&!this.filtered_;const n=vt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function fz(e,t,n,i){const r=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sz(o.childName,o.snapshotNode))}),bu(e,r,"child_removed",t,i,n),bu(e,r,"child_added",t,i,n),bu(e,r,"child_moved",s,i,n),bu(e,r,"child_changed",t,i,n),bu(e,r,"value",t,i,n),r}function bu(e,t,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>vz(e,a,l)),o.forEach(a=>{const l=hz(e,a,s);r.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function hz(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function vz(e,t,n){if(t.childName==null||n.childName==null)throw Bl("Should only compare child_ events.");const i=new mt(t.childName,t.snapshotNode),r=new mt(n.childName,n.snapshotNode);return e.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e,t){return{eventCache:e,serverCache:t}}function Hu(e,t,n,i){return eV(new I0(t,n,i),e.serverCache)}function tV(e,t,n,i){return eV(e.eventCache,new I0(t,n,i))}function Qp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ta(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg;const mz=()=>(wg||(wg=new vr(ej)),wg);class Bt{constructor(t,n=mz()){this.value=t,this.children=n}static fromObject(t){let n=new Bt(null);return Ui(t,(i,r)=>{n=n.set(new jt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Pt(),value:this.value};if(dt(t))return null;{const i=vt(t),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue($t(t),n);return s!=null?{path:pn(new jt(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(dt(t))return this;{const n=vt(t),i=this.children.get(n);return i!==null?i.subtree($t(t)):new Bt(null)}}set(t,n){if(dt(t))return new Bt(n,this.children);{const i=vt(t),s=(this.children.get(i)||new Bt(null)).set($t(t),n),o=this.children.insert(i,s);return new Bt(this.value,o)}}remove(t){if(dt(t))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const n=vt(t),i=this.children.get(n);if(i){const r=i.remove($t(t));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Bt(null):new Bt(this.value,s)}else return this}}get(t){if(dt(t))return this.value;{const n=vt(t),i=this.children.get(n);return i?i.get($t(t)):null}}setTree(t,n){if(dt(t))return n;{const i=vt(t),s=(this.children.get(i)||new Bt(null)).setTree($t(t),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Bt(this.value,o)}}fold(t){return this.fold_(Pt(),t)}fold_(t,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(pn(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,Pt(),n)}findOnPath_(t,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(dt(t))return null;{const s=vt(t),o=this.children.get(s);return o?o.findOnPath_($t(t),pn(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Pt(),n)}foreachOnPath_(t,n,i){if(dt(t))return this;{this.value&&i(n,this.value);const r=vt(t),s=this.children.get(r);return s?s.foreachOnPath_($t(t),pn(n,r),i):new Bt(null)}}foreach(t){this.foreach_(Pt(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(pn(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t){this.writeTree_=t}static empty(){return new er(new Bt(null))}}function ju(e,t,n){if(dt(t))return new er(new Bt(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){const r=i.path;let s=i.value;const o=Mi(r,t);return s=s.updateChild(o,n),new er(e.writeTree_.set(r,s))}else{const r=new Bt(n),s=e.writeTree_.setTree(t,r);return new er(s)}}}function HS(e,t,n){let i=e;return Ui(n,(r,s)=>{i=ju(i,pn(t,r),s)}),i}function jS(e,t){if(dt(t))return er.empty();{const n=e.writeTree_.setTree(t,new Bt(null));return new er(n)}}function Xp(e,t){return _a(e,t)!=null}function _a(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Mi(n.path,t)):null}function zS(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Jn,(i,r)=>{t.push(new mt(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new mt(i,r.value))}),t}function Hs(e,t){if(dt(t))return e;{const n=_a(e,t);return n!=null?new er(new Bt(n)):new er(e.writeTree_.subtree(t))}}function Jp(e){return e.writeTree_.isEmpty()}function yl(e,t){return nV(Pt(),e.writeTree_,t)}function nV(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{r===".priority"?(De(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=nV(pn(e,r),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(pn(e,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(e,t){return lV(t,e)}function gz(e,t,n,i,r){De(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=ju(e.visibleWrites,t,n)),e.lastWriteId=i}function pz(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}function yz(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);De(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&_z(a,i.path)?r=!1:Yi(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return bz(e),!0;if(i.snap)e.visibleWrites=jS(e.visibleWrites,i.path);else{const a=i.children;Ui(a,l=>{e.visibleWrites=jS(e.visibleWrites,pn(i.path,l))})}return!0}else return!1}function _z(e,t){if(e.snap)return Yi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Yi(pn(e.path,n),t))return!0;return!1}function bz(e){e.visibleWrites=rV(e.allWrites,wz,Pt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function wz(e){return e.visible}function rV(e,t,n){let i=er.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const o=s.path;let a;if(s.snap)Yi(n,o)?(a=Mi(n,o),i=ju(i,a,s.snap)):Yi(o,n)&&(a=Mi(o,n),i=ju(i,Pt(),s.snap.getChild(a)));else if(s.children){if(Yi(n,o))a=Mi(n,o),i=HS(i,a,s.children);else if(Yi(o,n))if(a=Mi(o,n),dt(a))i=HS(i,Pt(),s.children);else{const l=ml(s.children,vt(a));if(l){const u=l.getChild($t(a));i=ju(i,Pt(),u)}}}else throw Bl("WriteRecord should have .snap or .children")}}return i}function sV(e,t,n,i,r){if(!i&&!r){const s=_a(e.visibleWrites,t);if(s!=null)return s;{const o=Hs(e.visibleWrites,t);if(Jp(o))return n;if(n==null&&!Xp(o,Pt()))return null;{const a=n||Et.EMPTY_NODE;return yl(o,a)}}}else{const s=Hs(e.visibleWrites,t);if(!r&&Jp(s))return n;if(!r&&n==null&&!Xp(s,Pt()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(Yi(u.path,t)||Yi(t,u.path))},a=rV(e.allWrites,o,t),l=n||Et.EMPTY_NODE;return yl(a,l)}}}function kz(e,t,n){let i=Et.EMPTY_NODE;const r=_a(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Jn,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Hs(e.visibleWrites,t);return n.forEachChild(Jn,(o,a)=>{const l=yl(Hs(s,new jt(o)),a);i=i.updateImmediateChild(o,l)}),zS(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Hs(e.visibleWrites,t);return zS(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function Sz(e,t,n,i,r){De(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=pn(t,n);if(Xp(e.visibleWrites,s))return null;{const o=Hs(e.visibleWrites,s);return Jp(o)?r.getChild(n):yl(o,r.getChild(n))}}function Cz(e,t,n,i){const r=pn(t,n),s=_a(e.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Hs(e.visibleWrites,r);return yl(o,i.getNode().getImmediateChild(n))}else return null}function Ez(e,t){return _a(e.visibleWrites,t)}function Iz(e,t,n,i,r,s,o){let a;const l=Hs(e.visibleWrites,t),u=_a(l,Pt());if(u!=null)a=u;else if(n!=null)a=yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),v=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let m=v.getNext();for(;m&&c.length<r;)d(m,i)!==0&&c.push(m),m=v.getNext();return c}else return[]}function Tz(){return{visibleWrites:er.empty(),allWrites:[],lastWriteId:-1}}function Zp(e,t,n,i){return sV(e.writeTree,e.treePath,t,n,i)}function oV(e,t){return kz(e.writeTree,e.treePath,t)}function WS(e,t,n,i){return Sz(e.writeTree,e.treePath,t,n,i)}function _h(e,t){return Ez(e.writeTree,pn(e.treePath,t))}function xz(e,t,n,i,r,s){return Iz(e.writeTree,e.treePath,t,n,i,r,s)}function T0(e,t,n){return Cz(e.writeTree,e.treePath,t,n)}function aV(e,t){return lV(pn(e.treePath,t),e.writeTree)}function lV(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,i=t.childName;De(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),De(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,FS(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,rz(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,iz(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,FS(i,t.snapshotNode,r.oldSnap));else throw Bl("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}}const uV=new Pz;class x0{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const i=this.optCompleteServerCache_!=null?new I0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T0(this.writes_,t,i)}}getChildAfterChild(t,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ta(this.viewCache_),s=xz(this.writes_,r,n,1,i,t);return s.length===0?null:s[0]}}function Vz(e,t){De(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),De(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Rz(e,t,n,i,r){const s=new Az;let o,a;if(n.type===mr.OVERWRITE){const u=n;u.source.fromUser?o=ey(e,t,u.path,u.snap,i,r,s):(De(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!dt(u.path),o=bh(e,t,u.path,u.snap,i,r,a,s))}else if(n.type===mr.MERGE){const u=n;u.source.fromUser?o=Oz(e,t,u.path,u.children,i,r,s):(De(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=ty(e,t,u.path,u.children,i,r,a,s))}else if(n.type===mr.ACK_USER_WRITE){const u=n;u.revert?o=Nz(e,t,u.path,i,r,s):o=Lz(e,t,u.path,u.affectedTree,i,r,s)}else if(n.type===mr.LISTEN_COMPLETE)o=Mz(e,t,n.path,i,s);else throw Bl("Unknown operation type: "+n.type);const l=s.getChanges();return Dz(t,o,l),{viewCache:o,changes:l}}function Dz(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Qp(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(nz(Qp(t)))}}function cV(e,t,n,i,r,s){const o=t.eventCache;if(_h(i,n)!=null)return t;{let a,l;if(dt(n))if(De(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=ta(t),c=u instanceof Et?u:Et.EMPTY_NODE,d=oV(i,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=Zp(i,ta(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=vt(n);if(u===".priority"){De(Gs(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=WS(i,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=$t(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const v=WS(i,n,o.getNode(),l);v!=null?d=o.getNode().getImmediateChild(u).updateChild(c,v):d=o.getNode().getImmediateChild(u)}else d=T0(i,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,r,s):a=o.getNode()}}return Hu(t,a,o.isFullyInitialized()||dt(n),e.filter.filtersNodes())}}function bh(e,t,n,i,r,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(dt(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),m,null)}else{const m=vt(n);if(!l.isCompleteForPath(n)&&Gs(n)>1)return t;const g=$t(n),y=l.getNode().getImmediateChild(m).updateChild(g,i);m===".priority"?u=c.updatePriority(l.getNode(),y):u=c.updateChild(l.getNode(),m,y,g,uV,null)}const d=tV(t,u,l.isFullyInitialized()||dt(n),c.filtersNodes()),v=new x0(r,d,s);return cV(e,d,n,r,v,a)}function ey(e,t,n,i,r,s,o){const a=t.eventCache;let l,u;const c=new x0(r,t,s);if(dt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),i,o),l=Hu(t,u,!0,e.filter.filtersNodes());else{const d=vt(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),i),l=Hu(t,u,a.isFullyInitialized(),a.isFiltered());else{const v=$t(n),m=a.getNode().getImmediateChild(d);let g;if(dt(v))g=i;else{const p=c.getCompleteChild(d);p!=null?$P(v)===".priority"&&p.getChild(HP(v)).isEmpty()?g=p:g=p.updateChild(v,i):g=Et.EMPTY_NODE}if(m.equals(g))l=t;else{const p=e.filter.updateChild(a.getNode(),d,g,v,c,o);l=Hu(t,p,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function qS(e,t){return e.eventCache.isCompleteForChild(t)}function Oz(e,t,n,i,r,s,o){let a=t;return i.foreach((l,u)=>{const c=pn(n,l);qS(t,vt(c))&&(a=ey(e,a,c,u,r,s,o))}),i.foreach((l,u)=>{const c=pn(n,l);qS(t,vt(c))||(a=ey(e,a,c,u,r,s,o))}),a}function GS(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function ty(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;dt(n)?u=i:u=new Bt(null).setTree(n,i);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,v)=>{if(c.hasChild(d)){const m=t.serverCache.getNode().getImmediateChild(d),g=GS(e,m,v);l=bh(e,l,new jt(d),g,r,s,o,a)}}),u.children.inorderTraversal((d,v)=>{const m=!t.serverCache.isCompleteForChild(d)&&v.value===null;if(!c.hasChild(d)&&!m){const g=t.serverCache.getNode().getImmediateChild(d),p=GS(e,g,v);l=bh(e,l,new jt(d),p,r,s,o,a)}}),l}function Lz(e,t,n,i,r,s,o){if(_h(r,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(dt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return bh(e,t,n,l.getNode().getChild(n),r,s,a,o);if(dt(n)){let u=new Bt(null);return l.getNode().forEachChild(il,(c,d)=>{u=u.set(new jt(c),d)}),ty(e,t,n,u,r,s,a,o)}else return t}else{let u=new Bt(null);return i.foreach((c,d)=>{const v=pn(n,c);l.isCompleteForPath(v)&&(u=u.set(c,l.getNode().getChild(v)))}),ty(e,t,n,u,r,s,a,o)}}function Mz(e,t,n,i,r){const s=t.serverCache,o=tV(t,s.getNode(),s.isFullyInitialized()||dt(n),s.isFiltered());return cV(e,o,n,i,uV,r)}function Nz(e,t,n,i,r,s){let o;if(_h(i,n)!=null)return t;{const a=new x0(i,t,r),l=t.eventCache.getNode();let u;if(dt(n)||vt(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=Zp(i,ta(t));else{const d=t.serverCache.getNode();De(d instanceof Et,"serverChildren would be complete if leaf node"),c=oV(i,d)}c=c,u=e.filter.updateFullNode(l,c,s)}else{const c=vt(n);let d=T0(i,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,$t(n),a,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,Et.EMPTY_NODE,$t(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Zp(i,ta(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||_h(i,Pt())!=null,Hu(t,u,o,e.filter.filtersNodes())}}function Fz(e,t){const n=ta(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!dt(t)&&!n.getImmediateChild(vt(t)).isEmpty())?n.getChild(t):null}function KS(e,t,n,i){t.type===mr.MERGE&&t.source.queryId!==null&&(De(ta(e.viewCache_),"We should always have a full cache before handling merges"),De(Qp(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=Rz(e.processor_,r,t,n,i);return Vz(e.processor_,s.viewCache),De(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Bz(e,s.changes,s.viewCache.eventCache.getNode())}function Bz(e,t,n,i){const r=e.eventRegistrations_;return fz(e.eventGenerator_,t,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YS;function $z(e){De(!YS,"__referenceConstructor has already been defined"),YS=e}function A0(e,t,n,i){const r=t.source.queryId;if(r!==null){const s=e.views.get(r);return De(s!=null,"SyncTree gave us an op for an invalid query."),KS(s,t,n,i)}else{let s=[];for(const o of e.views.values())s=s.concat(KS(o,t,n,i));return s}}function P0(e,t){let n=null;for(const i of e.views.values())n=n||Fz(i,t);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QS;function Uz(e){De(!QS,"__referenceConstructor has already been defined"),QS=e}class XS{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=Tz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hz(e,t,n,i,r){return gz(e.pendingWriteTree_,t,n,i,r),r?nm(e,new ea(XP(),t,n)):[]}function qa(e,t,n=!1){const i=pz(e.pendingWriteTree_,t);if(yz(e.pendingWriteTree_,t)){let s=new Bt(null);return i.snap!=null?s=s.set(Pt(),!0):Ui(i.children,o=>{s=s.set(new jt(o),!0)}),nm(e,new yh(i.path,s,n))}else return[]}function tm(e,t,n){return nm(e,new ea(JP(),t,n))}function jz(e,t,n){const i=Bt.fromObject(n);return nm(e,new kc(JP(),t,i))}function zz(e,t,n,i){const r=vV(e,i);if(r!=null){const s=mV(r),o=s.path,a=s.queryId,l=Mi(o,t),u=new ea(ZP(a),l,n);return gV(e,o,u)}else return[]}function Wz(e,t,n,i){const r=vV(e,i);if(r){const s=mV(r),o=s.path,a=s.queryId,l=Mi(o,t),u=Bt.fromObject(n),c=new kc(ZP(a),l,u);return gV(e,o,c)}else return[]}function dV(e,t,n){const r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Mi(o,t),u=P0(a,l);if(u)return u});return sV(r,t,s,n,!0)}function nm(e,t){return fV(t,e.syncPointTree_,null,iV(e.pendingWriteTree_,Pt()))}function fV(e,t,n,i){if(dt(e.path))return hV(e,t,n,i);{const r=t.get(Pt());n==null&&r!=null&&(n=P0(r,Pt()));let s=[];const o=vt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=aV(i,o);s=s.concat(fV(a,l,u,c))}return r&&(s=s.concat(A0(r,e,i,n))),s}}function hV(e,t,n,i){const r=t.get(Pt());n==null&&r!=null&&(n=P0(r,Pt()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=aV(i,o),c=e.operationForChild(o);c&&(s=s.concat(hV(c,a,l,u)))}),r&&(s=s.concat(A0(r,e,i,n))),s}function vV(e,t){return e.tagToQueryMap.get(t)}function mV(e){const t=e.indexOf("$");return De(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new jt(e.substr(0,t))}}function gV(e,t,n){const i=e.syncPointTree_.get(t);De(i,"Missing sync point for query tag that we're tracking");const r=iV(e.pendingWriteTree_,t);return A0(i,n,r,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new V0(n)}node(){return this.node_}}class R0{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=pn(this.path_,t);return new R0(this.syncTree_,n)}node(){return dV(this.syncTree_,this.path_)}}const qz=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},JS=function(e,t,n){if(!e||typeof e!="object")return e;if(De(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Gz(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Kz(e[".sv"],t);De(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Gz=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:De(!1,"Unexpected server value: "+e)}},Kz=function(e,t,n){e.hasOwnProperty("increment")||De(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;typeof i!="number"&&De(!1,"Unexpected increment value: "+i);const r=t.node();if(De(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},Yz=function(e,t,n,i){return D0(t,new R0(n,e),i)},Qz=function(e,t,n){return D0(e,new V0(t),n)};function D0(e,t,n){const i=e.getPriority().val(),r=JS(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=JS(o.getValue(),t,n);return a!==o.getValue()||r!==o.getPriority().val()?new mn(a,Gn(r)):e}else{const o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new mn(r))),o.forEachChild(Jn,(a,l)=>{const u=D0(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}}function L0(e,t){let n=t instanceof jt?t:new jt(t),i=e,r=vt(n);for(;r!==null;){const s=ml(i.node.children,r)||{children:{},childCount:0};i=new O0(r,i,s),n=$t(n),r=vt(n)}return i}function Wl(e){return e.node.value}function pV(e,t){e.node.value=t,ny(e)}function yV(e){return e.node.childCount>0}function Xz(e){return Wl(e)===void 0&&!yV(e)}function im(e,t){Ui(e.node.children,(n,i)=>{t(new O0(n,e,i))})}function _V(e,t,n,i){n&&!i&&t(e),im(e,r=>{_V(r,t,!0,i)}),n&&i&&t(e)}function Jz(e,t,n){let i=e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ld(e){return new jt(e.parent===null?e.name:ld(e.parent)+"/"+e.name)}function ny(e){e.parent!==null&&Zz(e.parent,e.name,e)}function Zz(e,t,n){const i=Xz(n),r=ys(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,ny(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,ny(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=/[\[\].#$\/\u0000-\u001F\u007F]/,tW=/[\[\].#$\u0000-\u001F\u007F]/,kg=10*1024*1024,bV=function(e){return typeof e=="string"&&e.length!==0&&!eW.test(e)},nW=function(e){return typeof e=="string"&&e.length!==0&&!tW.test(e)},iW=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nW(e)},wV=function(e,t,n){const i=n instanceof jt?new Mj(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+bo(i));if(typeof t=="function")throw new Error(e+"contains a function "+bo(i)+" with contents = "+t.toString());if(bP(t))throw new Error(e+"contains "+t.toString()+" "+bo(i));if(typeof t=="string"&&t.length>kg/3&&Yv(t)>kg)throw new Error(e+"contains a string greater than "+kg+" utf8 bytes "+bo(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,s=!1;if(Ui(t,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bV(o)))throw new Error(e+" contains an invalid key ("+o+") "+bo(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Nj(i,o),wV(e,a,i),Fj(i)}),r&&s)throw new Error(e+' contains ".value" child '+bo(i)+" in addition to actual children.")}},rW=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!bV(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iW(n))throw new Error(o7(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oW(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();n!==null&&!jP(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function ba(e,t,n){oW(e,n),aW(e,i=>Yi(i,t)||Yi(t,i))}function aW(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){const s=r.path;t(s)?(lW(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function lW(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const i=n.getEventRunner();$u&&qn("event: "+n.toString()),od(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="repo_interrupt",cW=25;class dW{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ph(),this.transactionQueueTree_=new O0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fW(e,t,n){if(e.stats_=w0(e.repoInfo_),e.forceRestClient_||oj())e.server_=new gh(e.repoInfo_,(i,r,s,o)=>{ZS(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>eC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pn(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new Xr(e.repoInfo_,t,(i,r,s,o)=>{ZS(e,i,r,s,o)},i=>{eC(e,i)},i=>{vW(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=fj(e.repoInfo_,()=>new dz(e.stats_,e.server_)),e.infoData_=new oz,e.infoSyncTree_=new XS({startListening:(i,r,s,o)=>{let a=[];const l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=tm(e.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),M0(e,"connected",!1),e.serverSyncTree_=new XS({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);ba(e.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function hW(e){const n=e.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kV(e){return qz({timestamp:hW(e)})}function ZS(e,t,n,i,r){e.dataUpdateCount++;const s=new jt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){const l=rh(n,u=>Gn(u));o=Wz(e.serverSyncTree_,s,l,r)}else{const l=Gn(n);o=zz(e.serverSyncTree_,s,l,r)}else if(i){const l=rh(n,u=>Gn(u));o=jz(e.serverSyncTree_,s,l)}else{const l=Gn(n);o=tm(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=F0(e,s)),ba(e.eventQueue_,a,o)}function eC(e,t){M0(e,"connected",t),t===!1&&gW(e)}function vW(e,t){Ui(t,(n,i)=>{M0(e,n,i)})}function M0(e,t,n){const i=new jt("/.info/"+t),r=Gn(n);e.infoData_.updateSnapshot(i,r);const s=tm(e.infoSyncTree_,i,r);ba(e.eventQueue_,i,s)}function mW(e){return e.nextWriteId_++}function gW(e){SV(e,"onDisconnectEvents");const t=kV(e),n=ph();Yp(e.onDisconnect_,Pt(),(r,s)=>{const o=Yz(r,s,e.serverSyncTree_,t);QP(n,r,o)});let i=[];Yp(n,Pt(),(r,s)=>{i=i.concat(tm(e.serverSyncTree_,r,s));const o=bW(e,r);F0(e,o)}),e.onDisconnect_=ph(),ba(e.eventQueue_,Pt(),i)}function pW(e){e.persistentConnection_&&e.persistentConnection_.interrupt(uW)}function SV(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),qn(n,...t)}function CV(e,t,n){return dV(e.serverSyncTree_,t,n)||Et.EMPTY_NODE}function N0(e,t=e.transactionQueueTree_){if(t||rm(e,t),Wl(t)){const n=IV(e,t);De(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&yW(e,ld(t),n)}else yV(t)&&im(t,n=>{N0(e,n)})}function yW(e,t,n){const i=n.map(u=>u.currentWriteId),r=CV(e,t,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];De(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Mi(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{SV(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let v=0;v<n.length;v++)n[v].status=2,c=c.concat(qa(e.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&d.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();rm(e,L0(e.transactionQueueTree_,t)),N0(e,e.transactionQueueTree_),ba(e.eventQueue_,t,c);for(let v=0;v<d.length;v++)od(d[v])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ei("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}F0(e,t)}},o)}function F0(e,t){const n=EV(e,t),i=ld(n),r=IV(e,n);return _W(e,r,i),i}function _W(e,t,n){if(t.length===0)return;const i=[];let r=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Mi(n,l.path);let c=!1,d;if(De(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,r=r.concat(qa(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=cW)c=!0,d="maxretry",r=r.concat(qa(e.serverSyncTree_,l.currentWriteId,!0));else{const v=CV(e,l.path,o);l.currentInputSnapshot=v;const m=t[a].update(v.val());if(m!==void 0){wV("transaction failed: Data returned ",m,l.path);let g=Gn(m);typeof m=="object"&&m!=null&&ys(m,".priority")||(g=g.updatePriority(v.getPriority()));const y=l.currentWriteId,_=kV(e),k=Qz(g,v,_);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=k,l.currentWriteId=mW(e),o.splice(o.indexOf(y),1),r=r.concat(Hz(e.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),r=r.concat(qa(e.serverSyncTree_,y,!0))}else c=!0,d="nodata",r=r.concat(qa(e.serverSyncTree_,l.currentWriteId,!0))}ba(e.eventQueue_,n,r),r=[],c&&(t[a].status=2,function(v){setTimeout(v,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}rm(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)od(i[a]);N0(e,e.transactionQueueTree_)}function EV(e,t){let n,i=e.transactionQueueTree_;for(n=vt(t);n!==null&&Wl(i)===void 0;)i=L0(i,n),t=$t(t),n=vt(t);return i}function IV(e,t){const n=[];return TV(e,t,n),n.sort((i,r)=>i.order-r.order),n}function TV(e,t,n){const i=Wl(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);im(t,r=>{TV(e,r,n)})}function rm(e,t){const n=Wl(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,pV(t,n.length>0?n:void 0)}im(t,i=>{rm(e,i)})}function bW(e,t){const n=ld(EV(e,t)),i=L0(e.transactionQueueTree_,t);return Jz(i,r=>{Sg(e,r)}),Sg(e,i),_V(i,r=>{Sg(e,r)}),n}function Sg(e,t){const n=Wl(t);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(De(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(De(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(qa(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?pV(t,void 0):n.length=s+1,ba(e.eventQueue_,ld(t),r);for(let o=0;o<i.length;o++)od(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function kW(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ei(`Invalid query segment '${n}' in query '${e}'`)}return t}const tC=function(e,t){const n=SW(e),i=n.namespace;n.domain==="firebase.com"&&Jo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||JH();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new uj(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new jt(n.pathString)}},SW=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(r=wW(e.substring(c,d)));const v=kW(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const m=t.slice(0,u);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=t.indexOf(".");i=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=i}"ns"in v&&(s=v.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return dt(this._path)?null:$P(this._path)}get ref(){return new ql(this._repo,this._path)}get _queryIdentifier(){const t=$S(this._queryParams),n=_0(t);return n==="{}"?"default":n}get _queryObject(){return $S(this._queryParams)}isEqual(t){if(t=Mn(t),!(t instanceof B0))return!1;const n=this._repo===t._repo,i=jP(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lj(this._path)}}class ql extends B0{constructor(t,n){super(t,n,new E0,!1)}get parent(){const t=HP(this._path);return t===null?null:new ql(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}$z(ql);Uz(ql);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW="FIREBASE_DATABASE_EMULATOR_HOST",iy={};let EW=!1;function IW(e,t,n,i,r){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||Jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qn("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=tC(s,r),a=o.repoInfo,l;typeof process<"u"&&wS&&(l=wS[CW]),l?(s=`http://${l}?ns=${a.namespace}`,o=tC(s,r),a=o.repoInfo):o.repoInfo.secure;const u=new lj(e.name,e.options,t);rW("Invalid Firebase Database URL",o),dt(o.path)||Jo("Database URL must point to the root of a Firebase Database (not including a child path).");const c=xW(a,e,u,new aj(e.name,n));return new AW(c,e)}function TW(e,t){const n=iy[t];(!n||n[e.key]!==e)&&Jo(`Database ${t}(${e.repoInfo_}) has already been deleted.`),pW(e),delete n[e.key]}function xW(e,t,n,i){let r=iy[t.name];r||(r={},iy[t.name]=r);let s=r[e.toURLString()];return s&&Jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new dW(e,EW,n,i),r[e.toURLString()]=s,s}class AW{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ql(this._repo,Pt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TW(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Jo("Cannot call "+t+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(e){qH(so),Cr(new rr("database",(t,{instanceIdentifier:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return IW(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Ci(kS,SS,e),Ci(kS,SS,"esm2017")}Xr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Xr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};PW();var nC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var No,xV;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function b(){}b.prototype=w.prototype,x.D=w.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(C,E,I){for(var P=Array(arguments.length-2),F=2;F<arguments.length;F++)P[F-2]=arguments[F];return w.prototype[E].apply(C,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,w,b){b||(b=0);var C=Array(16);if(typeof w=="string")for(var E=0;16>E;++E)C[E]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(E=0;16>E;++E)C[E]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=x.g[0],b=x.g[1],E=x.g[2];var I=x.g[3],P=w+(I^b&(E^I))+C[0]+3614090360&4294967295;w=b+(P<<7&4294967295|P>>>25),P=I+(E^w&(b^E))+C[1]+3905402710&4294967295,I=w+(P<<12&4294967295|P>>>20),P=E+(b^I&(w^b))+C[2]+606105819&4294967295,E=I+(P<<17&4294967295|P>>>15),P=b+(w^E&(I^w))+C[3]+3250441966&4294967295,b=E+(P<<22&4294967295|P>>>10),P=w+(I^b&(E^I))+C[4]+4118548399&4294967295,w=b+(P<<7&4294967295|P>>>25),P=I+(E^w&(b^E))+C[5]+1200080426&4294967295,I=w+(P<<12&4294967295|P>>>20),P=E+(b^I&(w^b))+C[6]+2821735955&4294967295,E=I+(P<<17&4294967295|P>>>15),P=b+(w^E&(I^w))+C[7]+4249261313&4294967295,b=E+(P<<22&4294967295|P>>>10),P=w+(I^b&(E^I))+C[8]+1770035416&4294967295,w=b+(P<<7&4294967295|P>>>25),P=I+(E^w&(b^E))+C[9]+2336552879&4294967295,I=w+(P<<12&4294967295|P>>>20),P=E+(b^I&(w^b))+C[10]+4294925233&4294967295,E=I+(P<<17&4294967295|P>>>15),P=b+(w^E&(I^w))+C[11]+2304563134&4294967295,b=E+(P<<22&4294967295|P>>>10),P=w+(I^b&(E^I))+C[12]+1804603682&4294967295,w=b+(P<<7&4294967295|P>>>25),P=I+(E^w&(b^E))+C[13]+4254626195&4294967295,I=w+(P<<12&4294967295|P>>>20),P=E+(b^I&(w^b))+C[14]+2792965006&4294967295,E=I+(P<<17&4294967295|P>>>15),P=b+(w^E&(I^w))+C[15]+1236535329&4294967295,b=E+(P<<22&4294967295|P>>>10),P=w+(E^I&(b^E))+C[1]+4129170786&4294967295,w=b+(P<<5&4294967295|P>>>27),P=I+(b^E&(w^b))+C[6]+3225465664&4294967295,I=w+(P<<9&4294967295|P>>>23),P=E+(w^b&(I^w))+C[11]+643717713&4294967295,E=I+(P<<14&4294967295|P>>>18),P=b+(I^w&(E^I))+C[0]+3921069994&4294967295,b=E+(P<<20&4294967295|P>>>12),P=w+(E^I&(b^E))+C[5]+3593408605&4294967295,w=b+(P<<5&4294967295|P>>>27),P=I+(b^E&(w^b))+C[10]+38016083&4294967295,I=w+(P<<9&4294967295|P>>>23),P=E+(w^b&(I^w))+C[15]+3634488961&4294967295,E=I+(P<<14&4294967295|P>>>18),P=b+(I^w&(E^I))+C[4]+3889429448&4294967295,b=E+(P<<20&4294967295|P>>>12),P=w+(E^I&(b^E))+C[9]+568446438&4294967295,w=b+(P<<5&4294967295|P>>>27),P=I+(b^E&(w^b))+C[14]+3275163606&4294967295,I=w+(P<<9&4294967295|P>>>23),P=E+(w^b&(I^w))+C[3]+4107603335&4294967295,E=I+(P<<14&4294967295|P>>>18),P=b+(I^w&(E^I))+C[8]+1163531501&4294967295,b=E+(P<<20&4294967295|P>>>12),P=w+(E^I&(b^E))+C[13]+2850285829&4294967295,w=b+(P<<5&4294967295|P>>>27),P=I+(b^E&(w^b))+C[2]+4243563512&4294967295,I=w+(P<<9&4294967295|P>>>23),P=E+(w^b&(I^w))+C[7]+1735328473&4294967295,E=I+(P<<14&4294967295|P>>>18),P=b+(I^w&(E^I))+C[12]+2368359562&4294967295,b=E+(P<<20&4294967295|P>>>12),P=w+(b^E^I)+C[5]+4294588738&4294967295,w=b+(P<<4&4294967295|P>>>28),P=I+(w^b^E)+C[8]+2272392833&4294967295,I=w+(P<<11&4294967295|P>>>21),P=E+(I^w^b)+C[11]+1839030562&4294967295,E=I+(P<<16&4294967295|P>>>16),P=b+(E^I^w)+C[14]+4259657740&4294967295,b=E+(P<<23&4294967295|P>>>9),P=w+(b^E^I)+C[1]+2763975236&4294967295,w=b+(P<<4&4294967295|P>>>28),P=I+(w^b^E)+C[4]+1272893353&4294967295,I=w+(P<<11&4294967295|P>>>21),P=E+(I^w^b)+C[7]+4139469664&4294967295,E=I+(P<<16&4294967295|P>>>16),P=b+(E^I^w)+C[10]+3200236656&4294967295,b=E+(P<<23&4294967295|P>>>9),P=w+(b^E^I)+C[13]+681279174&4294967295,w=b+(P<<4&4294967295|P>>>28),P=I+(w^b^E)+C[0]+3936430074&4294967295,I=w+(P<<11&4294967295|P>>>21),P=E+(I^w^b)+C[3]+3572445317&4294967295,E=I+(P<<16&4294967295|P>>>16),P=b+(E^I^w)+C[6]+76029189&4294967295,b=E+(P<<23&4294967295|P>>>9),P=w+(b^E^I)+C[9]+3654602809&4294967295,w=b+(P<<4&4294967295|P>>>28),P=I+(w^b^E)+C[12]+3873151461&4294967295,I=w+(P<<11&4294967295|P>>>21),P=E+(I^w^b)+C[15]+530742520&4294967295,E=I+(P<<16&4294967295|P>>>16),P=b+(E^I^w)+C[2]+3299628645&4294967295,b=E+(P<<23&4294967295|P>>>9),P=w+(E^(b|~I))+C[0]+4096336452&4294967295,w=b+(P<<6&4294967295|P>>>26),P=I+(b^(w|~E))+C[7]+1126891415&4294967295,I=w+(P<<10&4294967295|P>>>22),P=E+(w^(I|~b))+C[14]+2878612391&4294967295,E=I+(P<<15&4294967295|P>>>17),P=b+(I^(E|~w))+C[5]+4237533241&4294967295,b=E+(P<<21&4294967295|P>>>11),P=w+(E^(b|~I))+C[12]+1700485571&4294967295,w=b+(P<<6&4294967295|P>>>26),P=I+(b^(w|~E))+C[3]+2399980690&4294967295,I=w+(P<<10&4294967295|P>>>22),P=E+(w^(I|~b))+C[10]+4293915773&4294967295,E=I+(P<<15&4294967295|P>>>17),P=b+(I^(E|~w))+C[1]+2240044497&4294967295,b=E+(P<<21&4294967295|P>>>11),P=w+(E^(b|~I))+C[8]+1873313359&4294967295,w=b+(P<<6&4294967295|P>>>26),P=I+(b^(w|~E))+C[15]+4264355552&4294967295,I=w+(P<<10&4294967295|P>>>22),P=E+(w^(I|~b))+C[6]+2734768916&4294967295,E=I+(P<<15&4294967295|P>>>17),P=b+(I^(E|~w))+C[13]+1309151649&4294967295,b=E+(P<<21&4294967295|P>>>11),P=w+(E^(b|~I))+C[4]+4149444226&4294967295,w=b+(P<<6&4294967295|P>>>26),P=I+(b^(w|~E))+C[11]+3174756917&4294967295,I=w+(P<<10&4294967295|P>>>22),P=E+(w^(I|~b))+C[2]+718787259&4294967295,E=I+(P<<15&4294967295|P>>>17),P=b+(I^(E|~w))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(E+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+E&4294967295,x.g[3]=x.g[3]+I&4294967295}i.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var b=w-this.blockSize,C=this.B,E=this.h,I=0;I<w;){if(E==0)for(;I<=b;)r(this,x,I),I+=this.blockSize;if(typeof x=="string"){for(;I<w;)if(C[E++]=x.charCodeAt(I++),E==this.blockSize){r(this,C),E=0;break}}else for(;I<w;)if(C[E++]=x[I++],E==this.blockSize){r(this,C),E=0;break}}this.h=E,this.o+=w},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var b=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=b&255,b/=256;for(this.u(x),x=Array(16),w=b=0;4>w;++w)for(var C=0;32>C;C+=8)x[b++]=this.g[w]>>>C&255;return x};function s(x,w){var b=a;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=w(x)}function o(x,w){this.h=w;for(var b=[],C=!0,E=x.length-1;0<=E;E--){var I=x[E]|0;C&&I==w||(b[E]=I,C=!1)}this.g=b}var a={};function l(x){return-128<=x&&128>x?s(x,function(w){return new o([w|0],0>w?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return d;if(0>x)return y(u(-x));for(var w=[],b=1,C=0;x>=b;C++)w[C]=x/b|0,b*=4294967296;return new o(w,0)}function c(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return y(c(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(w,8)),C=d,E=0;E<x.length;E+=8){var I=Math.min(8,x.length-E),P=parseInt(x.substring(E,E+I),w);8>I?(I=u(Math.pow(w,I)),C=C.j(I).add(u(P))):(C=C.j(b),C=C.add(u(P)))}return C}var d=l(0),v=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(p(this))return-y(this).m();for(var x=0,w=1,b=0;b<this.g.length;b++){var C=this.i(b);x+=(0<=C?C:4294967296+C)*w,w*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g(this))return"0";if(p(this))return"-"+y(this).toString(x);for(var w=u(Math.pow(x,6)),b=this,C="";;){var E=T(b,w).g;b=_(b,E.j(w));var I=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=E,g(b))return I+C;for(;6>I.length;)I="0"+I;C=I+C}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function g(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function p(x){return x.h==-1}e.l=function(x){return x=_(this,x),p(x)?-1:g(x)?0:1};function y(x){for(var w=x.g.length,b=[],C=0;C<w;C++)b[C]=~x.g[C];return new o(b,~x.h).add(v)}e.abs=function(){return p(this)?y(this):this},e.add=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],C=0,E=0;E<=w;E++){var I=C+(this.i(E)&65535)+(x.i(E)&65535),P=(I>>>16)+(this.i(E)>>>16)+(x.i(E)>>>16);C=P>>>16,I&=65535,P&=65535,b[E]=P<<16|I}return new o(b,b[b.length-1]&-2147483648?-1:0)};function _(x,w){return x.add(y(w))}e.j=function(x){if(g(this)||g(x))return d;if(p(this))return p(x)?y(this).j(y(x)):y(y(this).j(x));if(p(x))return y(this.j(y(x)));if(0>this.l(m)&&0>x.l(m))return u(this.m()*x.m());for(var w=this.g.length+x.g.length,b=[],C=0;C<2*w;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var E=0;E<x.g.length;E++){var I=this.i(C)>>>16,P=this.i(C)&65535,F=x.i(E)>>>16,$=x.i(E)&65535;b[2*C+2*E]+=P*$,k(b,2*C+2*E),b[2*C+2*E+1]+=I*$,k(b,2*C+2*E+1),b[2*C+2*E+1]+=P*F,k(b,2*C+2*E+1),b[2*C+2*E+2]+=I*F,k(b,2*C+2*E+2)}for(C=0;C<w;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=w;C<2*w;C++)b[C]=0;return new o(b,0)};function k(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function A(x,w){this.g=x,this.h=w}function T(x,w){if(g(w))throw Error("division by zero");if(g(x))return new A(d,d);if(p(x))return w=T(y(x),w),new A(y(w.g),y(w.h));if(p(w))return w=T(x,y(w)),new A(y(w.g),w.h);if(30<x.g.length){if(p(x)||p(w))throw Error("slowDivide_ only works with positive integers.");for(var b=v,C=w;0>=C.l(x);)b=D(b),C=D(C);var E=R(b,1),I=R(C,1);for(C=R(C,2),b=R(b,2);!g(C);){var P=I.add(C);0>=P.l(x)&&(E=E.add(b),I=P),C=R(C,1),b=R(b,1)}return w=_(x,E.j(w)),new A(E,w)}for(E=d;0<=x.l(w);){for(b=Math.max(1,Math.floor(x.m()/w.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),I=u(b),P=I.j(w);p(P)||0<P.l(x);)b-=C,I=u(b),P=I.j(w);g(I)&&(I=v),E=E.add(I),x=_(x,P)}return new A(E,x)}e.A=function(x){return T(this,x).h},e.and=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],C=0;C<w;C++)b[C]=this.i(C)&x.i(C);return new o(b,this.h&x.h)},e.or=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],C=0;C<w;C++)b[C]=this.i(C)|x.i(C);return new o(b,this.h|x.h)},e.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),b=[],C=0;C<w;C++)b[C]=this.i(C)^x.i(C);return new o(b,this.h^x.h)};function D(x){for(var w=x.g.length+1,b=[],C=0;C<w;C++)b[C]=x.i(C)<<1|x.i(C-1)>>>31;return new o(b,x.h)}function R(x,w){var b=w>>5;w%=32;for(var C=x.g.length-b,E=[],I=0;I<C;I++)E[I]=0<w?x.i(I+b)>>>w|x.i(I+b+1)<<32-w:x.i(I+b);return new o(E,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,xV=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,No=o}).apply(typeof nC<"u"?nC:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AV,Au,PV,Pf,ry,VV,RV,DV;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,S,O){return h==Array.prototype||h==Object.prototype||(h[S]=O.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var S=0;S<h.length;++S){var O=h[S];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var i=n(this);function r(h,S){if(S)e:{var O=i;h=h.split(".");for(var M=0;M<h.length-1;M++){var Z=h[M];if(!(Z in O))break e;O=O[Z]}h=h[h.length-1],M=O[h],S=S(M),S!=M&&S!=null&&t(O,h,{configurable:!0,writable:!0,value:S})}}function s(h,S){h instanceof String&&(h+="");var O=0,M=!1,Z={next:function(){if(!M&&O<h.length){var ae=O++;return{value:S(ae,h[ae]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}r("Array.prototype.values",function(h){return h||function(){return s(this,function(S,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var S=typeof h;return S=S!="object"?S:h?Array.isArray(h)?"array":S:"null",S=="array"||S=="object"&&typeof h.length=="number"}function u(h){var S=typeof h;return S=="object"&&h!=null||S=="function"}function c(h,S,O){return h.call.apply(h.bind,arguments)}function d(h,S,O){if(!h)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,M),h.apply(S,Z)}}return function(){return h.apply(S,arguments)}}function v(h,S,O){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,v.apply(null,arguments)}function m(h,S){var O=Array.prototype.slice.call(arguments,1);return function(){var M=O.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function g(h,S){function O(){}O.prototype=S.prototype,h.aa=S.prototype,h.prototype=new O,h.prototype.constructor=h,h.Qb=function(M,Z,ae){for(var Ve=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Ve[Rt-2]=arguments[Rt];return S.prototype[Z].apply(M,Ve)}}function p(h){const S=h.length;if(0<S){const O=Array(S);for(let M=0;M<S;M++)O[M]=h[M];return O}return[]}function y(h,S){for(let O=1;O<arguments.length;O++){const M=arguments[O];if(l(M)){const Z=h.length||0,ae=M.length||0;h.length=Z+ae;for(let Ve=0;Ve<ae;Ve++)h[Z+Ve]=M[Ve]}else h.push(M)}}class _{constructor(S,O){this.i=S,this.j=O,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(h){return/^[\s\xa0]*$/.test(h)}function A(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function T(h){return T[" "](h),h}T[" "]=function(){};var D=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function R(h,S,O){for(const M in h)S.call(O,h[M],M,h)}function x(h,S){for(const O in h)S.call(void 0,h[O],O,h)}function w(h){const S={};for(const O in h)S[O]=h[O];return S}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,S){let O,M;for(let Z=1;Z<arguments.length;Z++){M=arguments[Z];for(O in M)h[O]=M[O];for(let ae=0;ae<b.length;ae++)O=b[ae],Object.prototype.hasOwnProperty.call(M,O)&&(h[O]=M[O])}}function E(h){var S=1;h=h.split(":");const O=[];for(;0<S&&h.length;)O.push(h.shift()),S--;return h.length&&O.push(h.join(":")),O}function I(h){a.setTimeout(()=>{throw h},0)}function P(){var h=B;let S=null;return h.g&&(S=h.g,h.g=h.g.next,h.g||(h.h=null),S.next=null),S}class F{constructor(){this.h=this.g=null}add(S,O){const M=$.get();M.set(S,O),this.h?this.h.next=M:this.g=M,this.h=M}}var $=new _(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(S,O){this.h=S,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let K,U=!1,B=new F,H=()=>{const h=a.Promise.resolve(void 0);K=()=>{h.then(q)}};var q=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(O){I(O)}var S=$;S.j(h),100>S.h&&(S.h++,h.next=S.g,S.g=h)}U=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,S){this.type=h,this.g=this.target=S,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,S=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const O=()=>{};a.addEventListener("test",O,S),a.removeEventListener("test",O,S)}catch{}return h}();function Ce(h,S){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var O=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=S,S=h.relatedTarget){if(D){e:{try{T(S.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(S=null)}}else O=="mouseover"?S=h.fromElement:O=="mouseout"&&(S=h.toElement);this.relatedTarget=S,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}g(Ce,he);var ie={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Oe(h,S,O,M,Z){this.listener=h,this.proxy=null,this.src=S,this.type=O,this.capture=!!M,this.ha=Z,this.key=++xe,this.da=this.fa=!1}function Re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,S,O,M,Z){var ae=h.toString();h=this.g[ae],h||(h=this.g[ae]=[],this.h++);var Ve=L(h,S,M,Z);return-1<Ve?(S=h[Ve],O||(S.fa=!1)):(S=new Oe(S,this.src,ae,!!M,Z),S.fa=O,h.push(S)),S};function Be(h,S){var O=S.type;if(O in h.g){var M=h.g[O],Z=Array.prototype.indexOf.call(M,S,void 0),ae;(ae=0<=Z)&&Array.prototype.splice.call(M,Z,1),ae&&(Re(S),h.g[O].length==0&&(delete h.g[O],h.h--))}}function L(h,S,O,M){for(var Z=0;Z<h.length;++Z){var ae=h[Z];if(!ae.da&&ae.listener==S&&ae.capture==!!O&&ae.ha==M)return Z}return-1}var N="closure_lm_"+(1e6*Math.random()|0),X={};function ne(h,S,O,M,Z){if(Array.isArray(S)){for(var ae=0;ae<S.length;ae++)ne(h,S[ae],O,M,Z);return null}return O=$e(O),h&&h[be]?h.K(S,O,u(M)?!!M.capture:!!M,Z):te(h,S,O,!1,M,Z)}function te(h,S,O,M,Z,ae){if(!S)throw Error("Invalid event type");var Ve=u(Z)?!!Z.capture:!!Z,Rt=Ue(h);if(Rt||(h[N]=Rt=new me(h)),O=Rt.add(S,O,M,Ve,ae),O.proxy)return O;if(M=ce(),O.proxy=M,M.src=h,M.listener=O,h.addEventListener)_e||(Z=Ve),Z===void 0&&(Z=!1),h.addEventListener(S.toString(),M,Z);else if(h.attachEvent)h.attachEvent(we(S.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return O}function ce(){function h(O){return S.call(h.src,h.listener,O)}const S=ve;return h}function Ee(h,S,O,M,Z){if(Array.isArray(S))for(var ae=0;ae<S.length;ae++)Ee(h,S[ae],O,M,Z);else M=u(M)?!!M.capture:!!M,O=$e(O),h&&h[be]?(h=h.i,S=String(S).toString(),S in h.g&&(ae=h.g[S],O=L(ae,O,M,Z),-1<O&&(Re(ae[O]),Array.prototype.splice.call(ae,O,1),ae.length==0&&(delete h.g[S],h.h--)))):h&&(h=Ue(h))&&(S=h.g[S.toString()],h=-1,S&&(h=L(S,O,M,Z)),(O=-1<h?S[h]:null)&&de(O))}function de(h){if(typeof h!="number"&&h&&!h.da){var S=h.src;if(S&&S[be])Be(S.i,h);else{var O=h.type,M=h.proxy;S.removeEventListener?S.removeEventListener(O,M,h.capture):S.detachEvent?S.detachEvent(we(O),M):S.addListener&&S.removeListener&&S.removeListener(M),(O=Ue(S))?(Be(O,h),O.h==0&&(O.src=null,S[N]=null)):Re(h)}}}function we(h){return h in X?X[h]:X[h]="on"+h}function ve(h,S){if(h.da)h=!0;else{S=new Ce(S,this);var O=h.listener,M=h.ha||h.src;h.fa&&de(h),h=O.call(M,S)}return h}function Ue(h){return h=h[N],h instanceof me?h:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function $e(h){return typeof h=="function"?h:(h[Ae]||(h[Ae]=function(S){return h.handleEvent(S)}),h[Ae])}function Me(){J.call(this),this.i=new me(this),this.M=this,this.F=null}g(Me,J),Me.prototype[be]=!0,Me.prototype.removeEventListener=function(h,S,O,M){Ee(this,h,S,O,M)};function Ke(h,S){var O,M=h.F;if(M)for(O=[];M;M=M.F)O.push(M);if(h=h.M,M=S.type||S,typeof S=="string")S=new he(S,h);else if(S instanceof he)S.target=S.target||h;else{var Z=S;S=new he(M,h),C(S,Z)}if(Z=!0,O)for(var ae=O.length-1;0<=ae;ae--){var Ve=S.g=O[ae];Z=ft(Ve,M,!0,S)&&Z}if(Ve=S.g=h,Z=ft(Ve,M,!0,S)&&Z,Z=ft(Ve,M,!1,S)&&Z,O)for(ae=0;ae<O.length;ae++)Ve=S.g=O[ae],Z=ft(Ve,M,!1,S)&&Z}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var h=this.i,S;for(S in h.g){for(var O=h.g[S],M=0;M<O.length;M++)Re(O[M]);delete h.g[S],h.h--}}this.F=null},Me.prototype.K=function(h,S,O,M){return this.i.add(String(h),S,!1,O,M)},Me.prototype.L=function(h,S,O,M){return this.i.add(String(h),S,!0,O,M)};function ft(h,S,O,M){if(S=h.i.g[String(S)],!S)return!0;S=S.concat();for(var Z=!0,ae=0;ae<S.length;++ae){var Ve=S[ae];if(Ve&&!Ve.da&&Ve.capture==O){var Rt=Ve.listener,In=Ve.ha||Ve.src;Ve.fa&&Be(h.i,Ve),Z=Rt.call(In,M)!==!1&&Z}}return Z&&!M.defaultPrevented}function bt(h,S,O){if(typeof h=="function")O&&(h=v(h,O));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(h,S||0)}function Fn(h){h.g=bt(()=>{h.g=null,h.i&&(h.i=!1,Fn(h))},h.l);const S=h.h;h.h=null,h.m.apply(null,S)}class vn extends J{constructor(S,O){super(),this.m=S,this.l=O,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(h){J.call(this),this.h=h,this.g={}}g(En,J);var Bn=[];function bs(h){R(h.g,function(S,O){this.g.hasOwnProperty(O)&&de(S)},h),h.g={}}En.prototype.N=function(){En.aa.N.call(this),bs(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=a.JSON.stringify,ni=a.JSON.parse,Ri=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Ta(){}Ta.prototype.h=null;function d1(h){return h.h||(h.h=h.i())}function f1(){}var tu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tm(){he.call(this,"d")}g(Tm,he);function xm(){he.call(this,"c")}g(xm,he);var lo={},h1=null;function Sd(){return h1=h1||new Me}lo.La="serverreachability";function v1(h){he.call(this,lo.La,h)}g(v1,he);function nu(h){const S=Sd();Ke(S,new v1(S))}lo.STAT_EVENT="statevent";function m1(h,S){he.call(this,lo.STAT_EVENT,h),this.stat=S}g(m1,he);function ii(h){const S=Sd();Ke(S,new m1(S,h))}lo.Ma="timingevent";function g1(h,S){he.call(this,lo.Ma,h),this.size=S}g(g1,he);function iu(h,S){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},S)}function ru(){this.g=!0}ru.prototype.xa=function(){this.g=!1};function r4(h,S,O,M,Z,ae){h.info(function(){if(h.g)if(ae)for(var Ve="",Rt=ae.split("&"),In=0;In<Rt.length;In++){var wt=Rt[In].split("=");if(1<wt.length){var $n=wt[0];wt=wt[1];var Un=$n.split("_");Ve=2<=Un.length&&Un[1]=="type"?Ve+($n+"="+wt+"&"):Ve+($n+"=redacted&")}}else Ve=null;else Ve=ae;return"XMLHTTP REQ ("+M+") [attempt "+Z+"]: "+S+`
`+O+`
`+Ve})}function s4(h,S,O,M,Z,ae,Ve){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Z+"]: "+S+`
`+O+`
`+ae+" "+Ve})}function xa(h,S,O,M){h.info(function(){return"XMLHTTP TEXT ("+S+"): "+a4(h,O)+(M?" "+M:"")})}function o4(h,S){h.info(function(){return"TIMEOUT: "+S})}ru.prototype.info=function(){};function a4(h,S){if(!h.g)return S;if(!S)return null;try{var O=JSON.parse(S);if(O){for(h=0;h<O.length;h++)if(Array.isArray(O[h])){var M=O[h];if(!(2>M.length)){var Z=M[1];if(Array.isArray(Z)&&!(1>Z.length)){var ae=Z[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var Ve=1;Ve<Z.length;Ve++)Z[Ve]=""}}}}return Ia(O)}catch{return S}}var Cd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},p1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Am;function Ed(){}g(Ed,Ta),Ed.prototype.g=function(){return new XMLHttpRequest},Ed.prototype.i=function(){return{}},Am=new Ed;function ws(h,S,O,M){this.j=h,this.i=S,this.l=O,this.R=M||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y1}function y1(){this.i=null,this.g="",this.h=!1}var _1={},Pm={};function Vm(h,S,O){h.L=1,h.v=Ad(Fr(S)),h.m=O,h.P=!0,b1(h,null)}function b1(h,S){h.F=Date.now(),Id(h),h.A=Fr(h.v);var O=h.A,M=h.R;Array.isArray(M)||(M=[String(M)]),O1(O.i,"t",M),h.C=0,O=h.j.J,h.h=new y1,h.g=J1(h.j,O?S:null,!h.m),0<h.O&&(h.M=new vn(v(h.Y,h,h.g),h.O)),S=h.U,O=h.g,M=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Bn[0]=Z.toString()),Z=Bn);for(var ae=0;ae<Z.length;ae++){var Ve=ne(O,Z[ae],M||S.handleEvent,!1,S.h||S);if(!Ve)break;S.g[Ve.key]=Ve}S=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,S)):(h.u="GET",h.g.ea(h.A,h.u,null,S)),nu(),r4(h.i,h.u,h.A,h.l,h.R,h.m)}ws.prototype.ca=function(h){h=h.target;const S=this.M;S&&Br(h)==3?S.j():this.Y(h)},ws.prototype.Y=function(h){try{if(h==this.g)e:{const Un=Br(this.g);var S=this.g.Ba();const Va=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||U1(this.g)))){this.J||Un!=4||S==7||(S==8||0>=Va?nu(3):nu(2)),Rm(this);var O=this.g.Z();this.X=O;t:if(w1(this)){var M=U1(this.g);h="";var Z=M.length,ae=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),su(this);var Ve="";break t}this.h.i=new a.TextDecoder}for(S=0;S<Z;S++)this.h.h=!0,h+=this.h.i.decode(M[S],{stream:!(ae&&S==Z-1)});M.length=0,this.h.g+=h,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=O==200,s4(this.i,this.u,this.A,this.l,this.R,Un,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,In=this.g;if((Rt=In.g?In.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Rt)){var wt=Rt;break t}}wt=null}if(O=wt)xa(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dm(this,O);else{this.o=!1,this.s=3,ii(12),uo(this),su(this);break e}}if(this.P){O=!0;let Gi;for(;!this.J&&this.C<Ve.length;)if(Gi=l4(this,Ve),Gi==Pm){Un==4&&(this.s=4,ii(14),O=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(Gi==_1){this.s=4,ii(15),xa(this.i,this.l,Ve,"[Invalid Chunk]"),O=!1;break}else xa(this.i,this.l,Gi,null),Dm(this,Gi);if(w1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||Ve.length!=0||this.h.h||(this.s=1,ii(16),O=!1),this.o=this.o&&O,!O)xa(this.i,this.l,Ve,"[Invalid Chunked Response]"),uo(this),su(this);else if(0<Ve.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Bm($n),$n.M=!0,ii(11))}}else xa(this.i,this.l,Ve,null),Dm(this,Ve);Un==4&&uo(this),this.o&&!this.J&&(Un==4?K1(this.j,this):(this.o=!1,Id(this)))}else E4(this.g),O==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,ii(12)):(this.s=0,ii(13)),uo(this),su(this)}}}catch{}finally{}};function w1(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function l4(h,S){var O=h.C,M=S.indexOf(`
`,O);return M==-1?Pm:(O=Number(S.substring(O,M)),isNaN(O)?_1:(M+=1,M+O>S.length?Pm:(S=S.slice(M,M+O),h.C=M+O,S)))}ws.prototype.cancel=function(){this.J=!0,uo(this)};function Id(h){h.S=Date.now()+h.I,k1(h,h.I)}function k1(h,S){if(h.B!=null)throw Error("WatchDog timer not null");h.B=iu(v(h.ba,h),S)}function Rm(h){h.B&&(a.clearTimeout(h.B),h.B=null)}ws.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(o4(this.i,this.A),this.L!=2&&(nu(),ii(17)),uo(this),this.s=2,su(this)):k1(this,this.S-h)};function su(h){h.j.G==0||h.J||K1(h.j,h)}function uo(h){Rm(h);var S=h.M;S&&typeof S.ma=="function"&&S.ma(),h.M=null,bs(h.U),h.g&&(S=h.g,h.g=null,S.abort(),S.ma())}function Dm(h,S){try{var O=h.j;if(O.G!=0&&(O.g==h||Om(O.h,h))){if(!h.K&&Om(O.h,h)&&O.G==3){try{var M=O.Da.g.parse(S)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Z=M;if(Z[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<h.F)Ld(O),Dd(O);else break e;Fm(O),ii(18)}}else O.za=Z[1],0<O.za-O.T&&37500>Z[2]&&O.F&&O.v==0&&!O.C&&(O.C=iu(v(O.Za,O),6e3));if(1>=E1(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else fo(O,11)}else if((h.K||O.g==h)&&Ld(O),!k(S))for(Z=O.Da.g.parse(S),S=0;S<Z.length;S++){let wt=Z[S];if(O.T=wt[0],wt=wt[1],O.G==2)if(wt[0]=="c"){O.K=wt[1],O.ia=wt[2];const $n=wt[3];$n!=null&&(O.la=$n,O.j.info("VER="+O.la));const Un=wt[4];Un!=null&&(O.Aa=Un,O.j.info("SVER="+O.Aa));const Va=wt[5];Va!=null&&typeof Va=="number"&&0<Va&&(M=1.5*Va,O.L=M,O.j.info("backChannelRequestTimeoutMs_="+M)),M=O;const Gi=h.g;if(Gi){const Nd=Gi.g?Gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nd){var ae=M.h;ae.g||Nd.indexOf("spdy")==-1&&Nd.indexOf("quic")==-1&&Nd.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Lm(ae,ae.h),ae.h=null))}if(M.D){const $m=Gi.g?Gi.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(M.ya=$m,Ft(M.I,M.D,$m))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-h.F,O.j.info("Handshake RTT: "+O.R+"ms")),M=O;var Ve=h;if(M.qa=X1(M,M.J?M.ia:null,M.W),Ve.K){I1(M.h,Ve);var Rt=Ve,In=M.L;In&&(Rt.I=In),Rt.B&&(Rm(Rt),Id(Rt)),M.g=Ve}else q1(M);0<O.i.length&&Od(O)}else wt[0]!="stop"&&wt[0]!="close"||fo(O,7);else O.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?fo(O,7):Nm(O):wt[0]!="noop"&&O.l&&O.l.ta(wt),O.v=0)}}nu(4)}catch{}}var u4=class{constructor(h,S){this.g=h,this.map=S}};function S1(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function C1(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function E1(h){return h.h?1:h.g?h.g.size:0}function Om(h,S){return h.h?h.h==S:h.g?h.g.has(S):!1}function Lm(h,S){h.g?h.g.add(S):h.h=S}function I1(h,S){h.h&&h.h==S?h.h=null:h.g&&h.g.has(S)&&h.g.delete(S)}S1.prototype.cancel=function(){if(this.i=T1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function T1(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let S=h.i;for(const O of h.g.values())S=S.concat(O.D);return S}return p(h.i)}function c4(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var S=[],O=h.length,M=0;M<O;M++)S.push(h[M]);return S}S=[],O=0;for(M in h)S[O++]=h[M];return S}function d4(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var S=[];h=h.length;for(var O=0;O<h;O++)S.push(O);return S}S=[],O=0;for(const M in h)S[O++]=M;return S}}}function x1(h,S){if(h.forEach&&typeof h.forEach=="function")h.forEach(S,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,S,void 0);else for(var O=d4(h),M=c4(h),Z=M.length,ae=0;ae<Z;ae++)S.call(void 0,M[ae],O&&O[ae],h)}var A1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f4(h,S){if(h){h=h.split("&");for(var O=0;O<h.length;O++){var M=h[O].indexOf("="),Z=null;if(0<=M){var ae=h[O].substring(0,M);Z=h[O].substring(M+1)}else ae=h[O];S(ae,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function co(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof co){this.h=h.h,Td(this,h.j),this.o=h.o,this.g=h.g,xd(this,h.s),this.l=h.l;var S=h.i,O=new lu;O.i=S.i,S.g&&(O.g=new Map(S.g),O.h=S.h),P1(this,O),this.m=h.m}else h&&(S=String(h).match(A1))?(this.h=!1,Td(this,S[1]||"",!0),this.o=ou(S[2]||""),this.g=ou(S[3]||"",!0),xd(this,S[4]),this.l=ou(S[5]||"",!0),P1(this,S[6]||"",!0),this.m=ou(S[7]||"")):(this.h=!1,this.i=new lu(null,this.h))}co.prototype.toString=function(){var h=[],S=this.j;S&&h.push(au(S,V1,!0),":");var O=this.g;return(O||S=="file")&&(h.push("//"),(S=this.o)&&h.push(au(S,V1,!0),"@"),h.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&h.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&h.push("/"),h.push(au(O,O.charAt(0)=="/"?m4:v4,!0))),(O=this.i.toString())&&h.push("?",O),(O=this.m)&&h.push("#",au(O,p4)),h.join("")};function Fr(h){return new co(h)}function Td(h,S,O){h.j=O?ou(S,!0):S,h.j&&(h.j=h.j.replace(/:$/,""))}function xd(h,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);h.s=S}else h.s=null}function P1(h,S,O){S instanceof lu?(h.i=S,y4(h.i,h.h)):(O||(S=au(S,g4)),h.i=new lu(S,h.h))}function Ft(h,S,O){h.i.set(S,O)}function Ad(h){return Ft(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ou(h,S){return h?S?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function au(h,S,O){return typeof h=="string"?(h=encodeURI(h).replace(S,h4),O&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function h4(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var V1=/[#\/\?@]/g,v4=/[#\?:]/g,m4=/[#\?]/g,g4=/[#\?@]/g,p4=/#/g;function lu(h,S){this.h=this.g=null,this.i=h||null,this.j=!!S}function ks(h){h.g||(h.g=new Map,h.h=0,h.i&&f4(h.i,function(S,O){h.add(decodeURIComponent(S.replace(/\+/g," ")),O)}))}e=lu.prototype,e.add=function(h,S){ks(this),this.i=null,h=Aa(this,h);var O=this.g.get(h);return O||this.g.set(h,O=[]),O.push(S),this.h+=1,this};function R1(h,S){ks(h),S=Aa(h,S),h.g.has(S)&&(h.i=null,h.h-=h.g.get(S).length,h.g.delete(S))}function D1(h,S){return ks(h),S=Aa(h,S),h.g.has(S)}e.forEach=function(h,S){ks(this),this.g.forEach(function(O,M){O.forEach(function(Z){h.call(S,Z,M,this)},this)},this)},e.na=function(){ks(this);const h=Array.from(this.g.values()),S=Array.from(this.g.keys()),O=[];for(let M=0;M<S.length;M++){const Z=h[M];for(let ae=0;ae<Z.length;ae++)O.push(S[M])}return O},e.V=function(h){ks(this);let S=[];if(typeof h=="string")D1(this,h)&&(S=S.concat(this.g.get(Aa(this,h))));else{h=Array.from(this.g.values());for(let O=0;O<h.length;O++)S=S.concat(h[O])}return S},e.set=function(h,S){return ks(this),this.i=null,h=Aa(this,h),D1(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[S]),this.h+=1,this},e.get=function(h,S){return h?(h=this.V(h),0<h.length?String(h[0]):S):S};function O1(h,S,O){R1(h,S),0<O.length&&(h.i=null,h.g.set(Aa(h,S),p(O)),h.h+=O.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],S=Array.from(this.g.keys());for(var O=0;O<S.length;O++){var M=S[O];const ae=encodeURIComponent(String(M)),Ve=this.V(M);for(M=0;M<Ve.length;M++){var Z=ae;Ve[M]!==""&&(Z+="="+encodeURIComponent(String(Ve[M]))),h.push(Z)}}return this.i=h.join("&")};function Aa(h,S){return S=String(S),h.j&&(S=S.toLowerCase()),S}function y4(h,S){S&&!h.j&&(ks(h),h.i=null,h.g.forEach(function(O,M){var Z=M.toLowerCase();M!=Z&&(R1(this,M),O1(this,Z,O))},h)),h.j=S}function _4(h,S){const O=new ru;if(a.Image){const M=new Image;M.onload=m(Ss,O,"TestLoadImage: loaded",!0,S,M),M.onerror=m(Ss,O,"TestLoadImage: error",!1,S,M),M.onabort=m(Ss,O,"TestLoadImage: abort",!1,S,M),M.ontimeout=m(Ss,O,"TestLoadImage: timeout",!1,S,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else S(!1)}function b4(h,S){const O=new ru,M=new AbortController,Z=setTimeout(()=>{M.abort(),Ss(O,"TestPingServer: timeout",!1,S)},1e4);fetch(h,{signal:M.signal}).then(ae=>{clearTimeout(Z),ae.ok?Ss(O,"TestPingServer: ok",!0,S):Ss(O,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Z),Ss(O,"TestPingServer: error",!1,S)})}function Ss(h,S,O,M,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),M(O)}catch{}}function w4(){this.g=new Ri}function k4(h,S,O){const M=O||"";try{x1(h,function(Z,ae){let Ve=Z;u(Z)&&(Ve=Ia(Z)),S.push(M+ae+"="+encodeURIComponent(Ve))})}catch(Z){throw S.push(M+"type="+encodeURIComponent("_badmap")),Z}}function Pd(h){this.l=h.Ub||null,this.j=h.eb||!1}g(Pd,Ta),Pd.prototype.g=function(){return new Vd(this.l,this.j)},Pd.prototype.i=function(h){return function(){return h}}({});function Vd(h,S){Me.call(this),this.D=h,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Vd,Me),e=Vd.prototype,e.open=function(h,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=S,this.readyState=1,cu(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(S.body=h),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uu(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cu(this)),this.g&&(this.readyState=3,cu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;L1(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function L1(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var S=h.value?h.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!h.done}))&&(this.response=this.responseText+=S)}h.done?uu(this):cu(this),this.readyState==3&&L1(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,uu(this))},e.Qa=function(h){this.g&&(this.response=h,uu(this))},e.ga=function(){this.g&&uu(this)};function uu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,cu(h)}e.setRequestHeader=function(h,S){this.u.append(h,S)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],S=this.h.entries();for(var O=S.next();!O.done;)O=O.value,h.push(O[0]+": "+O[1]),O=S.next();return h.join(`\r
`)};function cu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function M1(h){let S="";return R(h,function(O,M){S+=M,S+=":",S+=O,S+=`\r
`}),S}function Mm(h,S,O){e:{for(M in O){var M=!1;break e}M=!0}M||(O=M1(O),typeof h=="string"?O!=null&&encodeURIComponent(String(O)):Ft(h,S,O))}function Jt(h){Me.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Jt,Me);var S4=/^https?$/i,C4=["POST","PUT"];e=Jt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,S,O,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);S=S?S.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Am.g(),this.v=this.o?d1(this.o):d1(Am),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(h),!0),this.B=!1}catch(ae){N1(this,ae);return}if(h=O||"",O=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Z in M)O.set(Z,M[Z]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ae of M.keys())O.set(ae,M.get(ae));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(O.keys()).find(ae=>ae.toLowerCase()=="content-type"),Z=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(C4,S,void 0))||M||Z||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,Ve]of O)this.g.setRequestHeader(ae,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$1(this),this.u=!0,this.g.send(h),this.u=!1}catch(ae){N1(this,ae)}};function N1(h,S){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=S,h.m=5,F1(h),Rd(h)}function F1(h){h.A||(h.A=!0,Ke(h,"complete"),Ke(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ke(this,"complete"),Ke(this,"abort"),Rd(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rd(this,!0)),Jt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?B1(this):this.bb())},e.bb=function(){B1(this)};function B1(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Br(h)!=4||h.Z()!=2)){if(h.u&&Br(h)==4)bt(h.Ea,0,h);else if(Ke(h,"readystatechange"),Br(h)==4){h.h=!1;try{const Ve=h.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var O;if(!(O=S)){var M;if(M=Ve===0){var Z=String(h.D).match(A1)[1]||null;!Z&&a.self&&a.self.location&&(Z=a.self.location.protocol.slice(0,-1)),M=!S4.test(Z?Z.toLowerCase():"")}O=M}if(O)Ke(h,"complete"),Ke(h,"success");else{h.m=6;try{var ae=2<Br(h)?h.g.statusText:""}catch{ae=""}h.l=ae+" ["+h.Z()+"]",F1(h)}}finally{Rd(h)}}}}function Rd(h,S){if(h.g){$1(h);const O=h.g,M=h.v[0]?()=>{}:null;h.g=null,h.v=null,S||Ke(h,"ready");try{O.onreadystatechange=M}catch{}}}function $1(h){h.I&&(a.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Br(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var S=this.g.responseText;return h&&S.indexOf(h)==0&&(S=S.substring(h.length)),ni(S)}};function U1(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function E4(h){const S={};h=(h.g&&2<=Br(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(k(h[M]))continue;var O=E(h[M]);const Z=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const ae=S[Z]||[];S[Z]=ae,ae.push(O)}x(S,function(M){return M.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function du(h,S,O){return O&&O.internalChannelParams&&O.internalChannelParams[h]||S}function H1(h){this.Aa=0,this.i=[],this.j=new ru,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=du("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=du("baseRetryDelayMs",5e3,h),this.cb=du("retryDelaySeedMs",1e4,h),this.Wa=du("forwardChannelMaxRetries",2,h),this.wa=du("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new S1(h&&h.concurrentRequestLimit),this.Da=new w4,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=H1.prototype,e.la=8,e.G=1,e.connect=function(h,S,O,M){ii(0),this.W=h,this.H=S||{},O&&M!==void 0&&(this.H.OSID=O,this.H.OAID=M),this.F=this.X,this.I=X1(this,null,this.W),Od(this)};function Nm(h){if(j1(h),h.G==3){var S=h.U++,O=Fr(h.I);if(Ft(O,"SID",h.K),Ft(O,"RID",S),Ft(O,"TYPE","terminate"),fu(h,O),S=new ws(h,h.j,S),S.L=2,S.v=Ad(Fr(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!O&&a.Image&&(new Image().src=S.v,O=!0),O||(S.g=J1(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Id(S)}Q1(h)}function Dd(h){h.g&&(Bm(h),h.g.cancel(),h.g=null)}function j1(h){Dd(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ld(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Od(h){if(!C1(h.h)&&!h.s){h.s=!0;var S=h.Ga;K||H(),U||(K(),U=!0),B.add(S,h),h.B=0}}function I4(h,S){return E1(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=S.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=iu(v(h.Ga,h,S),Y1(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new ws(this,this.j,h);let ae=this.o;if(this.S&&(ae?(ae=w(ae),C(ae,this.S)):ae=this.S),this.m!==null||this.O||(Z.H=ae,ae=null),this.P)e:{for(var S=0,O=0;O<this.i.length;O++){t:{var M=this.i[O];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(S+=M,4096<S){S=O;break e}if(S===4096||O===this.i.length-1){S=O+1;break e}}S=1e3}else S=1e3;S=W1(this,Z,S),O=Fr(this.I),Ft(O,"RID",h),Ft(O,"CVER",22),this.D&&Ft(O,"X-HTTP-Session-Id",this.D),fu(this,O),ae&&(this.O?S="headers="+encodeURIComponent(String(M1(ae)))+"&"+S:this.m&&Mm(O,this.m,ae)),Lm(this.h,Z),this.Ua&&Ft(O,"TYPE","init"),this.P?(Ft(O,"$req",S),Ft(O,"SID","null"),Z.T=!0,Vm(Z,O,null)):Vm(Z,O,S),this.G=2}}else this.G==3&&(h?z1(this,h):this.i.length==0||C1(this.h)||z1(this))};function z1(h,S){var O;S?O=S.l:O=h.U++;const M=Fr(h.I);Ft(M,"SID",h.K),Ft(M,"RID",O),Ft(M,"AID",h.T),fu(h,M),h.m&&h.o&&Mm(M,h.m,h.o),O=new ws(h,h.j,O,h.B+1),h.m===null&&(O.H=h.o),S&&(h.i=S.D.concat(h.i)),S=W1(h,O,1e3),O.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Lm(h.h,O),Vm(O,M,S)}function fu(h,S){h.H&&R(h.H,function(O,M){Ft(S,M,O)}),h.l&&x1({},function(O,M){Ft(S,M,O)})}function W1(h,S,O){O=Math.min(h.i.length,O);var M=h.l?v(h.l.Na,h.l,h):null;e:{var Z=h.i;let ae=-1;for(;;){const Ve=["count="+O];ae==-1?0<O?(ae=Z[0].g,Ve.push("ofs="+ae)):ae=0:Ve.push("ofs="+ae);let Rt=!0;for(let In=0;In<O;In++){let wt=Z[In].g;const $n=Z[In].map;if(wt-=ae,0>wt)ae=Math.max(0,Z[In].g-100),Rt=!1;else try{k4($n,Ve,"req"+wt+"_")}catch{M&&M($n)}}if(Rt){M=Ve.join("&");break e}}}return h=h.i.splice(0,O),S.D=h,M}function q1(h){if(!h.g&&!h.u){h.Y=1;var S=h.Fa;K||H(),U||(K(),U=!0),B.add(S,h),h.v=0}}function Fm(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=iu(v(h.Fa,h),Y1(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,G1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=iu(v(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ii(10),Dd(this),G1(this))};function Bm(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function G1(h){h.g=new ws(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var S=Fr(h.qa);Ft(S,"RID","rpc"),Ft(S,"SID",h.K),Ft(S,"AID",h.T),Ft(S,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ft(S,"TO",h.ja),Ft(S,"TYPE","xmlhttp"),fu(h,S),h.m&&h.o&&Mm(S,h.m,h.o),h.L&&(h.g.I=h.L);var O=h.g;h=h.ia,O.L=1,O.v=Ad(Fr(S)),O.m=null,O.P=!0,b1(O,h)}e.Za=function(){this.C!=null&&(this.C=null,Dd(this),Fm(this),ii(19))};function Ld(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function K1(h,S){var O=null;if(h.g==S){Ld(h),Bm(h),h.g=null;var M=2}else if(Om(h.h,S))O=S.D,I1(h.h,S),M=1;else return;if(h.G!=0){if(S.o)if(M==1){O=S.m?S.m.length:0,S=Date.now()-S.F;var Z=h.B;M=Sd(),Ke(M,new g1(M,O)),Od(h)}else q1(h);else if(Z=S.s,Z==3||Z==0&&0<S.X||!(M==1&&I4(h,S)||M==2&&Fm(h)))switch(O&&0<O.length&&(S=h.h,S.i=S.i.concat(O)),Z){case 1:fo(h,5);break;case 4:fo(h,10);break;case 3:fo(h,6);break;default:fo(h,2)}}}function Y1(h,S){let O=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(O*=2),O*S}function fo(h,S){if(h.j.info("Error code "+S),S==2){var O=v(h.fb,h),M=h.Xa;const Z=!M;M=new co(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Td(M,"https"),Ad(M),Z?_4(M.toString(),O):b4(M.toString(),O)}else ii(2);h.G=0,h.l&&h.l.sa(S),Q1(h),j1(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ii(2)):(this.j.info("Failed to ping google.com"),ii(1))};function Q1(h){if(h.G=0,h.ka=[],h.l){const S=T1(h.h);(S.length!=0||h.i.length!=0)&&(y(h.ka,S),y(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function X1(h,S,O){var M=O instanceof co?Fr(O):new co(O);if(M.g!="")S&&(M.g=S+"."+M.g),xd(M,M.s);else{var Z=a.location;M=Z.protocol,S=S?S+"."+Z.hostname:Z.hostname,Z=+Z.port;var ae=new co(null);M&&Td(ae,M),S&&(ae.g=S),Z&&xd(ae,Z),O&&(ae.l=O),M=ae}return O=h.D,S=h.ya,O&&S&&Ft(M,O,S),Ft(M,"VER",h.la),fu(h,M),M}function J1(h,S,O){if(S&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=h.Ca&&!h.pa?new Jt(new Pd({eb:O})):new Jt(h.pa),S.Ha(h.J),S}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z1(){}e=Z1.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Md(){}Md.prototype.g=function(h,S){return new pi(h,S)};function pi(h,S){Me.call(this),this.g=new H1(S),this.l=h,this.h=S&&S.messageUrlParams||null,h=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(h?h["X-WebChannel-Content-Type"]=S.messageContentType:h={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(h?h["X-WebChannel-Client-Profile"]=S.va:h={"X-WebChannel-Client-Profile":S.va}),this.g.S=h,(h=S&&S.Sb)&&!k(h)&&(this.g.m=h),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!k(S)&&(this.g.D=S,h=this.h,h!==null&&S in h&&(h=this.h,S in h&&delete h[S])),this.j=new Pa(this)}g(pi,Me),pi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pi.prototype.close=function(){Nm(this.g)},pi.prototype.o=function(h){var S=this.g;if(typeof h=="string"){var O={};O.__data__=h,h=O}else this.u&&(O={},O.__data__=Ia(h),h=O);S.i.push(new u4(S.Ya++,h)),S.G==3&&Od(S)},pi.prototype.N=function(){this.g.l=null,delete this.j,Nm(this.g),delete this.g,pi.aa.N.call(this)};function ew(h){Tm.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var S=h.__sm__;if(S){e:{for(const O in S){h=O;break e}h=void 0}(this.i=h)&&(h=this.i,S=S!==null&&h in S?S[h]:void 0),this.data=S}else this.data=h}g(ew,Tm);function tw(){xm.call(this),this.status=1}g(tw,xm);function Pa(h){this.g=h}g(Pa,Z1),Pa.prototype.ua=function(){Ke(this.g,"a")},Pa.prototype.ta=function(h){Ke(this.g,new ew(h))},Pa.prototype.sa=function(h){Ke(this.g,new tw)},Pa.prototype.ra=function(){Ke(this.g,"b")},Md.prototype.createWebChannel=Md.prototype.g,pi.prototype.send=pi.prototype.o,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,DV=function(){return new Md},RV=function(){return Sd()},VV=lo,ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cd.NO_ERROR=0,Cd.TIMEOUT=8,Cd.HTTP_ERROR=6,Pf=Cd,p1.COMPLETE="complete",PV=p1,f1.EventType=tu,tu.OPEN="a",tu.CLOSE="b",tu.ERROR="c",tu.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Au=f1,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,AV=Jt}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const iC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new ed("@firebase/firestore");function wu(){return na.logLevel}function je(e,...t){if(na.logLevel<=lt.DEBUG){const n=t.map($0);na.debug(`Firestore (${Gl}): ${e}`,...n)}}function os(e,...t){if(na.logLevel<=lt.ERROR){const n=t.map($0);na.error(`Firestore (${Gl}): ${e}`,...n)}}function _l(e,...t){if(na.logLevel<=lt.WARN){const n=t.map($0);na.warn(`Firestore (${Gl}): ${e}`,...n)}}function $0(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e="Unexpected state"){const t=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: `+e;throw os(t),new Error(t)}function Tt(e,t){e||Je()}function it(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class RW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DW{constructor(t){this.t=t,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Tt(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jr,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt(typeof i.accessToken=="string"),new OV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tt(t===null||typeof t=="string"),new jn(t)}}class OW{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LW{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new OW(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MW{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NW{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Tt(this.o===void 0);const i=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new MW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=FW(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%t.length))}return i}}function kt(e,t){return e<t?-1:e>t?1:0}function bl(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return cn.fromMillis(Date.now())}static fromDate(t){return cn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new cn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.timestamp=t}static fromTimestamp(t){return new et(t)}static min(){return new et(new cn(0,0))}static max(){return new et(new cn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,i){n===void 0?n=0:n>t.length&&Je(),i===void 0?i=t.length-n:i>t.length-n&&Je(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Sc.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Sc?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=t.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ut extends Sc{construct(t,n,i){return new Ut(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ut(n)}static emptyPath(){return new Ut([])}}const BW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Sc{construct(t,n,i){return new Vn(t,n,i)}static isValidIdentifier(t){return BW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vn(["__name__"])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new Ne(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Ne(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Vn(n)}static emptyPath(){return new Vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.path=t}static fromPath(t){return new Ge(Ut.fromString(t))}static fromName(t){return new Ge(Ut.fromString(t).popFirst(5))}static empty(){return new Ge(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ut.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ut.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ge(new Ut(t.slice()))}}function $W(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=et.fromTimestamp(i===1e9?new cn(n+1,0):new cn(n,i));return new Ks(r,Ge.empty(),t)}function UW(e){return new Ks(e.readTime,e.key,-1)}class Ks{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ks(et.min(),Ge.empty(),-1)}static max(){return new Ks(et.max(),Ge.empty(),-1)}}function HW(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Ge.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(e){if(e.code!==ge.FAILED_PRECONDITION||e.message!==jW)throw e;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ke((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ke.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ke.reject(n)}static resolve(t){return new ke((n,i)=>{n(t)})}static reject(t){return new ke((n,i)=>{i(t)})}static waitFor(t){return new ke((n,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(t){let n=ke.resolve(!1);for(const i of t)n=n.next(r=>r?ke.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new ke((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(t,n){return new ke((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function WW(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}U0.oe=-1;function sm(e){return e==null}function wh(e){return e===0&&1/e==-1/0}function qW(e){return typeof e=="number"&&Number.isInteger(e)&&!wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function MV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n){this.comparator=t,this.root=n||Tn.EMPTY}insert(t,n){return new Yt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(t){return new Yt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nf(this.root,t,this.comparator,!0)}}class nf{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tn{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??Tn.RED,this.left=r??Tn.EMPTY,this.right=s??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new Tn(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const t=this.left.check();if(t!==this.right.check())throw Je();return t+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(t,n,i,r,s){return this}insert(t,n,i){return new Tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.comparator=t,this.data=new Yt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new sC(this.data.getIterator())}getIteratorFrom(t){return new sC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Rn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Rn(this.comparator);return n.data=t,n}}class sC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this.fields=t,t.sort(Vn.comparator)}static empty(){return new Si([])}unionWith(t){let n=new Rn(Vn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Si(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return bl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new NV("Invalid base64 string: "+s):s}}(t);return new Nn(n)}static fromUint8Array(t){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new Nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const GW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(e){if(Tt(!!e),typeof e=="string"){let t=0;const n=GW.exec(e);if(Tt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:en(e.seconds),nanos:en(e.nanos)}}function en(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ia(e){return typeof e=="string"?Nn.fromBase64String(e):Nn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function j0(e){const t=e.mapValue.fields.__previous_value__;return H0(t)?j0(t):t}function Cc(e){const t=Ys(e.mapValue.fields.__local_write_time__.timestampValue);return new cn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(t,n,i,r,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ec{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ec&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ra(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?H0(e)?4:QW(e)?9007199254740991:YW(e)?10:11:Je()}function Ir(e,t){if(e===t)return!0;const n=ra(e);if(n!==ra(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cc(e).isEqual(Cc(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ys(r.timestampValue),a=Ys(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return ia(r.bytesValue).isEqual(ia(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return en(r.geoPointValue.latitude)===en(s.geoPointValue.latitude)&&en(r.geoPointValue.longitude)===en(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return en(r.integerValue)===en(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=en(r.doubleValue),a=en(s.doubleValue);return o===a?wh(o)===wh(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return bl(e.arrayValue.values||[],t.arrayValue.values||[],Ir);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(rC(o)!==rC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ir(o[l],a[l])))return!1;return!0}(e,t);default:return Je()}}function Ic(e,t){return(e.values||[]).find(n=>Ir(n,t))!==void 0}function wl(e,t){if(e===t)return 0;const n=ra(e),i=ra(t);if(n!==i)return kt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=en(s.integerValue||s.doubleValue),l=en(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return oC(e.timestampValue,t.timestampValue);case 4:return oC(Cc(e),Cc(t));case 5:return kt(e.stringValue,t.stringValue);case 6:return function(s,o){const a=ia(s),l=ia(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=kt(a[u],l[u]);if(c!==0)return c}return kt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=kt(en(s.latitude),en(o.latitude));return a!==0?a:kt(en(s.longitude),en(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return aC(e.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},v=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=v.value)===null||l===void 0?void 0:l.arrayValue,p=kt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:aC(m,g)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===rf.mapValue&&o===rf.mapValue)return 0;if(s===rf.mapValue)return 1;if(o===rf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const v=kt(l[d],c[d]);if(v!==0)return v;const m=wl(a[l[d]],u[c[d]]);if(m!==0)return m}return kt(l.length,c.length)}(e.mapValue,t.mapValue);default:throw Je()}}function oC(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Ys(e),i=Ys(t),r=kt(n.seconds,i.seconds);return r!==0?r:kt(n.nanos,i.nanos)}function aC(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=wl(n[r],i[r]);if(s)return s}return kt(n.length,i.length)}function kl(e){return sy(e)}function sy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ys(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ia(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Ge.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=sy(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${sy(n.fields[o])}`;return r+"}"}(e.mapValue):Je()}function lC(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function oy(e){return!!e&&"integerValue"in e}function z0(e){return!!e&&"arrayValue"in e}function uC(e){return!!e&&"nullValue"in e}function cC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vf(e){return!!e&&"mapValue"in e}function YW(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=zu(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function QW(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.value=t}static empty(){return new ui({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Vf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zu(n)}setAll(t){let n=Vn.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=zu(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ir(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Vf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){wa(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ui(zu(this.value))}}function FV(e){const t=[];return wa(e.fields,(n,i)=>{const r=new Vn([n]);if(Vf(i)){const s=FV(i.mapValue).fields;if(s.length===0)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new Si(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t,n,i,r,s,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Kn(t,0,et.min(),et.min(),et.min(),ui.empty(),0)}static newFoundDocument(t,n,i,r){return new Kn(t,1,n,et.min(),i,r,0)}static newNoDocument(t,n){return new Kn(t,2,n,et.min(),et.min(),ui.empty(),0)}static newUnknownDocument(t,n){return new Kn(t,3,n,et.min(),et.min(),ui.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Kn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,n){this.position=t,this.inclusive=n}}function dC(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],o=e.position[r];if(s.field.isKeyField()?i=Ge.comparator(Ge.fromName(o.referenceValue),n.key):i=wl(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function fC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ir(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n="asc"){this.field=t,this.dir=n}}function XW(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{}class ln extends BV{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new ZW(t,n,i):n==="array-contains"?new nq(t,i):n==="in"?new iq(t,i):n==="not-in"?new rq(t,i):n==="array-contains-any"?new sq(t,i):new ln(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new eq(t,i):new tq(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wl(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(wl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends BV{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new or(t,n)}matches(t){return $V(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $V(e){return e.op==="and"}function UV(e){return JW(e)&&$V(e)}function JW(e){for(const t of e.filters)if(t instanceof or)return!1;return!0}function ay(e){if(e instanceof ln)return e.field.canonicalString()+e.op.toString()+kl(e.value);if(UV(e))return e.filters.map(t=>ay(t)).join(",");{const t=e.filters.map(n=>ay(n)).join(",");return`${e.op}(${t})`}}function HV(e,t){return e instanceof ln?function(i,r){return r instanceof ln&&i.op===r.op&&i.field.isEqual(r.field)&&Ir(i.value,r.value)}(e,t):e instanceof or?function(i,r){return r instanceof or&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&HV(o,r.filters[a]),!0):!1}(e,t):void Je()}function jV(e){return e instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`}(e):e instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(jV).join(" ,")+"}"}(e):"Filter"}class ZW extends ln{constructor(t,n,i){super(t,n,i),this.key=Ge.fromName(i.referenceValue)}matches(t){const n=Ge.comparator(t.key,this.key);return this.matchesComparison(n)}}class eq extends ln{constructor(t,n){super(t,"in",n),this.keys=zV("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tq extends ln{constructor(t,n){super(t,"not-in",n),this.keys=zV("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function zV(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class nq extends ln{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return z0(n)&&Ic(n.arrayValue,this.value)}}class iq extends ln{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ic(this.value.arrayValue,n)}}class rq extends ln{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ic(this.value.arrayValue,n)}}class sq extends ln{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ic(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(t,n=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function hC(e,t=null,n=[],i=[],r=null,s=null,o=null){return new oq(e,t,n,i,r,s,o)}function W0(e){const t=it(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>ay(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),sm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>kl(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>kl(i)).join(",")),t.ue=n}return t.ue}function q0(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!XW(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!HV(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fC(e.startAt,t.startAt)&&fC(e.endAt,t.endAt)}function ly(e){return Ge.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aq(e,t,n,i,r,s,o,a){return new Kl(e,t,n,i,r,s,o,a)}function om(e){return new Kl(e)}function vC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function WV(e){return e.collectionGroup!==null}function Wu(e){const t=it(e);if(t.ce===null){t.ce=[];const n=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rn(Vn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Tc(s,i))}),n.has(Vn.keyField().canonicalString())||t.ce.push(new Tc(Vn.keyField(),i))}return t.ce}function yr(e){const t=it(e);return t.le||(t.le=lq(t,Wu(e))),t.le}function lq(e,t){if(e.limitType==="F")return hC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Tc(r.field,s)});const n=e.endAt?new kh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new kh(e.startAt.position,e.startAt.inclusive):null;return hC(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function uy(e,t){const n=e.filters.concat([t]);return new Kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Sh(e,t,n){return new Kl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function am(e,t){return q0(yr(e),yr(t))&&e.limitType===t.limitType}function qV(e){return`${W0(yr(e))}|lt:${e.limitType}`}function $a(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>jV(r)).join(", ")}]`),sm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>kl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>kl(r)).join(",")),`Target(${i})`}(yr(e))}; limitType=${e.limitType})`}function lm(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ge.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Wu(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=dC(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Wu(i),r)||i.endAt&&!function(o,a,l){const u=dC(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Wu(i),r))}(e,t)}function uq(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function GV(e){return(t,n)=>{let i=!1;for(const r of Wu(e)){const s=cq(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function cq(e,t,n){const i=e.field.isKeyField()?Ge.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?wl(l,u):Je()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wa(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return MV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=new Yt(Ge.comparator);function as(){return dq}const KV=new Yt(Ge.comparator);function Pu(...e){let t=KV;for(const n of e)t=t.insert(n.key,n);return t}function YV(e){let t=KV;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ao(){return qu()}function QV(){return qu()}function qu(){return new Yl(e=>e.toString(),(e,t)=>e.isEqual(t))}const fq=new Yt(Ge.comparator),hq=new Rn(Ge.comparator);function ut(...e){let t=hq;for(const n of e)t=t.add(n);return t}const vq=new Rn(kt);function mq(){return vq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function XV(e){return{integerValue:""+e}}function gq(e,t){return qW(t)?XV(t):G0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function pq(e,t,n){return e instanceof xc?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&H0(s)&&(s=j0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof Ac?ZV(e,t):e instanceof Pc?eR(e,t):function(r,s){const o=JV(r,s),a=mC(o)+mC(r.Pe);return oy(o)&&oy(r.Pe)?XV(a):G0(r.serializer,a)}(e,t)}function yq(e,t,n){return e instanceof Ac?ZV(e,t):e instanceof Pc?eR(e,t):n}function JV(e,t){return e instanceof Ch?function(i){return oy(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class xc extends um{}class Ac extends um{constructor(t){super(),this.elements=t}}function ZV(e,t){const n=tR(t);for(const i of e.elements)n.some(r=>Ir(r,i))||n.push(i);return{arrayValue:{values:n}}}class Pc extends um{constructor(t){super(),this.elements=t}}function eR(e,t){let n=tR(t);for(const i of e.elements)n=n.filter(r=>!Ir(r,i));return{arrayValue:{values:n}}}class Ch extends um{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function mC(e){return en(e.integerValue||e.doubleValue)}function tR(e){return z0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(t,n){this.field=t,this.transform=n}}function bq(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof Ac&&r instanceof Ac||i instanceof Pc&&r instanceof Pc?bl(i.elements,r.elements,Ir):i instanceof Ch&&r instanceof Ch?Ir(i.Pe,r.Pe):i instanceof xc&&r instanceof xc}(e.transform,t.transform)}class wq{constructor(t,n){this.version=t,this.transformResults=n}}class Fi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class cm{}function nR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new K0(e.key,Fi.none()):new dd(e.key,e.data,Fi.none());{const n=e.data,i=ui.empty();let r=new Rn(Vn.comparator);for(let s of t.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new oo(e.key,i,new Si(r.toArray()),Fi.none())}}function kq(e,t,n){e instanceof dd?function(r,s,o){const a=r.value.clone(),l=pC(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof oo?function(r,s,o){if(!Rf(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pC(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(iR(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Gu(e,t,n,i){return e instanceof dd?function(s,o,a,l){if(!Rf(s.precondition,o))return a;const u=s.value.clone(),c=yC(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,i):e instanceof oo?function(s,o,a,l){if(!Rf(s.precondition,o))return a;const u=yC(s.fieldTransforms,l,o),c=o.data;return c.setAll(iR(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(e,t,n,i):function(s,o,a){return Rf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function Sq(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=JV(i.transform,r||null);s!=null&&(n===null&&(n=ui.empty()),n.set(i.field,s))}return n||null}function gC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&bl(i,r,(s,o)=>bq(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dd extends cm{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class oo extends cm{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function pC(e,t,n){const i=new Map;Tt(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,yq(o,a,n[r]))}return i}function yC(e,t,n){const i=new Map;for(const r of e){const s=r.transform,o=n.data.field(r.field);i.set(r.field,pq(s,o,t))}return i}class K0 extends cm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cq extends cm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&kq(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Gu(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Gu(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=QV();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=nR(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ut())}isEqual(t){return this.batchId===t.batchId&&bl(this.mutations,t.mutations,(n,i)=>gC(n,i))&&bl(this.baseMutations,t.baseMutations,(n,i)=>gC(n,i))}}class Y0{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){Tt(t.mutations.length===i.length);let r=function(){return fq}();const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Y0(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,ht;function xq(e){switch(e){default:return Je();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function rR(e){if(e===void 0)return os("GRPC error has no .code"),ge.UNKNOWN;switch(e){case on.OK:return ge.OK;case on.CANCELLED:return ge.CANCELLED;case on.UNKNOWN:return ge.UNKNOWN;case on.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case on.INTERNAL:return ge.INTERNAL;case on.UNAVAILABLE:return ge.UNAVAILABLE;case on.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case on.NOT_FOUND:return ge.NOT_FOUND;case on.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case on.ABORTED:return ge.ABORTED;case on.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case on.DATA_LOSS:return ge.DATA_LOSS;default:return Je()}}(ht=on||(on={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=new No([4294967295,4294967295],0);function _C(e){const t=Aq().encode(e),n=new xV;return n.update(t),new Uint8Array(n.digest())}function bC(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new No([n,i],0),new No([r,s],0)]}class Q0{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(i<0)throw new Vu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=No.fromNumber(this.Ie)}Ee(t,n,i){let r=t.add(n.multiply(No.fromNumber(i)));return r.compare(Pq)===1&&(r=new No([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=_C(t),[i,r]=bC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Q0(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.Ie===0)return;const n=_C(t),[i,r]=bC(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,fd.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new dm(et.min(),r,new Yt(kt),as(),ut())}}class fd{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new fd(i,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,n,i,r){this.Re=t,this.removedTargetIds=n,this.key=i,this.Ve=r}}class sR{constructor(t,n){this.targetId=t,this.me=n}}class oR{constructor(t,n,i=Nn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class wC{constructor(){this.fe=0,this.ge=SC(),this.pe=Nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ut(),n=ut(),i=ut();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Je()}}),new fd(this.pe,this.ye,t,n,i)}Ce(){this.we=!1,this.ge=SC()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Vq{constructor(t){this.Le=t,this.Be=new Map,this.ke=as(),this.qe=kC(),this.Qe=new Yt(kt)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const i=this.Ge(n);switch(t.state){case 0:this.ze(n)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(t.resumeToken));break;default:Je()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(t){const n=t.targetId,i=t.me.count,r=this.Je(n);if(r){const s=r.target;if(ly(s))if(i===0){const o=new Ge(s.path);this.Ue(n,o,Kn.newNoDocument(o,et.min()))}else Tt(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=ia(i).toUint8Array()}catch(l){if(l instanceof NV)return _l("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Q0(o,r,s)}catch(l){return _l(l instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,n,i){return n.me.count===i-this.nt(t,n.targetId)?0:2}nt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(t){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ly(a.target)){const l=new Ge(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Kn.newNoDocument(l,t))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=ut();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new dm(t,n,this.Qe,this.ke,i);return this.ke=as(),this.qe=kC(),this.Qe=new Yt(kt),r}$e(t,n){if(!this.ze(t))return;const i=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new wC,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Rn(kt),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||je("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new wC),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function kC(){return new Yt(Ge.comparator)}function SC(){return new Yt(Ge.comparator)}const Rq={asc:"ASCENDING",desc:"DESCENDING"},Dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oq={and:"AND",or:"OR"};class Lq{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cy(e,t){return e.useProto3Json||sm(t)?t:{value:t}}function Eh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Mq(e,t){return Eh(e,t.toTimestamp())}function _r(e){return Tt(!!e),et.fromTimestamp(function(n){const i=Ys(n);return new cn(i.seconds,i.nanos)}(e))}function X0(e,t){return dy(e,t).canonicalString()}function dy(e,t){const n=function(r){return new Ut(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function lR(e){const t=Ut.fromString(e);return Tt(hR(t)),t}function fy(e,t){return X0(e.databaseId,t.path)}function Cg(e,t){const n=lR(t);if(n.get(1)!==e.databaseId.projectId)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ne(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ge(cR(n))}function uR(e,t){return X0(e.databaseId,t)}function Nq(e){const t=lR(e);return t.length===4?Ut.emptyPath():cR(t)}function hy(e){return new Ut(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cR(e){return Tt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function CC(e,t,n){return{name:fy(e,t),fields:n.value.mapValue.fields}}function Fq(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Je()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Tt(c===void 0||typeof c=="string"),Nn.fromBase64String(c||"")):(Tt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Nn.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ge.UNKNOWN:rR(u.code);return new Ne(c,u.message||"")}(o);n=new oR(i,r,s,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Cg(e,i.document.name),s=_r(i.document.updateTime),o=i.document.createTime?_r(i.document.createTime):et.min(),a=new ui({mapValue:{fields:i.document.fields}}),l=Kn.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];n=new Df(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Cg(e,i.document),s=i.readTime?_r(i.readTime):et.min(),o=Kn.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Df([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Cg(e,i.document),s=i.removedTargetIds||[];n=new Df([],s,r,null)}else{if(!("filter"in t))return Je();{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new Tq(r,s),a=i.targetId;n=new sR(a,o)}}return n}function Bq(e,t){let n;if(t instanceof dd)n={update:CC(e,t.key,t.value)};else if(t instanceof K0)n={delete:fy(e,t.key)};else if(t instanceof oo)n={update:CC(e,t.key,t.data),updateMask:Kq(t.fieldMask)};else{if(!(t instanceof Cq))return Je();n={verify:fy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof xc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ch)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Je()}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Mq(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Je()}(e,t.precondition)),n}function $q(e,t){return e&&e.length>0?(Tt(t!==void 0),e.map(n=>function(r,s){let o=r.updateTime?_r(r.updateTime):_r(s);return o.isEqual(et.min())&&(o=_r(s)),new wq(o,r.transformResults||[])}(n,t))):[]}function Uq(e,t){return{documents:[uR(e,t.path)]}}function Hq(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=uR(e,r);const s=function(u){if(u.length!==0)return fR(or.create(u,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(v){return{field:Ua(v.field),direction:Wq(v.dir)}}(c))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cy(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:r}}function jq(e){let t=Nq(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Tt(i===1);const c=n.from[0];c.allDescendants?r=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(d){const v=dR(d);return v instanceof or&&UV(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(v=>function(g){return new Tc(Ha(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(d){let v;return v=typeof d=="object"?d.value:d,sm(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(d){const v=!!d.before,m=d.values||[];return new kh(m,v)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const v=!d.before,m=d.values||[];return new kh(m,v)}(n.endAt)),aq(t,r,o,s,a,"F",l,u)}function zq(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function dR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ha(n.unaryFilter.field);return ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ha(n.unaryFilter.field);return ln.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ha(n.unaryFilter.field);return ln.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ha(n.unaryFilter.field);return ln.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(e):e.fieldFilter!==void 0?function(n){return ln.create(Ha(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(i=>dR(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Je()}}(n.compositeFilter.op))}(e):Je()}function Wq(e){return Rq[e]}function qq(e){return Dq[e]}function Gq(e){return Oq[e]}function Ua(e){return{fieldPath:e.canonicalString()}}function Ha(e){return Vn.fromServerFormat(e.fieldPath)}function fR(e){return e instanceof ln?function(n){if(n.op==="=="){if(cC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(uC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(uC(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:qq(n.op),value:n.value}}}(e):e instanceof or?function(n){const i=n.getFilters().map(r=>fR(r));return i.length===1?i[0]:{compositeFilter:{op:Gq(n.op),filters:i}}}(e):Je()}function Kq(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function hR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n,i,r,s=et.min(),o=et.min(),a=Nn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(t){this.ct=t}}function Qq(e){const t=jq({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.un=new Jq}addToCollectionParentIndex(t,n){return this.un.add(n),ke.resolve()}getCollectionParents(t,n){return ke.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return ke.resolve()}deleteFieldIndex(t,n){return ke.resolve()}deleteAllFieldIndexes(t){return ke.resolve()}createTargetIndexes(t,n){return ke.resolve()}getDocumentsMatchingTarget(t,n){return ke.resolve(null)}getIndexType(t,n){return ke.resolve(0)}getFieldIndexes(t,n){return ke.resolve([])}getNextCollectionGroupToUpdate(t){return ke.resolve(null)}getMinOffset(t,n){return ke.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,n){return ke.resolve(Ks.min())}updateCollectionGroup(t,n,i){return ke.resolve()}updateIndexEntries(t,n){return ke.resolve()}}class Jq{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Rn(Ut.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Rn(Ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Sl(0)}static kn(){return new Sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this.changes=new Yl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Kn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ke.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Gu(i.mutation,r,Si.empty(),cn.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,ut()).next(()=>i))}getLocalViewOfDocuments(t,n,i=ut()){const r=Ao();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let o=Pu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Ao();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,ut()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,r){let s=as();const o=qu(),a=function(){return qu()}();return n.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof oo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Gu(c.mutation,u,c.mutation.getFieldMask(),cn.now())):o.set(u.key,Si.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new eG(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const i=qu();let r=new Yt((o,a)=>o-a),s=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=i.get(l)||Si.empty();c=a.applyToLocalView(u,c),i.set(l,c);const d=(r.get(a.batchId)||ut()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=QV();c.forEach(v=>{if(!s.has(v)){const m=nR(n.get(v),i.get(v));m!==null&&d.set(v,m),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return ke.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(o){return Ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):WV(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):ke.resolve(Ao());let a=-1,l=s;return o.next(u=>ke.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?ke.resolve():this.remoteDocumentCache.getEntry(t,c).next(v=>{l=l.insert(c,v)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,ut())).next(c=>({batchId:a,changes:YV(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ge(n)).next(i=>{let r=Pu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let o=Pu();return this.indexManager.getCollectionParents(t,s).next(a=>ke.forEach(a,l=>{const u=function(d,v){return new Kl(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,i,r).next(c=>{c.forEach((d,v)=>{o=o.insert(d,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Kn.newInvalidDocument(c)))});let a=Pu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Gu(c.mutation,u,Si.empty(),cn.now()),lm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return ke.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:_r(r.createTime)}}(n)),ke.resolve()}getNamedQuery(t,n){return ke.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:Qq(r.bundledQuery),readTime:_r(r.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.overlays=new Yt(Ge.comparator),this.Ir=new Map}getOverlay(t,n){return ke.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ao();return ke.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.ht(t,n,s)}),ke.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),ke.resolve()}getOverlaysForCollection(t,n,i){const r=Ao(),s=n.length+1,o=new Ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return ke.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Yt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Ao(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ao(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return ke.resolve(a)}ht(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Iq(n,i));let s=this.Ir.get(n);s===void 0&&(s=ut(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(t){return ke.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.Tr=new Rn(gn.Er),this.dr=new Rn(gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const i=new gn(t,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Vr(new gn(t,n))}mr(t,n){t.forEach(i=>this.removeReference(i,n))}gr(t){const n=new Ge(new Ut([])),i=new gn(n,t),r=new gn(n,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new Ge(new Ut([])),i=new gn(n,t),r=new gn(n,t+1);let s=ut();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new gn(t,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class gn{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return Ge.comparator(t.key,n.key)||kt(t.wr,n.wr)}static Ar(t,n){return kt(t.wr,n.wr)||Ge.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rn(gn.Er)}checkEmpty(t){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Eq(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new gn(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(t,n){return ke.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new gn(n,0),r=new gn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Rn(kt);return n.forEach(r=>{const s=new gn(r,0),o=new gn(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),ke.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;Ge.isDocumentKey(s)||(s=s.child(""));const o=new gn(new Ge(s),0);let a=new Rn(kt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),ke.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){Tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ke.forEach(n.mutations,r=>{const s=new gn(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,n){const i=new gn(n,0),r=this.br.firstAfterOrEqual(i);return ke.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ke.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(t){this.Mr=t,this.docs=function(){return new Yt(Ge.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return ke.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(t,n){let i=as();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Kn.newInvalidDocument(r))}),ke.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=as();const o=n.path,a=new Ge(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||HW(UW(c),i)<=0||(r.has(c.key)||lm(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Je()}Or(t,n){return ke.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new aG(this)}getSize(t){return ke.resolve(this.size)}}class aG extends Zq{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),ke.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(t){this.persistence=t,this.Nr=new Yl(n=>W0(n),q0),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.Lr=0,this.Br=new J0,this.targetCount=0,this.kr=Sl.Bn()}forEachTarget(t,n){return this.Nr.forEach((i,r)=>n(r)),ke.resolve()}getLastRemoteSnapshotVersion(t){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ke.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),ke.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Sl(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,ke.resolve()}updateTargetData(t,n){return this.Kn(n),ke.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ke.waitFor(s).next(()=>r)}getTargetCount(t){return ke.resolve(this.targetCount)}getTargetData(t,n){const i=this.Nr.get(n)||null;return ke.resolve(i)}addMatchingKeys(t,n,i){return this.Br.Rr(n,i),ke.resolve()}removeMatchingKeys(t,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),ke.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Br.yr(n);return ke.resolve(i)}containsKey(t,n){return ke.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(t,n){this.qr={},this.overlays={},this.Qr=new U0(0),this.Kr=!1,this.Kr=!0,this.$r=new rG,this.referenceDelegate=t(this),this.Ur=new lG(this),this.indexManager=new Xq,this.remoteDocumentCache=function(r){return new oG(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Yq(n),this.Gr=new nG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iG,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.qr[t.toKey()];return i||(i=new sG(n,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,i){je("MemoryPersistence","Starting transaction:",t);const r=new cG(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,n){return ke.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,n)))}}class cG extends zW{constructor(t){super(),this.currentSequenceNumber=t}}class Z0{constructor(t){this.persistence=t,this.Jr=new J0,this.Yr=null}static Zr(t){return new Z0(t)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(t,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),ke.resolve()}removeReference(t,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),ke.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),ke.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Xr,i=>{const r=Ge.fromPath(i);return this.ei(t,r).next(s=>{s||n.removeEntry(r,et.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return ke.or([()=>ke.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(t,n){let i=ut(),r=ut();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new eb(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return YB()?8:WW(ei())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.Yi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dG;return this.Xi(t,n,o).next(a=>{if(s.result=a,this.zi)return this.es(t,n,o,a.size)})}).next(()=>s.result)}es(t,n,i,r){return i.documentReadCount<this.ji?(wu()<=lt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ke.resolve()):(wu()<=lt.DEBUG&&je("QueryEngine","Query:",$a(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(wu()<=lt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yr(n))):ke.resolve())}Yi(t,n){if(vC(n))return ke.resolve(null);let i=yr(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Sh(n,null,"F"),i=yr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=ut(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(t,Sh(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,i,r){return vC(n)||r.isEqual(et.min())?ke.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?ke.resolve(null):(wu()<=lt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$a(n)),this.rs(t,o,n,$W(r,-1)).next(a=>a))})}ts(t,n){let i=new Rn(GV(t));return n.forEach((r,s)=>{lm(t,s)&&(i=i.add(s))}),i}ns(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,n,i){return wu()<=lt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",$a(n)),this.Ji.getDocumentsMatchingQuery(t,n,Ks.min(),i)}rs(t,n,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(t,n,i,r){this.persistence=t,this.ss=n,this.serializer=r,this.os=new Yt(kt),this._s=new Yl(s=>W0(s),q0),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function vG(e,t,n,i){return new hG(e,t,n,i)}async function vR(e,t){const n=it(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ut();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function mG(e,t){const n=it(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,v=d.keys();let m=ke.resolve();return v.forEach(g=>{m=m.next(()=>c.getEntry(l,g)).next(p=>{const y=u.docVersions.get(g);Tt(y!==null),p.version.compareTo(y)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ut();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function mR(e){const t=it(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function gG(e,t){const n=it(e),i=t.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];t.targetChanges.forEach((c,d)=>{const v=r.get(d);if(!v)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,d)));let m=v.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(Nn.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,i)),r=r.insert(d,m),function(p,y,_){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(v,m,c)&&a.push(n.Ur.updateTargetData(s,m))});let l=as(),u=ut();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(pG(s,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!i.isEqual(et.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function pG(e,t,n){let i=ut(),r=ut();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let o=as();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):je("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function yG(e,t){const n=it(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _G(e,t){const n=it(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,t).next(s=>s?(r=s,ke.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Fs(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(t,i.targetId)),i})}async function vy(e,t,n){const i=it(e),r=i.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!cd(o))throw o;je("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)}function EC(e,t,n){const i=it(e);let r=et.min(),s=ut();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=it(l),v=d._s.get(c);return v!==void 0?ke.resolve(d.os.get(v)):d.Ur.getTargetData(u,c)}(i,o,yr(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,n?r:et.min(),n?s:ut())).next(a=>(bG(i,uq(t),a),{documents:a,Ts:s})))}function bG(e,t,n){let i=e.us.get(t)||et.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.us.set(t,i)}class IC{constructor(){this.activeTargetIds=mq()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wG{constructor(){this.so=new IC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,i){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new IC,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function Eg(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class EG extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Eg(),l=this.xo(n,i.toUriEncodedString());je("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(c=>(je("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw _l("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",r),c})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=SG[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,i,r){const s=Eg();return new Promise((o,a)=>{const l=new AV;l.setWithCredentials(!0),l.listenOnce(PV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pf.NO_ERROR:const c=l.getResponseJson();je(Hn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Pf.TIMEOUT:je(Hn,`RPC '${t}' ${s} timed out`),a(new Ne(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Pf.HTTP_ERROR:const d=l.getStatus();if(je(Hn,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const m=v==null?void 0:v.error;if(m&&m.status&&m.message){const g=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(_)>=0?_:ge.UNKNOWN}(m.status);a(new Ne(g,m.message))}else a(new Ne(ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ne(ge.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{je(Hn,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(r);je(Hn,`RPC '${t}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(t,n,i){const r=Eg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=DV(),a=RV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const c=s.join("");je(Hn,`Creating RPC '${t}' stream ${r}: ${c}`,l);const d=o.createWebChannel(c,l);let v=!1,m=!1;const g=new CG({Io:y=>{m?je(Hn,`Not sending because RPC '${t}' stream ${r} is closed:`,y):(v||(je(Hn,`Opening RPC '${t}' stream ${r} transport.`),d.open(),v=!0),je(Hn,`RPC '${t}' stream ${r} sending:`,y),d.send(y))},To:()=>d.close()}),p=(y,_,k)=>{y.listen(_,A=>{try{k(A)}catch(T){setTimeout(()=>{throw T},0)}})};return p(d,Au.EventType.OPEN,()=>{m||(je(Hn,`RPC '${t}' stream ${r} transport opened.`),g.yo())}),p(d,Au.EventType.CLOSE,()=>{m||(m=!0,je(Hn,`RPC '${t}' stream ${r} transport closed`),g.So())}),p(d,Au.EventType.ERROR,y=>{m||(m=!0,_l(Hn,`RPC '${t}' stream ${r} transport errored:`,y),g.So(new Ne(ge.UNAVAILABLE,"The operation could not be completed")))}),p(d,Au.EventType.MESSAGE,y=>{var _;if(!m){const k=y.data[0];Tt(!!k);const A=k,T=A.error||((_=A[0])===null||_===void 0?void 0:_.error);if(T){je(Hn,`RPC '${t}' stream ${r} received error:`,T);const D=T.status;let R=function(b){const C=on[b];if(C!==void 0)return rR(C)}(D),x=T.message;R===void 0&&(R=ge.INTERNAL,x="Unknown error status: "+D+" with message "+T.message),m=!0,g.So(new Ne(R,x)),d.close()}else je(Hn,`RPC '${t}' stream ${r} received:`,k),g.bo(k)}}),p(a,VV.STAT_EVENT,y=>{y.stat===ry.PROXY?je(Hn,`RPC '${t}' stream ${r} detected buffering proxy`):y.stat===ry.NOPROXY&&je(Hn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(e){return new Lq(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,n,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gR(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{t(()=>{const r=new Ne(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,n){const i=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return je("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IG extends pR{constructor(t,n,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=Fq(this.serializer,t),i=function(s){if(!("targetChange"in s))return et.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?_r(o.readTime):et.min()}(t);return this.listener.d_(n,i)}A_(t){const n={};n.database=hy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ly(l)?{documents:Uq(s,l)}:{query:Hq(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aR(s,o.resumeToken);const u=cy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(et.min())>0){a.readTime=Eh(s,o.snapshotVersion.toTimestamp());const u=cy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const i=zq(this.serializer,t);i&&(n.labels=i),this.a_(n)}R_(t){const n={};n.database=hy(this.serializer),n.removeTarget=t,this.a_(n)}}class TG extends pR{constructor(t,n,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,Tt(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=$q(t.writeResults,t.commitTime),i=_r(t.commitTime);return this.listener.g_(i,n)}p_(){const t={};t.database=hy(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Bq(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG extends class{}{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,dy(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ge.UNKNOWN,s.toString())})}Lo(t,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,dy(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ge.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AG{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(os(n),this.D_=!1):je("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{ka(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=it(l);u.L_.add(4),await hd(u),u.q_.set("Unknown"),u.L_.delete(4),await hm(u)}(this))})}),this.q_=new AG(i,r)}}async function hm(e){if(ka(e))for(const t of e.B_)await t(!0)}async function hd(e){for(const t of e.B_)await t(!1)}function yR(e,t){const n=it(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),rb(n)?ib(n):Ql(n).r_()&&nb(n,t))}function tb(e,t){const n=it(e),i=Ql(n);n.N_.delete(t),i.r_()&&_R(n,t),n.N_.size===0&&(i.r_()?i.o_():ka(n)&&n.q_.set("Unknown"))}function nb(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(et.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ql(e).A_(t)}function _R(e,t){e.Q_.xe(t),Ql(e).R_(t)}function ib(e){e.Q_=new Vq({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ql(e).start(),e.q_.v_()}function rb(e){return ka(e)&&!Ql(e).n_()&&e.N_.size>0}function ka(e){return it(e).L_.size===0}function bR(e){e.Q_=void 0}async function VG(e){e.q_.set("Online")}async function RG(e){e.N_.forEach((t,n)=>{nb(e,t)})}async function DG(e,t){bR(e),rb(e)?(e.q_.M_(t),ib(e)):e.q_.set("Unknown")}async function OG(e,t,n){if(e.q_.set("Online"),t instanceof oR&&t.state===2&&t.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(e,t)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ih(e,i)}else if(t instanceof Df?e.Q_.Ke(t):t instanceof sR?e.Q_.He(t):e.Q_.We(t),!n.isEqual(et.min()))try{const i=await mR(e.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Nn.EMPTY_BYTE_STRING,c.snapshotVersion)),_R(s,l);const d=new Fs(c.target,l,u,c.sequenceNumber);nb(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){je("RemoteStore","Failed to raise snapshot:",i),await Ih(e,i)}}async function Ih(e,t,n){if(!cd(t))throw t;e.L_.add(1),await hd(e),e.q_.set("Offline"),n||(n=()=>mR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await hm(e)})}function wR(e,t){return t().catch(n=>Ih(e,n,t))}async function vm(e){const t=it(e),n=Qs(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;LG(t);)try{const r=await yG(t.localStore,i);if(r===null){t.O_.length===0&&n.o_();break}i=r.batchId,MG(t,r)}catch(r){await Ih(t,r)}kR(t)&&SR(t)}function LG(e){return ka(e)&&e.O_.length<10}function MG(e,t){e.O_.push(t);const n=Qs(e);n.r_()&&n.V_&&n.m_(t.mutations)}function kR(e){return ka(e)&&!Qs(e).n_()&&e.O_.length>0}function SR(e){Qs(e).start()}async function NG(e){Qs(e).p_()}async function FG(e){const t=Qs(e);for(const n of e.O_)t.m_(n.mutations)}async function BG(e,t,n){const i=e.O_.shift(),r=Y0.from(i,t,n);await wR(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await vm(e)}async function $G(e,t){t&&Qs(e).V_&&await async function(i,r){if(function(o){return xq(o)&&o!==ge.ABORTED}(r.code)){const s=i.O_.shift();Qs(i).s_(),await wR(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await vm(i)}}(e,t),kR(e)&&SR(e)}async function xC(e,t){const n=it(e);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=ka(n);n.L_.add(3),await hd(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await hm(n)}async function UG(e,t){const n=it(e);t?(n.L_.delete(2),await hm(n)):t||(n.L_.add(2),await hd(n),n.q_.set("Unknown"))}function Ql(e){return e.K_||(e.K_=function(n,i,r){const s=it(n);return s.w_(),new IG(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:VG.bind(null,e),Ro:RG.bind(null,e),mo:DG.bind(null,e),d_:OG.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),rb(e)?ib(e):e.q_.set("Unknown")):(await e.K_.stop(),bR(e))})),e.K_}function Qs(e){return e.U_||(e.U_=function(n,i,r){const s=it(n);return s.w_(),new TG(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NG.bind(null,e),mo:$G.bind(null,e),f_:FG.bind(null,e),g_:BG.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await vm(e)):(await e.U_.stop(),e.O_.length>0&&(je("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const o=Date.now()+i,a=new sb(t,n,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ob(e,t){if(os("AsyncQueue",`${t}: ${e}`),cd(e))return new Ne(ge.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Ge.comparator(n.key,i.key):(n,i)=>Ge.comparator(n.key,i.key),this.keyedMap=Pu(),this.sortedSet=new Yt(this.comparator)}static emptySet(t){return new rl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof rl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new rl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.W_=new Yt(Ge.comparator)}track(t){const n=t.doc.key,i=this.W_.get(n);i?t.type!==0&&i.type===3?this.W_=this.W_.insert(n,t):t.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.W_=this.W_.remove(n):t.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):Je():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Cl{constructor(t,n,i,r,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Cl(t,n,rl.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&am(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class jG{constructor(){this.queries=PC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=it(n),s=r.queries;r.queries=PC(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new Ne(ge.ABORTED,"Firestore shutting down"))}}function PC(){return new Yl(e=>qV(e),am)}async function ab(e,t){const n=it(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new HG,i=t.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=ob(o,`Initialization of query '${$a(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&ub(n)}async function lb(e,t){const n=it(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function zG(e,t){const n=it(e);let i=!1;for(const r of t){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&ub(n)}function WG(e,t,n){const i=it(e),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(t)}function ub(e){e.Y_.forEach(t=>{t.next()})}var my,VC;(VC=my||(my={})).ea="default",VC.Cache="cache";class cb{constructor(t,n,i){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Cl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==my.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.key=t}}class ER{constructor(t){this.key=t}}class qG{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ut(),this.mutatedKeys=ut(),this.Aa=GV(t),this.Ra=new rl(this.Aa)}get Va(){return this.Ta}ma(t,n){const i=n?n.fa:new AC,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((c,d)=>{const v=r.get(c),m=lm(this.query,d)?d:null,g=!!v&&this.mutatedKeys.has(v.key),p=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;v&&m?v.data.isEqual(m.data)?g!==p&&(i.track({type:3,doc:m}),y=!0):this.ga(v,m)||(i.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!v&&m?(i.track({type:0,doc:m}),y=!0):v&&!m&&(i.track({type:1,doc:v}),y=!0,(l||u)&&(a=!0)),y&&(m?(o=o.add(m),s=p?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(m,g){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return p(m)-p(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Cl(this.query,t.Ra,s,o,t.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new AC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=ut(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return t.forEach(i=>{this.da.has(i)||n.push(new ER(i))}),this.da.forEach(i=>{t.has(i)||n.push(new CR(i))}),n}ba(t){this.Ta=t.Ts,this.da=ut();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Cl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class GG{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class KG{constructor(t){this.key=t,this.va=!1}}class YG{constructor(t,n,i,r,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Yl(a=>qV(a),am),this.Ma=new Map,this.xa=new Set,this.Oa=new Yt(Ge.comparator),this.Na=new Map,this.La=new J0,this.Ba={},this.ka=new Map,this.qa=Sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function QG(e,t,n=!0){const i=VR(e);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await IR(i,t,n,!0),r}async function XG(e,t){const n=VR(e);await IR(n,t,!0,!1)}async function IR(e,t,n,i){const r=await _G(e.localStore,yr(t)),s=r.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await JG(e,t,s,o==="current",r.resumeToken)),e.isPrimaryClient&&n&&yR(e.remoteStore,r),a}async function JG(e,t,n,i,r){e.Ka=(d,v,m)=>async function(p,y,_,k){let A=y.view.ma(_);A.ns&&(A=await EC(p.localStore,y.query,!1).then(({documents:x})=>y.view.ma(x,A)));const T=k&&k.targetChanges.get(y.targetId),D=k&&k.targetMismatches.get(y.targetId)!=null,R=y.view.applyChanges(A,p.isPrimaryClient,T,D);return DC(p,y.targetId,R.wa),R.snapshot}(e,d,v,m);const s=await EC(e.localStore,t,!0),o=new qG(t,s.Ts),a=o.ma(s.documents),l=fd.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),u=o.applyChanges(a,e.isPrimaryClient,l);DC(e,n,u.wa);const c=new GG(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function ZG(e,t,n){const i=it(e),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!am(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await vy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&tb(i.remoteStore,r.targetId),gy(i,r.targetId)}).catch(ud)):(gy(i,r.targetId),await vy(i.localStore,r.targetId,!0))}async function eK(e,t){const n=it(e),i=n.Fa.get(t),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tb(n.remoteStore,i.targetId))}async function tK(e,t,n){const i=lK(e);try{const r=await function(o,a){const l=it(o),u=cn.now(),c=a.reduce((m,g)=>m.add(g.key),ut());let d,v;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=as(),p=ut();return l.cs.getEntries(m,c).next(y=>{g=y,g.forEach((_,k)=>{k.isValidDocument()||(p=p.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(y=>{d=y;const _=[];for(const k of a){const A=Sq(k,d.get(k.key).overlayedDocument);A!=null&&_.push(new oo(k.key,A,FV(A.value.mapValue),Fi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(y=>{v=y;const _=y.applyToLocalDocumentSet(d,p);return l.documentOverlayCache.saveOverlays(m,y.batchId,_)})}).then(()=>({batchId:v.batchId,changes:YV(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Yt(kt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await vd(i,r.changes),await vm(i.remoteStore)}catch(r){const s=ob(r,"Failed to persist write");n.reject(s)}}async function TR(e,t){const n=it(e);try{const i=await gG(n.localStore,t);t.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Tt(o.va):r.removedDocuments.size>0&&(Tt(o.va),o.va=!1))}),await vd(n,i,t)}catch(i){await ud(i)}}function RC(e,t,n){const i=it(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=it(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const v of d.j_)v.Z_(a)&&(u=!0)}),u&&ub(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function nK(e,t,n){const i=it(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new Yt(Ge.comparator);o=o.insert(s,Kn.newNoDocument(s,et.min()));const a=ut().add(s),l=new dm(et.min(),new Map,new Yt(kt),o,a);await TR(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),db(i)}else await vy(i.localStore,t,!1).then(()=>gy(i,t,n)).catch(ud)}async function iK(e,t){const n=it(e),i=t.batch.batchId;try{const r=await mG(n.localStore,t);AR(n,i,null),xR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vd(n,r)}catch(r){await ud(r)}}async function rK(e,t,n){const i=it(e);try{const r=await function(o,a){const l=it(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Tt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,t);AR(i,t,n),xR(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await vd(i,r)}catch(r){await ud(r)}}function xR(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function AR(e,t,n){const i=it(e);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function gy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Ma.get(t))e.Fa.delete(i),n&&e.Ca.$a(i,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(i=>{e.La.containsKey(i)||PR(e,i)})}function PR(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(tb(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),db(e))}function DC(e,t,n){for(const i of n)i instanceof CR?(e.La.addReference(i.key,t),sK(e,i)):i instanceof ER?(je("SyncEngine","Document no longer in limbo: "+i.key),e.La.removeReference(i.key,t),e.La.containsKey(i.key)||PR(e,i.key)):Je()}function sK(e,t){const n=t.key,i=n.path.canonicalString();e.Oa.get(n)||e.xa.has(i)||(je("SyncEngine","New document in limbo: "+n),e.xa.add(i),db(e))}function db(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ge(Ut.fromString(t)),i=e.qa.next();e.Na.set(i,new KG(n)),e.Oa=e.Oa.insert(n,i),yR(e.remoteStore,new Fs(yr(om(n.path)),i,"TargetPurposeLimboResolution",U0.oe))}}async function vd(e,t,n){const i=it(e),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,n).then(u=>{var c;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){r.push(u);const d=eb.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const c=it(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ke.forEach(u,v=>ke.forEach(v.$i,m=>c.persistence.referenceDelegate.addReference(d,v.targetId,m)).next(()=>ke.forEach(v.Ui,m=>c.persistence.referenceDelegate.removeReference(d,v.targetId,m)))))}catch(d){if(!cd(d))throw d;je("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const v=d.targetId;if(!d.fromCache){const m=c.os.get(v),g=m.snapshotVersion,p=m.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(v,p)}}}(i.localStore,s))}async function oK(e,t){const n=it(e);if(!n.currentUser.isEqual(t)){je("SyncEngine","User change. New user:",t.toKey());const i=await vR(n.localStore,t);n.currentUser=t,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ne(ge.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await vd(n,i.hs)}}function aK(e,t){const n=it(e),i=n.Na.get(t);if(i&&i.va)return ut().add(i.key);{let r=ut();const s=n.Ma.get(t);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function VR(e){const t=it(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nK.bind(null,t),t.Ca.d_=zG.bind(null,t.eventManager),t.Ca.$a=WG.bind(null,t.eventManager),t}function lK(e){const t=it(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rK.bind(null,t),t}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return vG(this.persistence,new fG,t.initialUser,this.serializer)}Ga(t){return new uG(Z0.Zr,this.serializer)}Wa(t){return new wG}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class py{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oK.bind(null,this.syncEngine),await UG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jG}()}createDatastore(t){const n=fm(t.databaseInfo.databaseId),i=function(s){return new EG(s)}(t.databaseInfo);return function(s,o,a,l){return new xG(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,o,a){return new PG(i,r,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>RC(this.syncEngine,n,0),function(){return TC.D()?new TC:new kG}())}createSyncEngine(t,n){return function(r,s,o,a,l,u,c){const d=new YG(r,s,o,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=it(r);je("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await hd(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=jn.UNAUTHENTICATED,this.clientId=LV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{je("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(je("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ob(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Tg(e,t){e.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await vR(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function OC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await cK(e);je("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>xC(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>xC(t.remoteStore,r)),e._onlineComponents=t}async function cK(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===ge.FAILED_PRECONDITION||r.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await Tg(e,new Th)}}else je("FirestoreClient","Using default OfflineComponentProvider"),await Tg(e,new Th);return e._offlineComponents}async function RR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),await OC(e,e._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),await OC(e,new py))),e._onlineComponents}function dK(e){return RR(e).then(t=>t.syncEngine)}async function xh(e){const t=await RR(e),n=t.eventManager;return n.onListen=QG.bind(null,t.syncEngine),n.onUnlisten=ZG.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XG.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eK.bind(null,t.syncEngine),n}function fK(e,t,n={}){const i=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new fb({next:v=>{c.Za(),o.enqueueAndForget(()=>lb(s,d));const m=v.docs.has(a);!m&&v.fromCache?u.reject(new Ne(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&v.fromCache&&l&&l.source==="server"?u.reject(new Ne(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),d=new cb(om(a.path),c,{includeMetadataChanges:!0,_a:!0});return ab(s,d)}(await xh(e),e.asyncQueue,t,n,i)),i.promise}function hK(e,t,n={}){const i=new Jr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new fb({next:v=>{c.Za(),o.enqueueAndForget(()=>lb(s,d)),v.fromCache&&l.source==="server"?u.reject(new Ne(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),d=new cb(a,c,{includeMetadataChanges:!0,_a:!0});return ab(s,d)}(await xh(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(e,t,n){if(!n)throw new Ne(ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vK(e,t,n,i){if(t===!0&&i===!0)throw new Ne(ge.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function MC(e){if(!Ge.isDocumentKey(e))throw new Ne(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function NC(e){if(Ge.isDocumentKey(e))throw new Ne(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Je()}function di(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ne(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mm(e);throw new Ne(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function mK(e,t){if(t<=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Ne(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ne(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gm{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ne(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FC(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VW;switch(i.type){case"firstParty":return new LW(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=LC.get(n);i&&(je("ComponentProvider","Removing Datastore"),LC.delete(n),i.terminate())}(this),Promise.resolve()}}function gK(e,t,n,i={}){var r;const s=(e=di(e,gm))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=jn.MOCK_USER;else{a=zB(i.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ne(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jn(u)}e._authCredentials=new RW(new OV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _s(this.firestore,t,this._query)}}class Zn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zn(this.firestore,t,this._key)}}class js extends _s{constructor(t,n,i){super(t,n,om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zn(this.firestore,null,new Ge(t))}withConverter(t){return new js(this.firestore,t,this._path)}}function wi(e,t,...n){if(e=Mn(e),OR("collection","path",t),e instanceof gm){const i=Ut.fromString(t,...n);return NC(i),new js(e,null,i)}{if(!(e instanceof Zn||e instanceof js))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ut.fromString(t,...n));return NC(i),new js(e.firestore,null,i)}}function yn(e,t,...n){if(e=Mn(e),arguments.length===1&&(t=LV.newId()),OR("doc","path",t),e instanceof gm){const i=Ut.fromString(t,...n);return MC(i),new Zn(e,null,new Ge(i))}{if(!(e instanceof Zn||e instanceof js))throw new Ne(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ut.fromString(t,...n));return MC(i),new Zn(e.firestore,e instanceof js?e.converter:null,new Ge(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gR(this,"async_queue_retry"),this.Vu=()=>{const i=Ig();i&&je("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const n=Ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!cd(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw os("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(t,n,i){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const r=sb.createAndSchedule(this,t,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function $C(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class ls extends gm{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new BC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new BC(t),this._firestoreClient=void 0,await t}}}function pK(e,t){const n=typeof e=="object"?e:VA(),i=typeof e=="string"?e:"(default)",r=AA(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=HB("firestore");s&&gK(r,...s)}return r}function pm(e){if(e._terminated)throw new Ne(ge.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yK(e),e._firestoreClient}function yK(e){var t,n,i;const r=e._freezeSettings(),s=function(a,l,u,c){return new KW(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new uK(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this._byteString=t}static fromBase64String(t){try{return new El(Nn.fromBase64String(t))}catch(n){throw new Ne(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new El(Nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ne(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ne(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ne(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=/^__.*__$/;class bK{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new oo(t,this.data,this.fieldMask,n,this.fieldTransforms):new dd(t,this.data,n,this.fieldTransforms)}}class LR{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new oo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function MR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class vb{constructor(t,n,i,r,s,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new vb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Ah(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(MR(this.Cu)&&_K.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class wK{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||fm(t)}Qu(t,n,i,r=!1){return new vb({Cu:t,methodName:n,qu:i,path:Vn.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wm(e){const t=e._freezeSettings(),n=fm(e._databaseId);return new wK(e._databaseId,!!t.ignoreUndefinedProperties,n)}function NR(e,t,n,i,r,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,r);gb("Data must be an object, but it was:",o,i);const a=FR(i,o);let l,u;if(s.merge)l=new Si(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const v=yy(t,d,n);if(!o.contains(v))throw new Ne(ge.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);$R(c,v)||c.push(v)}l=new Si(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new bK(new ui(a),l,u)}class km extends _m{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof km}}class mb extends _m{_toFieldTransform(t){return new _q(t.path,new xc)}isEqual(t){return t instanceof mb}}function kK(e,t,n,i){const r=e.Qu(1,t,n);gb("Data must be an object, but it was:",r,i);const s=[],o=ui.empty();wa(i,(l,u)=>{const c=pb(t,l,n);u=Mn(u);const d=r.Nu(c);if(u instanceof km)s.push(c);else{const v=md(u,d);v!=null&&(s.push(c),o.set(c,v))}});const a=new Si(s);return new LR(o,a,r.fieldTransforms)}function SK(e,t,n,i,r,s){const o=e.Qu(1,t,n),a=[yy(t,i,n)],l=[r];if(s.length%2!=0)throw new Ne(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)a.push(yy(t,s[v])),l.push(s[v+1]);const u=[],c=ui.empty();for(let v=a.length-1;v>=0;--v)if(!$R(u,a[v])){const m=a[v];let g=l[v];g=Mn(g);const p=o.Nu(m);if(g instanceof km)u.push(m);else{const y=md(g,p);y!=null&&(u.push(m),c.set(m,y))}}const d=new Si(u);return new LR(c,d,o.fieldTransforms)}function CK(e,t,n,i=!1){return md(n,e.Qu(i?4:3,t))}function md(e,t){if(BR(e=Mn(e)))return gb("Unsupported field value:",t,e),FR(e,t);if(e instanceof _m)return function(i,r){if(!MR(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=md(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Mn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gq(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=cn.fromDate(i);return{timestampValue:Eh(r.serializer,s)}}if(i instanceof cn){const s=new cn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eh(r.serializer,s)}}if(i instanceof bm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof El)return{bytesValue:aR(r.serializer,i._byteString)};if(i instanceof Zn){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:X0(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof hb)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return G0(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${mm(i)}`)}(e,t)}function FR(e,t){const n={};return MV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wa(e,(i,r)=>{const s=md(r,t.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function BR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof cn||e instanceof bm||e instanceof El||e instanceof Zn||e instanceof _m||e instanceof hb)}function gb(e,t,n){if(!BR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=mm(n);throw i==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+i)}}function yy(e,t,n){if((t=Mn(t))instanceof ym)return t._internalPath;if(typeof t=="string")return pb(e,t);throw Ah("Field path arguments must be of type string or ",e,!1,void 0,n)}const EK=new RegExp("[~\\*/\\[\\]]");function pb(e,t,n){if(t.search(EK)>=0)throw Ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ym(...t.split("."))._internalPath}catch{throw Ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ah(e,t,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Ne(ge.INVALID_ARGUMENT,a+e+l)}function $R(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IK extends UR{data(){return super.data()}}function yb(e,t){return typeof t=="string"?pb(e,t):t instanceof ym?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ne(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _b{}class bb extends _b{}function of(e,t,...n){let i=[];t instanceof _b&&i.push(t),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof kb).length,a=s.filter(l=>l instanceof wb).length;if(o>1||o>0&&a>0)throw new Ne(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class wb extends bb{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new wb(t,n,i)}_apply(t){const n=this._parse(t);return jR(t._query,n),new _s(t.firestore,t.converter,uy(t._query,n))}_parse(t){const n=wm(t.firestore);return function(s,o,a,l,u,c,d){let v;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){HC(d,c);const m=[];for(const g of d)m.push(UC(l,s,g));v={arrayValue:{values:m}}}else v=UC(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||HC(d,c),v=CK(a,o,d,c==="in"||c==="not-in");return ln.create(u,c,v)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class kb extends _b{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new kb(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)jR(o,l),o=uy(o,l)}(t._query,n),new _s(t.firestore,t.converter,uy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sb extends bb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Sb(t,n)}_apply(t){const n=function(r,s,o){if(r.startAt!==null)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(s,o)}(t._query,this._field,this._direction);return new _s(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Kl(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function af(e,t="asc"){const n=t,i=yb("orderBy",e);return Sb._create(i,n)}class Cb extends bb{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new Cb(t,n,i)}_apply(t){return new _s(t.firestore,t.converter,Sh(t._query,this._limit,this._limitType))}}function xg(e){return mK("limit",e),Cb._create("limit",e,"F")}function UC(e,t,n){if(typeof(n=Mn(n))=="string"){if(n==="")throw new Ne(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WV(t)&&n.indexOf("/")!==-1)throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ut.fromString(n));if(!Ge.isDocumentKey(i))throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lC(e,new Ge(i))}if(n instanceof Zn)return lC(e,n._key);throw new Ne(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(n)}.`)}function HC(e,t){if(!Array.isArray(e)||e.length===0)throw new Ne(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jR(e,t){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ne(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ne(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class TK{convertValue(t,n="none"){switch(ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ia(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Je()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return wa(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var n,i,r;const s=(r=(i=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>en(o.doubleValue));return new hb(s)}convertGeoPoint(t){return new bm(en(t.latitude),en(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=j0(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cc(t));default:return null}}convertTimestamp(t){const n=Ys(t);return new cn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ut.fromString(t);Tt(hR(i));const r=new Ec(i.get(1),i.get(3)),s=new Ge(i.popFirst(5));return r.isEqual(n)||os(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class WR extends UR{constructor(t,n,i,r,s,o){super(t,n,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(yb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Of extends WR{data(t={}){return super.data(t)}}class qR{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ru(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Of(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Of(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ru(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Of(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ru(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:xK(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xK(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(e){e=di(e,Zn);const t=di(e.firestore,ls);return fK(pm(t),e._key).then(n=>GR(t,e,n))}class Eb extends TK{constructor(t){super(),this.firestore=t}convertBytes(t){return new El(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function _y(e){e=di(e,_s);const t=di(e.firestore,ls),n=pm(t),i=new Eb(t);return HR(e._query),hK(n,e._query).then(r=>new qR(t,i,e,r))}function zs(e,t,n){e=di(e,Zn);const i=di(e.firestore,ls),r=zR(e.converter,t,n);return Sm(i,[NR(wm(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,Fi.none())])}function AK(e,t,n,...i){e=di(e,Zn);const r=di(e.firestore,ls),s=wm(r);let o;return o=typeof(t=Mn(t))=="string"||t instanceof ym?SK(s,"updateDoc",e._key,t,n,i):kK(s,"updateDoc",e._key,t),Sm(r,[o.toMutation(e._key,Fi.exists(!0))])}function by(e){return Sm(di(e.firestore,ls),[new K0(e._key,Fi.none())])}function Ib(e,t){const n=di(e.firestore,ls),i=yn(e),r=zR(e.converter,t);return Sm(n,[NR(wm(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,Fi.exists(!1))]).then(()=>i)}function Vc(e,...t){var n,i,r;e=Mn(e);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||$C(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($C(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),t[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let l,u,c;if(e instanceof Zn)u=di(e.firestore,ls),c=om(e._key.path),l={next:d=>{t[o]&&t[o](GR(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=di(e,_s);u=di(d.firestore,ls),c=d._query;const v=new Eb(u);l={next:m=>{t[o]&&t[o](new qR(u,v,d,m))},error:t[o+1],complete:t[o+2]},HR(e._query)}return function(v,m,g,p){const y=new fb(p),_=new cb(m,y,g);return v.asyncQueue.enqueueAndForget(async()=>ab(await xh(v),_)),()=>{y.Za(),v.asyncQueue.enqueueAndForget(async()=>lb(await xh(v),_))}}(pm(u),c,a,l)}function Sm(e,t){return function(i,r){const s=new Jr;return i.asyncQueue.enqueueAndForget(async()=>tK(await dK(i),r,s)),s.promise}(pm(e),t)}function GR(e,t,n){const i=n.docs.get(t._key),r=new Eb(e);return new WR(e,r,t._key,i,new Ru(n.hasPendingWrites,n.fromCache),t.converter)}function br(){return new mb("serverTimestamp")}(function(t,n=!0){(function(r){Gl=r})(so),Cr(new rr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new ls(new DW(i.getProvider("auth-internal")),new NW(i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ci(iC,"4.7.3",t),Ci(iC,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebasestorage.googleapis.com",PK="storageBucket",VK=2*60*1e3,RK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Or{constructor(t,n,i=0){super(Ag(t),`Firebase Storage: ${n} (${Ag(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ag(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function Ag(e){return"storage/"+e}function DK(){const e="An unknown error occurred, please check the error payload for server response.";return new Lr(Tr.UNKNOWN,e)}function OK(){return new Lr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LK(){return new Lr(Tr.CANCELED,"User canceled the upload/download.")}function MK(e){return new Lr(Tr.INVALID_URL,"Invalid URL '"+e+"'.")}function NK(e){return new Lr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function jC(e){return new Lr(Tr.INVALID_ARGUMENT,e)}function YR(){return new Lr(Tr.APP_DELETED,"The Firebase app was deleted.")}function FK(e){return new Lr(Tr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Qi.makeFromUrl(t,n)}catch{return new Qi(t,"")}if(i.path==="")return i;throw NK(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${r}/o${v}`,"i"),g={bucket:1,path:3},p=n===KR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${p}/${r}/${y}`,"i"),A=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<A.length;T++){const D=A[T],R=D.regex.exec(t);if(R){const x=R[D.indices.bucket];let w=R[D.indices.path];w||(w=""),i=new Qi(x,w),D.postModify(i);break}}if(i==null)throw MK(t);return i}}class BK{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(e,t,n){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,e(m,l())},y)}function v(){s&&clearTimeout(s)}function m(y,..._){if(u){v();return}if(y){v(),c.call(null,y,..._);return}if(l()||o){v(),c.call(null,y,..._);return}i<64&&(i*=2);let A;a===1?(a=2,A=0):A=(i+Math.random())*1e3,d(A)}let g=!1;function p(y){g||(g=!0,v(),!u&&(r!==null?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function UK(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(e){return e!==void 0}function zC(e,t,n,i){if(i<t)throw jC(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw jC(`Invalid value for '${e}'. Expected ${n} or less.`)}function jK(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Ph;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ph||(Ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(t,n,i,r,s,o,a,l,u,c,d,v=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new lf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ph.NO_ERROR,l=s.getStatus();if(!a||zK(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ph.ABORT;i(!1,new lf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new lf(u,s))})},n=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());HK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=DK();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?YR():LK();o(l)}else{const l=OK();o(l)}};this.canceled_?n(!1,new lf(!1,null,!0)):this.backoffId_=$K(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&UK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lf{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function qK(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function GK(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function KK(e,t){t&&(e["X-Firebase-GMPID"]=t)}function YK(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function QK(e,t,n,i,r,s,o=!0){const a=jK(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return KK(u,t),qK(u,n),GK(u,s),YK(u,i),new WK(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function JK(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n){this._service=t,n instanceof Qi?this._location=n:this._location=Qi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Vh(t,n)}get root(){const t=new Qi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JK(this._location.path)}get storage(){return this._service}get parent(){const t=XK(this._location.path);if(t===null)return null;const n=new Qi(this._location.bucket,t);return new Vh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw FK(t)}}function WC(e,t){const n=t==null?void 0:t[PK];return n==null?null:Qi.makeFromBucketSpec(n,e)}class ZK{constructor(t,n,i,r,s){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=KR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VK,this._maxUploadRetryTime=RK,this._requests=new Set,r!=null?this._bucket=Qi.makeFromBucketSpec(r,this._host):this._bucket=WC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qi.makeFromBucketSpec(this._url,t):this._bucket=WC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Vh(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new BK(YR());{const o=QK(t,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const qC="@firebase/storage",GC="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY="storage";function tY(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new ZK(n,i,r,t,so)}function nY(){Cr(new rr(eY,tY,"PUBLIC").setMultipleInstances(!0)),Ci(qC,GC,""),Ci(qC,GC,"esm2017")}nY();const Pg=new WeakMap;function QR(e,t){return Pg.has(t)||Pg.set(t,{f:{},r:{},s:{},u:{}}),Pg.get(t)}function iY(e,t,n,i){if(!e)return n;const[r,s]=XR(e);if(!r)return n;const o=QR(void 0,i)[r]||{},a=t||s;return a&&a in o?o[a]:n}function rY(e,t,n,i){if(!e)return;const[r,s]=XR(e);if(!r)return;const o=QR(void 0,i)[r],a=t||s;if(a)return n.then(l=>{o[a]=l}).catch(hr),a}function XR(e){return MH(e)||NH(e)?["f",e.path]:FH(e)?["r",e.toString()]:BH(e)?["s",e.toString()]:[]}const Vg=new WeakMap;function sY(e,t,n){const i=Zv();Vg.has(i)||Vg.set(i,new Map);const r=Vg.get(i),s=rY(t,n,e,i);return s&&r.set(s,e),s?()=>r.delete(s):hr}const oY={toFirestore(e){return e},fromFirestore(e,t){return e.exists()?Object.defineProperties(e.data(t),{id:{value:e.id}}):null}};function wy(e,t,n,i){if(!OH(e))return[e,{}];const r=[{},{}],s=Object.keys(n).reduce((a,l)=>{const u=n[l];return a[u.path]=u.data(),a},{});function o(a,l,u,c){l=l||{};const[d,v]=c;Object.getOwnPropertyNames(a).forEach(m=>{const g=Object.getOwnPropertyDescriptor(a,m);g&&!g.enumerable&&Object.defineProperty(d,m,g)});for(const m in a){const g=a[m];if(g==null||g instanceof Date||g instanceof cn||g instanceof bm)d[m]=g;else if(y0(g)){const p=u+m;d[m]=p in n?l[m]:g.path,v[p]=g.converter?g:g.withConverter(i.converter)}else if(Array.isArray(g)){d[m]=Array(g.length);for(let p=0;p<g.length;p++){const y=g[p];y&&y.path in s&&(d[m][p]=s[y.path])}o(g,l[m]||d[m],u+m+".",[d[m],v])}else ya(g)?(d[m]={},o(g,l[m],u+m+".",[d[m],v])):d[m]=g}}return o(e,t,"",r),r}const Tb={reset:!1,wait:!0,maxRefDepth:2,converter:oY,snapshotOptions:{serverTimestamps:"estimate"}};function Rh(e){for(const t in e)e[t].unsub()}function ky(e,t,n,i,r,s,o,a,l){const[u,c]=wy(i.data(e.snapshotOptions),p0(t,n),r,e);s.set(t,n,u),Sy(e,t,n,r,c,s,o,a,l)}function aY({ref:e,target:t,path:n,depth:i,resolve:r,reject:s,ops:o},a){const l=Object.create(null);let u=hr;return a.once?gd(e).then(c=>{c.exists()?ky(a,t,n,c,l,o,i,r,s):(o.set(t,n,null),r())}).catch(s):u=Vc(e,c=>{c.exists()?ky(a,t,n,c,l,o,i,r,s):(o.set(t,n,null),r())},s),()=>{u(),Rh(l)}}function Sy(e,t,n,i,r,s,o,a,l){const u=Object.keys(r);if(Object.keys(i).filter(p=>u.indexOf(p)<0).forEach(p=>{i[p].unsub(),delete i[p]}),!u.length||++o>e.maxRefDepth)return a(n);let d=0;const v=u.length,m=Object.create(null);function g(p){p in m&&++d>=v&&a(n)}u.forEach(p=>{const y=i[p],_=r[p],k=`${n}.${p}`;if(m[k]=!0,y)if(y.path!==_.path)y.unsub();else return;i[p]={data:()=>p0(t,k),unsub:aY({ref:_,target:t,path:k,depth:o,ops:s,resolve:g.bind(null,k),reject:l},e),path:_.path}})}function lY(e,t,n,i,r,s){const o=Object.assign({},Tb,s),{snapshotListenOptions:a,snapshotOptions:l,wait:u,once:c}=o,d="value";let v=z(u?[]:e.value);u||n.set(e,d,[]);const m=i;let g,p=hr;const y=[],_={added:({newIndex:A,doc:T})=>{y.splice(A,0,Object.create(null));const D=y[A],[R,x]=wy(T.data(l),void 0,D,o);n.add(Hr(v),A,R),Sy(o,v,`${d}.${A}`,D,x,n,0,i.bind(null,T),r)},modified:({oldIndex:A,newIndex:T,doc:D})=>{const R=Hr(v),x=y[A],w=R[A],[b,C]=wy(D.data(l),w,x,o);y.splice(T,0,x),n.remove(R,A),n.add(R,T,b),Sy(o,v,`${d}.${T}`,x,C,n,0,i,r)},removed:({oldIndex:A})=>{const T=Hr(v);n.remove(T,A),Rh(y.splice(A,1)[0])}};function k(A){const T=A.docChanges(a);if(!g&&T.length){g=!0;let D=0;const R=T.length,x=Object.create(null);for(let w=0;w<R;w++)x[T[w].doc.id]=!0;i=w=>{w&&w.id in x&&++D>=R&&(u&&(n.set(e,d,Hr(v)),v=e),m(Hr(v)),i=hr)}}T.forEach(D=>{_[D.type](D)}),T.length||(u&&(n.set(e,d,Hr(v)),v=e),i(Hr(v)))}return c?_y(t).then(k).catch(r):p=Vc(t,k,r),A=>{if(p(),A){const T=typeof A=="function"?A():[];n.set(e,d,T)}y.forEach(Rh)}}function uY(e,t,n,i,r,s){const o=Object.assign({},Tb,s),a="value",l=Object.create(null);i=$H(i,()=>p0(e,a));let u=hr;function c(d){d.exists()?ky(o,e,a,d,l,n,0,i,r):(n.set(e,a,null),i(null))}return o.once?gd(t).then(c).catch(r):u=Vc(t,c,r),d=>{if(u(),d){const v=typeof d=="function"?d():null;n.set(e,a,v)}Rh(l)}}const KC=Symbol();function JR(e,t){let n=hr;const i=Object.assign({},Tb,t),r=Hr(e),s=i.target||z();HH()&&(i.once=!0);const o=iY(r,i.ssrKey,KC,Zv()),a=o!==KC;a&&(s.value=o);let l=!a;const u=z(!1),c=z(),d=Se(),v=$y();let m=hr;function g(){let _=Hr(e);const k=new Promise((A,T)=>{if(n(i.reset),!_)return n=hr,A(null);u.value=l,l=!0,_.converter||(_=_.withConverter(i.converter)),n=(y0(_)?uY:lY)(s,_,cY,A,T,i)}).catch(A=>(d.value===k&&(c.value=A),Promise.reject(A))).finally(()=>{d.value===k&&(u.value=!1)});d.value=k}let p=hr;(Vt(e)||typeof e=="function")&&(p=ye(e,g)),g(),r&&(m=sY(d.value,r,i.ssrKey)),Rl()&&TI(()=>d.value),v&&wn(y);function y(_=i.reset){p(),m(),n(_)}return Object.defineProperties(s,{error:{get:()=>c},data:{get:()=>s},pending:{get:()=>u},promise:{get:()=>d},stop:{get:()=>y}})}const cY={set:(e,t,n)=>RH(e,t,n),add:(e,t,n)=>e.splice(t,0,n),remove:(e,t)=>e.splice(t,1)};function Il(e,t){return JR(e,{target:z([]),...t})}function xb(e,t){return JR(e,t)}function dY(e){return fY({initialUser:e,dependencies:{popupRedirectResolver:ZU,persistence:[fU,eU,nP]}})}const ZR=Symbol("VueFireAuth");function fY({dependencies:e,initialUser:t}){return(n,i)=>{const[r,s]=hY(n,i,t,e);WH(r,s)}}function hY(e,t,n,i,r=z$(e,i)){const s=jH(e,t).run(()=>z(n));return gP.set(e,s),t.provide(ZR,r),[s,r]}function Ab(e){return VH?Ze(ZR):null}function vY(e,{firebaseApp:t,modules:n=[]}){e.provide(mP,t);for(const i of n)i(t,e)}var mY=function(){function e(t,n){n===void 0&&(n=[]),this._eventType=t,this._eventFunctions=n}return e.prototype.init=function(){var t=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(t._eventType,n)})},e}(),gY=function(){function e(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{},Datepicker:{}}}return e.prototype.addInstance=function(t,n,i,r){if(r===void 0&&(r=!1),!this._instances[t])return console.warn("Flowbite: Component ".concat(t," does not exist.")),!1;if(this._instances[t][i]&&!r){console.warn("Flowbite: Instance with ID ".concat(i," already exists."));return}r&&this._instances[t][i]&&this._instances[t][i].destroyAndRemoveInstance(),this._instances[t][i||this._generateRandomId()]=n},e.prototype.getAllInstances=function(){return this._instances},e.prototype.getInstances=function(t){return this._instances[t]?this._instances[t]:(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},e.prototype.getInstance=function(t,n){if(this._componentAndInstanceCheck(t,n)){if(!this._instances[t][n]){console.warn("Flowbite: Instance with ID ".concat(n," does not exist."));return}return this._instances[t][n]}},e.prototype.destroyAndRemoveInstance=function(t,n){this._componentAndInstanceCheck(t,n)&&(this.destroyInstanceObject(t,n),this.removeInstance(t,n))},e.prototype.removeInstance=function(t,n){this._componentAndInstanceCheck(t,n)&&delete this._instances[t][n]},e.prototype.destroyInstanceObject=function(t,n){this._componentAndInstanceCheck(t,n)&&this._instances[t][n].destroy()},e.prototype.instanceExists=function(t,n){return!(!this._instances[t]||!this._instances[t][n])},e.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},e.prototype._componentAndInstanceCheck=function(t,n){return this._instances[t]?this._instances[t][n]?!0:(console.warn("Flowbite: Instance with ID ".concat(n," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(t," does not exist.")),!1)},e}(),st=new gY;typeof window<"u"&&(window.FlowbiteInstances=st);var Dh=function(){return Dh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Dh.apply(this,arguments)},Oh={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},pY={id:null,override:!0},eD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=Oh),r===void 0&&(r=pY),this._instanceId=r.id?r.id:t.id,this._accordionEl=t,this._items=n,this._options=Dh(Dh({},Oh),i),this._initialized=!1,this.init(),st.addInstance("Accordion",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&t.open(n.id);var i=function(){t.toggle(n.id)};n.triggerEl.addEventListener("click",i),n.clickHandler=i}),this._initialized=!0)},e.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(t){t.triggerEl.removeEventListener("click",t.clickHandler),delete t.clickHandler}),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("Accordion",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(t){return this._items.filter(function(n){return n.id===t})[0]},e.prototype.open=function(t){var n,i,r=this,s=this.getItem(t);this._options.alwaysOpen||this._items.map(function(o){var a,l;o!==s&&((a=o.triggerEl.classList).remove.apply(a,r._options.activeClasses.split(" ")),(l=o.triggerEl.classList).add.apply(l,r._options.inactiveClasses.split(" ")),o.targetEl.classList.add("hidden"),o.triggerEl.setAttribute("aria-expanded","false"),o.active=!1,o.iconEl&&o.iconEl.classList.add("rotate-180"))}),(n=s.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(i=s.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-expanded","true"),s.targetEl.classList.remove("hidden"),s.active=!0,s.iconEl&&s.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,s)},e.prototype.toggle=function(t){var n=this.getItem(t);n.active?this.close(t):this.open(t),this._options.onToggle(this,n)},e.prototype.close=function(t){var n,i,r=this.getItem(t);(n=r.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(i=r.triggerEl.classList).add.apply(i,this._options.inactiveClasses.split(" ")),r.targetEl.classList.add("hidden"),r.triggerEl.setAttribute("aria-expanded","false"),r.active=!1,r.iconEl&&r.iconEl.classList.add("rotate-180"),this._options.onClose(this,r)},e.prototype.updateOnOpen=function(t){this._options.onOpen=t},e.prototype.updateOnClose=function(t){this._options.onClose=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function Pb(){document.querySelectorAll("[data-accordion]").forEach(function(e){var t=e.getAttribute("data-accordion"),n=e.getAttribute("data-active-classes"),i=e.getAttribute("data-inactive-classes"),r=[];e.querySelectorAll("[data-accordion-target]").forEach(function(s){if(s.closest("[data-accordion]")===e){var o={id:s.getAttribute("data-accordion-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-accordion-target")),iconEl:s.querySelector("[data-accordion-icon]"),active:s.getAttribute("aria-expanded")==="true"};r.push(o)}}),new eD(e,r,{alwaysOpen:t==="open",activeClasses:n||Oh.activeClasses,inactiveClasses:i||Oh.inactiveClasses})})}typeof window<"u"&&(window.Accordion=eD,window.initAccordions=Pb);var Lh=function(){return Lh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Lh.apply(this,arguments)},YC={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},yY={id:null,override:!0},Cy=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=YC),r===void 0&&(r=yY),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=n,this._options=Lh(Lh({},YC),i),this._visible=!1,this._initialized=!1,this.init(),st.addInstance("Collapse",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){t.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("Collapse",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},e.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},e.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},e.prototype.updateOnCollapse=function(t){this._options.onCollapse=t},e.prototype.updateOnExpand=function(t){this._options.onExpand=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function Vb(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(e){var t=e.getAttribute("data-collapse-toggle"),n=document.getElementById(t);n?st.instanceExists("Collapse",n.getAttribute("id"))?new Cy(n,e,{},{id:n.getAttribute("id")+"_"+st._generateRandomId()}):new Cy(n,e):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Cy,window.initCollapses=Vb);var So=function(){return So=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},So.apply(this,arguments)},Lf={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},_Y={id:null,override:!0},tD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=Lf),r===void 0&&(r=_Y),this._instanceId=r.id?r.id:t.id,this._carouselEl=t,this._items=n,this._options=So(So(So({},Lf),i),{indicators:So(So({},Lf.indicators),i.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),st.addInstance("Carousel",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,i){n.el.addEventListener("click",function(){t.slideTo(i)})}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("Carousel",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getItem=function(t){return this._items[t]},e.prototype.slideTo=function(t){var n=this._items[t],i={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(i),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},e.prototype.next=function(){var t=this.getActiveItem(),n=null;t.position===this._items.length-1?n=this._items[0]:n=this._items[t.position+1],this.slideTo(n.position),this._options.onNext(this)},e.prototype.prev=function(){var t=this.getActiveItem(),n=null;t.position===0?n=this._items[this._items.length-1]:n=this._items[t.position-1],this.slideTo(n.position),this._options.onPrev(this)},e.prototype._rotate=function(t){if(this._items.map(function(n){n.el.classList.add("hidden")}),this._items.length===1){t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-20");return}t.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),t.left.el.classList.add("-translate-x-full","z-10"),t.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),t.middle.el.classList.add("translate-x-0","z-30"),t.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),t.right.el.classList.add("translate-x-full","z-20")},e.prototype.cycle=function(){var t=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){t.next()},this._intervalDuration))},e.prototype.pause=function(){clearInterval(this._intervalInstance)},e.prototype.getActiveItem=function(){return this._activeItem},e.prototype._setActiveItem=function(t){var n,i,r=this;this._activeItem=t;var s=t.position;this._indicators.length&&(this._indicators.map(function(o){var a,l;o.el.setAttribute("aria-current","false"),(a=o.el.classList).remove.apply(a,r._options.indicators.activeClasses.split(" ")),(l=o.el.classList).add.apply(l,r._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[s].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(i=this._indicators[s].el.classList).remove.apply(i,this._options.indicators.inactiveClasses.split(" ")),this._indicators[s].el.setAttribute("aria-current","true"))},e.prototype.updateOnNext=function(t){this._options.onNext=t},e.prototype.updateOnPrev=function(t){this._options.onPrev=t},e.prototype.updateOnChange=function(t){this._options.onChange=t},e}();function Rb(){document.querySelectorAll("[data-carousel]").forEach(function(e){var t=e.getAttribute("data-carousel-interval"),n=e.getAttribute("data-carousel")==="slide",i=[],r=0;e.querySelectorAll("[data-carousel-item]").length&&Array.from(e.querySelectorAll("[data-carousel-item]")).map(function(u,c){i.push({position:c,el:u}),u.getAttribute("data-carousel-item")==="active"&&(r=c)});var s=[];e.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(e.querySelectorAll("[data-carousel-slide-to]")).map(function(u){s.push({position:parseInt(u.getAttribute("data-carousel-slide-to")),el:u})});var o=new tD(e,i,{defaultPosition:r,indicators:{items:s},interval:t||Lf.interval});n&&o.cycle();var a=e.querySelector("[data-carousel-next]"),l=e.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){o.next()}),l&&l.addEventListener("click",function(){o.prev()})})}typeof window<"u"&&(window.Carousel=tD,window.initCarousels=Rb);var Mh=function(){return Mh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Mh.apply(this,arguments)},QC={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},bY={id:null,override:!0},nD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=QC),r===void 0&&(r=bY),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=n,this._options=Mh(Mh({},QC),i),this._initialized=!1,this.init(),st.addInstance("Dismiss",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){t.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("Dismiss",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var t=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){t._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},e.prototype.updateOnHide=function(t){this._options.onHide=t},e}();function Db(){document.querySelectorAll("[data-dismiss-target]").forEach(function(e){var t=e.getAttribute("data-dismiss-target"),n=document.querySelector(t);n?new nD(n,e):console.error('The dismiss element with id "'.concat(t,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=nD,window.initDismisses=Db);var fi="top",Hi="bottom",ji="right",hi="left",Ob="auto",pd=[fi,Hi,ji,hi],Tl="start",Rc="end",wY="clippingParents",iD="viewport",ku="popper",kY="reference",XC=pd.reduce(function(e,t){return e.concat([t+"-"+Tl,t+"-"+Rc])},[]),rD=[].concat(pd,[Ob]).reduce(function(e,t){return e.concat([t,t+"-"+Tl,t+"-"+Rc])},[]),SY="beforeRead",CY="read",EY="afterRead",IY="beforeMain",TY="main",xY="afterMain",AY="beforeWrite",PY="write",VY="afterWrite",RY=[SY,CY,EY,IY,TY,xY,AY,PY,VY];function xr(e){return e?(e.nodeName||"").toLowerCase():null}function Ti(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function sa(e){var t=Ti(e).Element;return e instanceof t||e instanceof Element}function Bi(e){var t=Ti(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Lb(e){if(typeof ShadowRoot>"u")return!1;var t=Ti(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function DY(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!Bi(s)||!xr(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function OY(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=o.reduce(function(l,u){return l[u]="",l},{});!Bi(r)||!xr(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const LY={name:"applyStyles",enabled:!0,phase:"write",fn:DY,effect:OY,requires:["computeStyles"]};function wr(e){return e.split("-")[0]}var Fo=Math.max,Nh=Math.min,xl=Math.round;function Ey(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function sD(){return!/^((?!chrome|android).)*safari/i.test(Ey())}function Al(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&Bi(e)&&(r=e.offsetWidth>0&&xl(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&xl(i.height)/e.offsetHeight||1);var o=sa(e)?Ti(e):window,a=o.visualViewport,l=!sD()&&n,u=(i.left+(l&&a?a.offsetLeft:0))/r,c=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,v=i.height/s;return{width:d,height:v,top:c,right:u+d,bottom:c+v,left:u,x:u,y:c}}function Mb(e){var t=Al(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function oD(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lb(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function us(e){return Ti(e).getComputedStyle(e)}function MY(e){return["table","td","th"].indexOf(xr(e))>=0}function ao(e){return((sa(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cm(e){return xr(e)==="html"?e:e.assignedSlot||e.parentNode||(Lb(e)?e.host:null)||ao(e)}function JC(e){return!Bi(e)||us(e).position==="fixed"?null:e.offsetParent}function NY(e){var t=/firefox/i.test(Ey()),n=/Trident/i.test(Ey());if(n&&Bi(e)){var i=us(e);if(i.position==="fixed")return null}var r=Cm(e);for(Lb(r)&&(r=r.host);Bi(r)&&["html","body"].indexOf(xr(r))<0;){var s=us(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function yd(e){for(var t=Ti(e),n=JC(e);n&&MY(n)&&us(n).position==="static";)n=JC(n);return n&&(xr(n)==="html"||xr(n)==="body"&&us(n).position==="static")?t:n||NY(e)||t}function Nb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ku(e,t,n){return Fo(e,Nh(t,n))}function FY(e,t,n){var i=Ku(e,t,n);return i>n?n:i}function aD(){return{top:0,right:0,bottom:0,left:0}}function lD(e){return Object.assign({},aD(),e)}function uD(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var BY=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,lD(typeof t!="number"?t:uD(t,pd))};function $Y(e){var t,n=e.state,i=e.name,r=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=wr(n.placement),l=Nb(a),u=[hi,ji].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=BY(r.padding,n),v=Mb(s),m=l==="y"?fi:hi,g=l==="y"?Hi:ji,p=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],y=o[l]-n.rects.reference[l],_=yd(s),k=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,A=p/2-y/2,T=d[m],D=k-v[c]-d[g],R=k/2-v[c]/2+A,x=Ku(T,R,D),w=l;n.modifiersData[i]=(t={},t[w]=x,t.centerOffset=x-R,t)}}function UY(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||oD(t.elements.popper,r)&&(t.elements.arrow=r))}const HY={name:"arrow",enabled:!0,phase:"main",fn:$Y,effect:UY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pl(e){return e.split("-")[1]}var jY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function zY(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:xl(n*r)/r||0,y:xl(i*r)/r||0}}function ZC(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,v=o.x,m=v===void 0?0:v,g=o.y,p=g===void 0?0:g,y=typeof c=="function"?c({x:m,y:p}):{x:m,y:p};m=y.x,p=y.y;var _=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),A=hi,T=fi,D=window;if(u){var R=yd(n),x="clientHeight",w="clientWidth";if(R===Ti(n)&&(R=ao(n),us(R).position!=="static"&&a==="absolute"&&(x="scrollHeight",w="scrollWidth")),R=R,r===fi||(r===hi||r===ji)&&s===Rc){T=Hi;var b=d&&R===D&&D.visualViewport?D.visualViewport.height:R[x];p-=b-i.height,p*=l?1:-1}if(r===hi||(r===fi||r===Hi)&&s===Rc){A=ji;var C=d&&R===D&&D.visualViewport?D.visualViewport.width:R[w];m-=C-i.width,m*=l?1:-1}}var E=Object.assign({position:a},u&&jY),I=c===!0?zY({x:m,y:p},Ti(n)):{x:m,y:p};if(m=I.x,p=I.y,l){var P;return Object.assign({},E,(P={},P[T]=k?"0":"",P[A]=_?"0":"",P.transform=(D.devicePixelRatio||1)<=1?"translate("+m+"px, "+p+"px)":"translate3d("+m+"px, "+p+"px, 0)",P))}return Object.assign({},E,(t={},t[T]=k?p+"px":"",t[A]=_?m+"px":"",t.transform="",t))}function WY(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:wr(t.placement),variation:Pl(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ZC(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ZC(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const qY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:WY,data:{}};var uf={passive:!0};function GY(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Ti(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,uf)}),a&&l.addEventListener("resize",n.update,uf),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,uf)}),a&&l.removeEventListener("resize",n.update,uf)}}const KY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:GY,data:{}};var YY={left:"right",right:"left",bottom:"top",top:"bottom"};function Mf(e){return e.replace(/left|right|bottom|top/g,function(t){return YY[t]})}var QY={start:"end",end:"start"};function eE(e){return e.replace(/start|end/g,function(t){return QY[t]})}function Fb(e){var t=Ti(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Bb(e){return Al(ao(e)).left+Fb(e).scrollLeft}function XY(e,t){var n=Ti(e),i=ao(e),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var u=sD();(u||!u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+Bb(e),y:l}}function JY(e){var t,n=ao(e),i=Fb(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=Fo(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Fo(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Bb(e),l=-i.scrollTop;return us(r||n).direction==="rtl"&&(a+=Fo(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function $b(e){var t=us(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function cD(e){return["html","body","#document"].indexOf(xr(e))>=0?e.ownerDocument.body:Bi(e)&&$b(e)?e:cD(Cm(e))}function Yu(e,t){var n;t===void 0&&(t=[]);var i=cD(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=Ti(i),o=r?[s].concat(s.visualViewport||[],$b(i)?i:[]):i,a=t.concat(o);return r?a:a.concat(Yu(Cm(o)))}function Iy(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ZY(e,t){var n=Al(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function tE(e,t,n){return t===iD?Iy(XY(e,n)):sa(t)?ZY(t,n):Iy(JY(ao(e)))}function eQ(e){var t=Yu(Cm(e)),n=["absolute","fixed"].indexOf(us(e).position)>=0,i=n&&Bi(e)?yd(e):e;return sa(i)?t.filter(function(r){return sa(r)&&oD(r,i)&&xr(r)!=="body"}):[]}function tQ(e,t,n,i){var r=t==="clippingParents"?eQ(e):[].concat(t),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,u){var c=tE(e,u,i);return l.top=Fo(c.top,l.top),l.right=Nh(c.right,l.right),l.bottom=Nh(c.bottom,l.bottom),l.left=Fo(c.left,l.left),l},tE(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function dD(e){var t=e.reference,n=e.element,i=e.placement,r=i?wr(i):null,s=i?Pl(i):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case fi:l={x:o,y:t.y-n.height};break;case Hi:l={x:o,y:t.y+t.height};break;case ji:l={x:t.x+t.width,y:a};break;case hi:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=r?Nb(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Tl:l[u]=l[u]-(t[c]/2-n[c]/2);break;case Rc:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function Dc(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?wY:a,u=n.rootBoundary,c=u===void 0?iD:u,d=n.elementContext,v=d===void 0?ku:d,m=n.altBoundary,g=m===void 0?!1:m,p=n.padding,y=p===void 0?0:p,_=lD(typeof y!="number"?y:uD(y,pd)),k=v===ku?kY:ku,A=e.rects.popper,T=e.elements[g?k:v],D=tQ(sa(T)?T:T.contextElement||ao(e.elements.popper),l,c,o),R=Al(e.elements.reference),x=dD({reference:R,element:A,strategy:"absolute",placement:r}),w=Iy(Object.assign({},A,x)),b=v===ku?w:R,C={top:D.top-b.top+_.top,bottom:b.bottom-D.bottom+_.bottom,left:D.left-b.left+_.left,right:b.right-D.right+_.right},E=e.modifiersData.offset;if(v===ku&&E){var I=E[r];Object.keys(C).forEach(function(P){var F=[ji,Hi].indexOf(P)>=0?1:-1,$=[fi,Hi].indexOf(P)>=0?"y":"x";C[P]+=I[$]*F})}return C}function nQ(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?rD:l,c=Pl(i),d=c?a?XC:XC.filter(function(g){return Pl(g)===c}):pd,v=d.filter(function(g){return u.indexOf(g)>=0});v.length===0&&(v=d);var m=v.reduce(function(g,p){return g[p]=Dc(e,{placement:p,boundary:r,rootBoundary:s,padding:o})[wr(p)],g},{});return Object.keys(m).sort(function(g,p){return m[g]-m[p]})}function iQ(e){if(wr(e)===Ob)return[];var t=Mf(e);return[eE(e),t,eE(t)]}function rQ(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,v=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,p=n.allowedAutoPlacements,y=t.options.placement,_=wr(y),k=_===y,A=l||(k||!g?[Mf(y)]:iQ(y)),T=[y].concat(A).reduce(function(_e,Ce){return _e.concat(wr(Ce)===Ob?nQ(t,{placement:Ce,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:p}):Ce)},[]),D=t.rects.reference,R=t.rects.popper,x=new Map,w=!0,b=T[0],C=0;C<T.length;C++){var E=T[C],I=wr(E),P=Pl(E)===Tl,F=[fi,Hi].indexOf(I)>=0,$=F?"width":"height",j=Dc(t,{placement:E,boundary:c,rootBoundary:d,altBoundary:v,padding:u}),K=F?P?ji:hi:P?Hi:fi;D[$]>R[$]&&(K=Mf(K));var U=Mf(K),B=[];if(s&&B.push(j[I]<=0),a&&B.push(j[K]<=0,j[U]<=0),B.every(function(_e){return _e})){b=E,w=!1;break}x.set(E,B)}if(w)for(var H=g?3:1,q=function(Ce){var ie=T.find(function(be){var xe=x.get(be);if(xe)return xe.slice(0,Ce).every(function(Oe){return Oe})});if(ie)return b=ie,"break"},J=H;J>0;J--){var he=q(J);if(he==="break")break}t.placement!==b&&(t.modifiersData[i]._skip=!0,t.placement=b,t.reset=!0)}}const sQ={name:"flip",enabled:!0,phase:"main",fn:rQ,requiresIfExists:["offset"],data:{_skip:!1}};function nE(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function iE(e){return[fi,ji,Hi,hi].some(function(t){return e[t]>=0})}function oQ(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,o=Dc(t,{elementContext:"reference"}),a=Dc(t,{altBoundary:!0}),l=nE(o,i),u=nE(a,r,s),c=iE(l),d=iE(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const aQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oQ};function lQ(e,t,n){var i=wr(e),r=[hi,fi].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[hi,ji].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function uQ(e){var t=e.state,n=e.options,i=e.name,r=n.offset,s=r===void 0?[0,0]:r,o=rD.reduce(function(c,d){return c[d]=lQ(d,t.rects,s),c},{}),a=o[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=o}const cQ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uQ};function dQ(e){var t=e.state,n=e.name;t.modifiersData[n]=dD({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const fQ={name:"popperOffsets",enabled:!0,phase:"read",fn:dQ,data:{}};function hQ(e){return e==="x"?"y":"x"}function vQ(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,v=n.tether,m=v===void 0?!0:v,g=n.tetherOffset,p=g===void 0?0:g,y=Dc(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),_=wr(t.placement),k=Pl(t.placement),A=!k,T=Nb(_),D=hQ(T),R=t.modifiersData.popperOffsets,x=t.rects.reference,w=t.rects.popper,b=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,C=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(R){if(s){var P,F=T==="y"?fi:hi,$=T==="y"?Hi:ji,j=T==="y"?"height":"width",K=R[T],U=K+y[F],B=K-y[$],H=m?-w[j]/2:0,q=k===Tl?x[j]:w[j],J=k===Tl?-w[j]:-x[j],he=t.elements.arrow,_e=m&&he?Mb(he):{width:0,height:0},Ce=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:aD(),ie=Ce[F],be=Ce[$],xe=Ku(0,x[j],_e[j]),Oe=A?x[j]/2-H-xe-ie-C.mainAxis:q-xe-ie-C.mainAxis,Re=A?-x[j]/2+H+xe+be+C.mainAxis:J+xe+be+C.mainAxis,me=t.elements.arrow&&yd(t.elements.arrow),Be=me?T==="y"?me.clientTop||0:me.clientLeft||0:0,L=(P=E==null?void 0:E[T])!=null?P:0,N=K+Oe-L-Be,X=K+Re-L,ne=Ku(m?Nh(U,N):U,K,m?Fo(B,X):B);R[T]=ne,I[T]=ne-K}if(a){var te,ce=T==="x"?fi:hi,Ee=T==="x"?Hi:ji,de=R[D],we=D==="y"?"height":"width",ve=de+y[ce],Ue=de-y[Ee],Ae=[fi,hi].indexOf(_)!==-1,$e=(te=E==null?void 0:E[D])!=null?te:0,Me=Ae?ve:de-x[we]-w[we]-$e+C.altAxis,Ke=Ae?de+x[we]+w[we]-$e-C.altAxis:Ue,ft=m&&Ae?FY(Me,de,Ke):Ku(m?Me:ve,de,m?Ke:Ue);R[D]=ft,I[D]=ft-de}t.modifiersData[i]=I}}const mQ={name:"preventOverflow",enabled:!0,phase:"main",fn:vQ,requiresIfExists:["offset"]};function gQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function pQ(e){return e===Ti(e)||!Bi(e)?Fb(e):gQ(e)}function yQ(e){var t=e.getBoundingClientRect(),n=xl(t.width)/e.offsetWidth||1,i=xl(t.height)/e.offsetHeight||1;return n!==1||i!==1}function _Q(e,t,n){n===void 0&&(n=!1);var i=Bi(t),r=Bi(t)&&yQ(t),s=ao(t),o=Al(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((xr(t)!=="body"||$b(s))&&(a=pQ(t)),Bi(t)?(l=Al(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Bb(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function bQ(e){var t=new Map,n=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(s)}return e.forEach(function(s){n.has(s.name)||r(s)}),i}function wQ(e){var t=bQ(e);return RY.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function kQ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function SQ(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var rE={placement:"bottom",modifiers:[],strategy:"absolute"};function sE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function CQ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,s=r===void 0?rE:r;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},rE,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],v=!1,m={state:c,setOptions:function(_){var k=typeof _=="function"?_(c.options):_;p(),c.options=Object.assign({},s,c.options,k),c.scrollParents={reference:sa(a)?Yu(a):a.contextElement?Yu(a.contextElement):[],popper:Yu(l)};var A=wQ(SQ([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(T){return T.enabled}),g(),m.update()},forceUpdate:function(){if(!v){var _=c.elements,k=_.reference,A=_.popper;if(sE(k,A)){c.rects={reference:_Q(k,yd(A),c.options.strategy==="fixed"),popper:Mb(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var D=c.orderedModifiers[T],R=D.fn,x=D.options,w=x===void 0?{}:x,b=D.name;typeof R=="function"&&(c=R({state:c,options:w,name:b,instance:m})||c)}}}},update:kQ(function(){return new Promise(function(y){m.forceUpdate(),y(c)})}),destroy:function(){p(),v=!0}};if(!sE(a,l))return m;m.setOptions(u).then(function(y){!v&&u.onFirstUpdate&&u.onFirstUpdate(y)});function g(){c.orderedModifiers.forEach(function(y){var _=y.name,k=y.options,A=k===void 0?{}:k,T=y.effect;if(typeof T=="function"){var D=T({state:c,name:_,instance:m,options:A}),R=function(){};d.push(D||R)}})}function p(){d.forEach(function(y){return y()}),d=[]}return m}}var EQ=[KY,fQ,qY,LY,cQ,sQ,mQ,HY,aQ],Ub=CQ({defaultModifiers:EQ}),Ps=function(){return Ps=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ps.apply(this,arguments)},cf=function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},Vs={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},IQ={id:null,override:!0},fD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=Vs),r===void 0&&(r=IQ),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=n,this._options=Ps(Ps({},Vs),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),st.addInstance("Dropdown",this,this._instanceId,r.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},e.prototype.destroy=function(){var t=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._clickHandler)}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._hoverShowTriggerElHandler),t._targetEl.removeEventListener(i,t._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._hoverHideHandler),t._targetEl.removeEventListener(i,t._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},e.prototype.removeInstance=function(){st.removeInstance("Dropdown",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._clickHandler=function(){t.toggle()},this._options.triggerType==="click"&&n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._clickHandler)}),this._hoverShowTriggerElHandler=function(i){i.type==="click"?t.toggle():setTimeout(function(){t.show()},t._options.delay)},this._hoverShowTargetElHandler=function(){t.show()},this._hoverHideHandler=function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},t._options.delay)},this._options.triggerType==="hover"&&(n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._hoverShowTriggerElHandler),t._targetEl.addEventListener(i,t._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._hoverHideHandler),t._targetEl.addEventListener(i,t._hoverHideHandler)}))},e.prototype._createPopperInstance=function(){return Ub(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var i=t.target,r=this._options.ignoreClickOutsideClass,s=!1;if(r){var o=document.querySelectorAll(".".concat(r));o.forEach(function(a){if(a.contains(i)){s=!0;return}})}i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&!s&&this.isVisible()&&this.hide()},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.isVisible=function(){return this._visible},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._targetEl.removeAttribute("aria-hidden"),this._popperInstance.setOptions(function(t){return Ps(Ps({},t),{modifiers:cf(cf([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._targetEl.setAttribute("aria-hidden","true"),this._popperInstance.setOptions(function(t){return Ps(Ps({},t),{modifiers:cf(cf([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function Hb(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(e){var t=e.getAttribute("data-dropdown-toggle"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-dropdown-placement"),r=e.getAttribute("data-dropdown-offset-skidding"),s=e.getAttribute("data-dropdown-offset-distance"),o=e.getAttribute("data-dropdown-trigger"),a=e.getAttribute("data-dropdown-delay"),l=e.getAttribute("data-dropdown-ignore-click-outside-class");new fD(n,e,{placement:i||Vs.placement,triggerType:o||Vs.triggerType,offsetSkidding:r?parseInt(r):Vs.offsetSkidding,offsetDistance:s?parseInt(s):Vs.offsetDistance,delay:a?parseInt(a):Vs.delay,ignoreClickOutsideClass:l||Vs.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(t,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=fD,window.initDropdowns=Hb);var Fh=function(){return Fh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Fh.apply(this,arguments)},Bh={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},TQ={id:null,override:!0},hD=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=Bh),i===void 0&&(i=TQ),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=Fh(Fh({},Bh),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),st.addInstance("Modal",this,this._instanceId,i.override)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){t._targetEl.classList.add(n)}),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("Modal",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._createBackdrop=function(){var t;if(this._isHidden){var n=document.createElement("div");(t=n.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},e.prototype._destroyBackdropEl=function(){!this._isHidden&&this._backdropEl&&(this._backdropEl.remove(),this._backdropEl=null)},e.prototype._setupModalCloseEventListeners=function(){var t=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){t._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._handleOutsideClick=function(t){(t===this._targetEl||t===this._backdropEl&&this.isVisible())&&this.hide()},e.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},e.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},e.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},e.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},e.prototype.isVisible=function(){return!this._isHidden},e.prototype.isHidden=function(){return this._isHidden},e.prototype.addEventListenerInstance=function(t,n,i){this._eventListenerInstances.push({element:t,type:n,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(t){t.element.removeEventListener(t.type,t.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function jb(){document.querySelectorAll("[data-modal-target]").forEach(function(e){var t=e.getAttribute("data-modal-target"),n=document.getElementById(t);if(n){var i=n.getAttribute("data-modal-placement"),r=n.getAttribute("data-modal-backdrop");new hD(n,{placement:i||Bh.placement,backdrop:r||Bh.backdrop})}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(e){var t=e.getAttribute("data-modal-toggle"),n=document.getElementById(t);if(n){var i=st.getInstance("Modal",t);if(i){var r=function(){i.toggle()};e.addEventListener("click",r),i.addEventListenerInstance(e,"click",r)}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(e){var t=e.getAttribute("data-modal-show"),n=document.getElementById(t);if(n){var i=st.getInstance("Modal",t);if(i){var r=function(){i.show()};e.addEventListener("click",r),i.addEventListenerInstance(e,"click",r)}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(e){var t=e.getAttribute("data-modal-hide"),n=document.getElementById(t);if(n){var i=st.getInstance("Modal",t);if(i){var r=function(){i.hide()};e.addEventListener("click",r),i.addEventListenerInstance(e,"click",r)}else console.error("Modal with id ".concat(t," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(t," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=hD,window.initModals=jb);var $h=function(){return $h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},$h.apply(this,arguments)},Co={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},xQ={id:null,override:!0},vD=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=Co),i===void 0&&(i=xQ),this._eventListenerInstances=[],this._instanceId=i.id?i.id:t.id,this._targetEl=t,this._options=$h($h({},Co),n),this._visible=!1,this._initialized=!1,this.init(),st.addInstance("Drawer",this,this._instanceId,i.override)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){t._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){n.key==="Escape"&&t.isVisible()&&t.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("Drawer",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){t._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){t._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){t._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){t._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){var t=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){t._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){t._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){t._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){t._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype._createBackdrop=function(){var t,n=this;if(!this._visible){var i=document.createElement("div");i.setAttribute("drawer-backdrop",""),(t=i.classList).add.apply(t,this._options.backdropClasses.split(" ")),document.querySelector("body").append(i),i.addEventListener("click",function(){n.hide()})}},e.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},e.prototype._getPlacementClasses=function(t){switch(t){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype.addEventListenerInstance=function(t,n,i){this._eventListenerInstances.push({element:t,type:n,handler:i})},e.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(t){t.element.removeEventListener(t.type,t.handler)}),this._eventListenerInstances=[]},e.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function zb(){document.querySelectorAll("[data-drawer-target]").forEach(function(e){var t=e.getAttribute("data-drawer-target"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-drawer-placement"),r=e.getAttribute("data-drawer-body-scrolling"),s=e.getAttribute("data-drawer-backdrop"),o=e.getAttribute("data-drawer-edge"),a=e.getAttribute("data-drawer-edge-offset");new vD(n,{placement:i||Co.placement,bodyScrolling:r?r==="true":Co.bodyScrolling,backdrop:s?s==="true":Co.backdrop,edge:o?o==="true":Co.edge,edgeOffset:a||Co.edgeOffset})}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(e){var t=e.getAttribute("data-drawer-toggle"),n=document.getElementById(t);if(n){var i=st.getInstance("Drawer",t);if(i){var r=function(){i.toggle()};e.addEventListener("click",r),i.addEventListenerInstance(e,"click",r)}else console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(e){var t=e.getAttribute("data-drawer-dismiss")?e.getAttribute("data-drawer-dismiss"):e.getAttribute("data-drawer-hide"),n=document.getElementById(t);if(n){var i=st.getInstance("Drawer",t);if(i){var r=function(){i.hide()};e.addEventListener("click",r),i.addEventListenerInstance(e,"click",r)}else console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(e){var t=e.getAttribute("data-drawer-show"),n=document.getElementById(t);if(n){var i=st.getInstance("Drawer",t);if(i){var r=function(){i.show()};e.addEventListener("click",r),i.addEventListenerInstance(e,"click",r)}else console.error("Drawer with id ".concat(t," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(t," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=vD,window.initDrawers=zb);var Uh=function(){return Uh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Uh.apply(this,arguments)},Hh={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},AQ={id:null,override:!0},mD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=Hh),r===void 0&&(r=AQ),this._instanceId=r.id?r.id:t.id,this._tabsEl=t,this._items=n,this._activeTab=i?this.getTab(i.defaultTabId):null,this._options=Uh(Uh({},Hh),i),this._initialized=!1,this.init(),st.addInstance("Tabs",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(i){i.preventDefault(),t.show(n.id)})}))},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},e.prototype.removeInstance=function(){this.destroy(),st.removeInstance("Tabs",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getActiveTab=function(){return this._activeTab},e.prototype.setActiveTab=function(t){this._activeTab=t},e.prototype.getTab=function(t){return this._items.filter(function(n){return n.id===t})[0]},e.prototype.show=function(t,n){var i,r,s=this;n===void 0&&(n=!1);var o=this.getTab(t);o===this._activeTab&&!n||(this._items.map(function(a){var l,u;a!==o&&((l=a.triggerEl.classList).remove.apply(l,s._options.activeClasses.split(" ")),(u=a.triggerEl.classList).add.apply(u,s._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(i=o.triggerEl.classList).add.apply(i,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-selected","true"),o.targetEl.classList.remove("hidden"),this.setActiveTab(o),this._options.onShow(this,o))},e.prototype.updateOnShow=function(t){this._options.onShow=t},e}();function Wb(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(e){var t=[],n=e.getAttribute("data-tabs-active-classes"),i=e.getAttribute("data-tabs-inactive-classes"),r=null;e.querySelectorAll('[role="tab"]').forEach(function(s){var o=s.getAttribute("aria-selected")==="true",a={id:s.getAttribute("data-tabs-target"),triggerEl:s,targetEl:document.querySelector(s.getAttribute("data-tabs-target"))};t.push(a),o&&(r=a.id)}),new mD(e,t,{defaultTabId:r,activeClasses:n||Hh.activeClasses,inactiveClasses:i||Hh.inactiveClasses})})}typeof window<"u"&&(window.Tabs=mD,window.initTabs=Wb);var Rs=function(){return Rs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Rs.apply(this,arguments)},df=function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},jh={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},PQ={id:null,override:!0},gD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=jh),r===void 0&&(r=PQ),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=n,this._options=Rs(Rs({},jh),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),st.addInstance("Tooltip",this,this._instanceId,r.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var t=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._showHandler)}),n.hideEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){st.removeInstance("Tooltip",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){t.hide()},n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._showHandler)}),n.hideEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._hideHandler)})},e.prototype._createPopperInstance=function(){return Ub(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var i=t.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Rs(Rs({},t),{modifiers:df(df([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Rs(Rs({},t),{modifiers:df(df([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function qb(){document.querySelectorAll("[data-tooltip-target]").forEach(function(e){var t=e.getAttribute("data-tooltip-target"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-tooltip-trigger"),r=e.getAttribute("data-tooltip-placement");new gD(n,e,{placement:r||jh.placement,triggerType:i||jh.triggerType})}else console.error('The tooltip element with id "'.concat(t,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=gD,window.initTooltips=qb);var Ds=function(){return Ds=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ds.apply(this,arguments)},ff=function(e,t,n){if(n||arguments.length===2)for(var i=0,r=t.length,s;i<r;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},Qu={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},VQ={id:null,override:!0},pD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=Qu),r===void 0&&(r=VQ),this._instanceId=r.id?r.id:t.id,this._targetEl=t,this._triggerEl=n,this._options=Ds(Ds({},Qu),i),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),st.addInstance("Popover",this,r.id?r.id:this._targetEl.id,r.override)}return e.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},e.prototype.destroy=function(){var t=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._showHandler),t._targetEl.removeEventListener(i,t._showHandler)}),n.hideEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._hideHandler),t._targetEl.removeEventListener(i,t._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},e.prototype.removeInstance=function(){st.removeInstance("Popover",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype._setupEventListeners=function(){var t=this,n=this._getTriggerEvents();this._showHandler=function(){t.show()},this._hideHandler=function(){setTimeout(function(){t._targetEl.matches(":hover")||t.hide()},100)},n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._showHandler),t._targetEl.addEventListener(i,t._showHandler)}),n.hideEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._hideHandler),t._targetEl.addEventListener(i,t._hideHandler)})},e.prototype._createPopperInstance=function(){return Ub(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},e.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype._setupKeydownListener=function(){var t=this;this._keydownEventListener=function(n){n.key==="Escape"&&t.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},e.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},e.prototype._setupClickOutsideListener=function(){var t=this;this._clickOutsideEventListener=function(n){t._handleClickOutside(n,t._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},e.prototype._handleClickOutside=function(t,n){var i=t.target;i!==n&&!n.contains(i)&&!this._triggerEl.contains(i)&&this.isVisible()&&this.hide()},e.prototype.isVisible=function(){return this._visible},e.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},e.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(t){return Ds(Ds({},t),{modifiers:ff(ff([],t.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},e.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(t){return Ds(Ds({},t),{modifiers:ff(ff([],t.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function Gb(){document.querySelectorAll("[data-popover-target]").forEach(function(e){var t=e.getAttribute("data-popover-target"),n=document.getElementById(t);if(n){var i=e.getAttribute("data-popover-trigger"),r=e.getAttribute("data-popover-placement"),s=e.getAttribute("data-popover-offset");new pD(n,e,{placement:r||Qu.placement,offset:s?parseInt(s):Qu.offset,triggerType:i||Qu.triggerType})}else console.error('The popover element with id "'.concat(t,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=pD,window.initPopovers=Gb);var zh=function(){return zh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},zh.apply(this,arguments)},Ty={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},RQ={id:null,override:!0},yD=function(){function e(t,n,i,r,s){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),r===void 0&&(r=Ty),s===void 0&&(s=RQ),this._instanceId=s.id?s.id:i.id,this._parentEl=t,this._triggerEl=n,this._targetEl=i,this._options=zh(zh({},Ty),r),this._visible=!1,this._initialized=!1,this.init(),st.addInstance("Dial",this,this._instanceId,s.override)}return e.prototype.init=function(){var t=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){t.show()},n.showEvents.forEach(function(i){t._triggerEl.addEventListener(i,t._showEventHandler),t._targetEl.addEventListener(i,t._showEventHandler)}),this._hideEventHandler=function(){t._parentEl.matches(":hover")||t.hide()},n.hideEvents.forEach(function(i){t._parentEl.addEventListener(i,t._hideEventHandler)}),this._initialized=!0}},e.prototype.destroy=function(){var t=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(i){t._triggerEl.removeEventListener(i,t._showEventHandler),t._targetEl.removeEventListener(i,t._showEventHandler)}),n.hideEvents.forEach(function(i){t._parentEl.removeEventListener(i,t._hideEventHandler)}),this._initialized=!1}},e.prototype.removeInstance=function(){st.removeInstance("Dial",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},e.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},e.prototype.toggle=function(){this._visible?this.hide():this.show()},e.prototype.isHidden=function(){return!this._visible},e.prototype.isVisible=function(){return this._visible},e.prototype._getTriggerEventTypes=function(t){switch(t){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e.prototype.updateOnToggle=function(t){this._options.onToggle=t},e}();function Kb(){document.querySelectorAll("[data-dial-init]").forEach(function(e){var t=e.querySelector("[data-dial-toggle]");if(t){var n=t.getAttribute("data-dial-toggle"),i=document.getElementById(n);if(i){var r=t.getAttribute("data-dial-trigger");new yD(e,t,i,{triggerType:r||Ty.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(e.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=yD,window.initDials=Kb);var Wh=function(){return Wh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Wh.apply(this,arguments)},oE={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},DQ={id:null,override:!0},_D=function(){function e(t,n,i,r,s){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),r===void 0&&(r=oE),s===void 0&&(s=DQ),this._instanceId=s.id?s.id:t.id,this._targetEl=t,this._incrementEl=n,this._decrementEl=i,this._options=Wh(Wh({},oE),r),this._initialized=!1,this.init(),st.addInstance("InputCounter",this,this._instanceId,s.override)}return e.prototype.init=function(){var t=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(n){{var i=n.target;/^\d*$/.test(i.value)||(i.value=i.value.replace(/[^\d]/g,"")),t._options.maxValue!==null&&parseInt(i.value)>t._options.maxValue&&(i.value=t._options.maxValue.toString()),t._options.minValue!==null&&parseInt(i.value)<t._options.minValue&&(i.value=t._options.minValue.toString())}},this._incrementClickHandler=function(){t.increment()},this._decrementClickHandler=function(){t.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("InputCounter",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},e.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},e.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},e.prototype.updateOnIncrement=function(t){this._options.onIncrement=t},e.prototype.updateOnDecrement=function(t){this._options.onDecrement=t},e}();function Yb(){document.querySelectorAll("[data-input-counter]").forEach(function(e){var t=e.id,n=document.querySelector('[data-input-counter-increment="'+t+'"]'),i=document.querySelector('[data-input-counter-decrement="'+t+'"]'),r=e.getAttribute("data-input-counter-min"),s=e.getAttribute("data-input-counter-max");e?st.instanceExists("InputCounter",e.getAttribute("id"))||new _D(e,n||null,i||null,{minValue:r?parseInt(r):null,maxValue:s?parseInt(s):null}):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=_D,window.initInputCounters=Yb);var qh=function(){return qh=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qh.apply(this,arguments)},Gh={htmlEntities:!1,contentType:"input",onCopy:function(){}},OQ={id:null,override:!0},bD=function(){function e(t,n,i,r){t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=Gh),r===void 0&&(r=OQ),this._instanceId=r.id?r.id:n.id,this._triggerEl=t,this._targetEl=n,this._options=qh(qh({},Gh),i),this._initialized=!1,this.init(),st.addInstance("CopyClipboard",this,this._instanceId,r.override)}return e.prototype.init=function(){var t=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){t.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},e.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},e.prototype.removeInstance=function(){st.removeInstance("CopyClipboard",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},e.prototype.copy=function(){var t=this.getTargetValue();this._options.htmlEntities&&(t=this.decodeHTML(t));var n=document.createElement("textarea");return n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this._options.onCopy(this),t},e.prototype.decodeHTML=function(t){var n=document.createElement("textarea");return n.innerHTML=t,n.textContent},e.prototype.updateOnCopyCallback=function(t){this._options.onCopy=t},e}();function Qb(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(e){var t=e.getAttribute("data-copy-to-clipboard-target"),n=document.getElementById(t),i=e.getAttribute("data-copy-to-clipboard-content-type"),r=e.getAttribute("data-copy-to-clipboard-html-entities");n?st.instanceExists("CopyClipboard",n.getAttribute("id"))||new bD(e,n,{htmlEntities:r&&r==="true"?!0:Gh.htmlEntities,contentType:i||Gh.contentType}):console.error('The target element with id "'.concat(t,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=bD,window.initClipboards=Qb);function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function LQ(e){if(Array.isArray(e))return e}function MQ(e){if(Array.isArray(e))return xy(e)}function NQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xb(e,t,n){return t=Xs(t),HQ(e,wD()?Reflect.construct(t,n||[],Xs(e).constructor):t.apply(e,n))}function Sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,WQ(i.key),i)}}function Ca(e,t,n){return t&&aE(e.prototype,t),n&&aE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oc(){return Oc=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=jQ(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Oc.apply(null,arguments)}function Xs(e){return Xs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xs(e)}function Jb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ay(e,t)}function wD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!e})()}function FQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,r,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function $Q(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NQ(e)}function Ay(e,t){return Ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ay(e,t)}function Ii(e,t){return LQ(e)||BQ(e,t)||kD(e,t)||$Q()}function jQ(e,t){for(;!{}.hasOwnProperty.call(e,t)&&(e=Xs(e))!==null;);return e}function _d(e){return MQ(e)||FQ(e)||kD(e)||UQ()}function zQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function kD(e,t){if(e){if(typeof e=="string")return xy(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xy(e,t):void 0}}function cs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zb(e){return e[e.length-1]}function oa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(r){e.includes(r)||e.push(r)}),e}function Rg(e,t){return e?e.split(t):[]}function e1(e,t,n){var i=t===void 0||e>=t,r=n===void 0||e<=n;return i&&r}function SD(e,t,n){return e<t?t:e>n?n:e}function Vl(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",s=Object.keys(n).reduce(function(a,l){var u=n[l];return typeof u=="function"&&(u=u(i)),"".concat(a," ").concat(l,'="').concat(u,'"')},e);r+="<".concat(s,"></").concat(e,">");var o=i+1;return o<t?Vl(e,t,n,o,r):r}function t1(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function Py(e){return new Date(e).setHours(0,0,0,0)}function Ea(){return new Date().setHours(0,0,0,0)}function Ws(){switch(arguments.length){case 0:return Ea();case 1:return Py(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function sl(e,t){var n=new Date(e);return n.setDate(n.getDate()+t)}function qQ(e,t){return sl(e,t*7)}function Yh(e,t){var n=new Date(e),i=n.getMonth()+t,r=i%12;r<0&&(r+=12);var s=n.setMonth(i);return n.getMonth()!==r?n.setDate(0):s}function ol(e,t){var n=new Date(e),i=n.getMonth(),r=n.setFullYear(n.getFullYear()+t);return i===1&&n.getMonth()===2?n.setDate(0):r}function lE(e,t){return(e-t+7)%7}function Qh(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=new Date(e).getDay();return sl(e,lE(t,n)-lE(i,n))}function GQ(e){var t=Qh(e,4,1),n=Qh(new Date(t).setMonth(0,4),4,1);return Math.round((t-n)/6048e5)+1}function wo(e,t){var n=new Date(e).getFullYear();return Math.floor(n/t)*t}var Vy=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,KQ=/[\s!-/:-@[-`{-~]+/,Dg={},uE={y:function(t,n){return new Date(t).setFullYear(parseInt(n,10))},m:function(t,n,i){var r=new Date(t),s=parseInt(n,10)-1;if(isNaN(s)){if(!n)return NaN;var o=n.toLowerCase(),a=function(u){return u.toLowerCase().startsWith(o)};if(s=i.monthsShort.findIndex(a),s<0&&(s=i.months.findIndex(a)),s<0)return NaN}return r.setMonth(s),r.getMonth()!==CD(s)?r.setDate(0):r.getTime()},d:function(t,n){return new Date(t).setDate(parseInt(n,10))}},YQ={d:function(t){return t.getDate()},dd:function(t){return hf(t.getDate(),2)},D:function(t,n){return n.daysShort[t.getDay()]},DD:function(t,n){return n.days[t.getDay()]},m:function(t){return t.getMonth()+1},mm:function(t){return hf(t.getMonth()+1,2)},M:function(t,n){return n.monthsShort[t.getMonth()]},MM:function(t,n){return n.months[t.getMonth()]},y:function(t){return t.getFullYear()},yy:function(t){return hf(t.getFullYear(),2).slice(-2)},yyyy:function(t){return hf(t.getFullYear(),4)}};function CD(e){return e>-1?e%12:CD(e+12)}function hf(e,t){return e.toString().padStart(t,"0")}function ED(e){if(typeof e!="string")throw new Error("Invalid date format.");if(e in Dg)return Dg[e];var t=e.split(Vy),n=e.match(new RegExp(Vy,"g"));if(t.length===0||!n)throw new Error("Invalid date format.");var i=n.map(function(s){return YQ[s]}),r=Object.keys(uE).reduce(function(s,o){var a=n.find(function(l){return l[0]!=="D"&&l[0].toLowerCase()===o});return a&&s.push(o),s},[]);return Dg[e]={parser:function(o,a){var l=o.split(KQ).reduce(function(u,c,d){if(c.length>0&&n[d]){var v=n[d][0];v==="M"?u.m=c:v!=="D"&&(u[v]=c)}return u},{});return r.reduce(function(u,c){var d=uE[c](u,l[c],a);return isNaN(d)?u:d},Ea())},formatter:function(o,a){var l=i.reduce(function(u,c,d){return u+="".concat(t[d]).concat(c(o,a))},"");return l+=Zb(t)}}}function Lc(e,t,n){if(e instanceof Date||typeof e=="number"){var i=Py(e);return isNaN(i)?void 0:i}if(e){if(e==="today")return Ea();if(t&&t.toValue){var r=t.toValue(e,t,n);return isNaN(r)?void 0:Py(r)}return ED(t).parser(e,n)}}function Mc(e,t,n){if(isNaN(e)||!e&&e!==0)return"";var i=typeof e=="number"?new Date(e):e;return t.toDisplay?t.toDisplay(i,t,n):ED(t).formatter(i,n)}var Xh=new WeakMap,ID=EventTarget.prototype,cE=ID.addEventListener,dE=ID.removeEventListener;function n1(e,t){var n=Xh.get(e);n||(n=[],Xh.set(e,n)),t.forEach(function(i){cE.call.apply(cE,_d(i)),n.push(i)})}function TD(e){var t=Xh.get(e);t&&(t.forEach(function(n){dE.call.apply(dE,_d(n))}),Xh.delete(e))}if(!Event.prototype.composedPath){var QQ=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];n.push(t);var i;return t.parentNode?i=t.parentNode:t.host?i=t.host:t.defaultView&&(i=t.defaultView),i?e(i,n):n};Event.prototype.composedPath=function(){return QQ(this.target)}}function xD(e,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=e[i];return t(r)?r:r===n||!r.parentElement?void 0:xD(e,t,n,i+1)}function AD(e,t){var n=typeof t=="function"?t:function(i){return i.matches(t)};return xD(e.composedPath(),n,e.currentTarget)}var Su={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},bd={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},XQ=document.createRange();function ds(e){return XQ.createContextualFragment(e)}function Xu(e){e.style.display!=="none"&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function Ju(e){e.style.display==="none"&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function Jh(e){e.firstChild&&(e.removeChild(e.firstChild),Jh(e))}function JQ(e,t){Jh(e),t instanceof DocumentFragment?e.appendChild(t):typeof t=="string"?e.appendChild(ds(t)):typeof t.forEach=="function"&&t.forEach(function(n){e.appendChild(n)})}var Og=bd.language,ZQ=bd.format,eX=bd.weekStart;function fE(e,t){return e.length<6&&t>=0&&t<7?oa(e,t):e}function hE(e){return(e+6)%7}function vE(e,t,n,i){var r=Lc(e,t,n);return r!==void 0?r:i}function Lg(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,i=parseInt(e,10);return i>=0&&i<=n?i:t}function Mg(e,t){var n=Object.assign({},e),i={},r=t.constructor.locales,s=t.config||{},o=s.format,a=s.language,l=s.locale,u=s.maxDate,c=s.maxView,d=s.minDate,v=s.pickLevel,m=s.startView,g=s.weekStart;if(n.language){var p;if(n.language!==a&&(r[n.language]?p=n.language:(p=n.language.split("-")[0],r[p]===void 0&&(p=!1))),delete n.language,p){a=i.language=p;var y=l||r[Og];l=Object.assign({format:ZQ,weekStart:eX},r[Og]),a!==Og&&Object.assign(l,r[a]),i.locale=l,o===y.format&&(o=i.format=l.format),g===y.weekStart&&(g=i.weekStart=l.weekStart,i.weekEnd=hE(l.weekStart))}}if(n.format){var _=typeof n.format.toDisplay=="function",k=typeof n.format.toValue=="function",A=Vy.test(n.format);(_&&k||A)&&(o=i.format=n.format),delete n.format}var T=d,D=u;if(n.minDate!==void 0&&(T=n.minDate===null?Ws(0,0,1):vE(n.minDate,o,l,T),delete n.minDate),n.maxDate!==void 0&&(D=n.maxDate===null?void 0:vE(n.maxDate,o,l,D),delete n.maxDate),D<T?(d=i.minDate=D,u=i.maxDate=T):(d!==T&&(d=i.minDate=T),u!==D&&(u=i.maxDate=D)),n.datesDisabled&&(i.datesDisabled=n.datesDisabled.reduce(function($,j){var K=Lc(j,o,l);return K!==void 0?oa($,K):$},[]),delete n.datesDisabled),n.defaultViewDate!==void 0){var R=Lc(n.defaultViewDate,o,l);R!==void 0&&(i.defaultViewDate=R),delete n.defaultViewDate}if(n.weekStart!==void 0){var x=Number(n.weekStart)%7;isNaN(x)||(g=i.weekStart=x,i.weekEnd=hE(x)),delete n.weekStart}if(n.daysOfWeekDisabled&&(i.daysOfWeekDisabled=n.daysOfWeekDisabled.reduce(fE,[]),delete n.daysOfWeekDisabled),n.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=n.daysOfWeekHighlighted.reduce(fE,[]),delete n.daysOfWeekHighlighted),n.maxNumberOfDates!==void 0){var w=parseInt(n.maxNumberOfDates,10);w>=0&&(i.maxNumberOfDates=w,i.multidate=w!==1),delete n.maxNumberOfDates}n.dateDelimiter&&(i.dateDelimiter=String(n.dateDelimiter),delete n.dateDelimiter);var b=v;n.pickLevel!==void 0&&(b=Lg(n.pickLevel,2),delete n.pickLevel),b!==v&&(v=i.pickLevel=b);var C=c;n.maxView!==void 0&&(C=Lg(n.maxView,c),delete n.maxView),C=v>C?v:C,C!==c&&(c=i.maxView=C);var E=m;if(n.startView!==void 0&&(E=Lg(n.startView,E),delete n.startView),E<v?E=v:E>c&&(E=c),E!==m&&(i.startView=E),n.prevArrow){var I=ds(n.prevArrow);I.childNodes.length>0&&(i.prevArrow=I.childNodes),delete n.prevArrow}if(n.nextArrow){var P=ds(n.nextArrow);P.childNodes.length>0&&(i.nextArrow=P.childNodes),delete n.nextArrow}if(n.disableTouchKeyboard!==void 0&&(i.disableTouchKeyboard="ontouchstart"in document&&!!n.disableTouchKeyboard,delete n.disableTouchKeyboard),n.orientation){var F=n.orientation.toLowerCase().split(/\s+/g);i.orientation={x:F.find(function($){return $==="left"||$==="right"})||"auto",y:F.find(function($){return $==="top"||$==="bottom"})||"auto"},delete n.orientation}if(n.todayBtnMode!==void 0){switch(n.todayBtnMode){case 0:case 1:i.todayBtnMode=n.todayBtnMode}delete n.todayBtnMode}return Object.keys(n).forEach(function($){n[$]!==void 0&&cs(bd,$)&&(i[$]=n[$])}),i}var tX=t1(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),nX=t1(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(Vl("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(Vl("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),iX=t1(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(Vl("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),i1=function(){function e(t,n){Sa(this,e),Object.assign(this,n,{picker:t,element:ds('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return Ca(e,[{key:"init",value:function(n){n.pickLevel!==void 0&&(this.isMinView=this.id===n.pickLevel),this.setOptions(n),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(n,i,r){var s=this.beforeShow(new Date(r));switch(Kh(s)){case"boolean":s={enabled:s};break;case"string":s={classes:s}}if(s){if(s.enabled===!1&&(n.classList.add("disabled"),oa(this.disabled,i)),s.classes){var o,a=s.classes.split(/\s+/);(o=n.classList).add.apply(o,_d(a)),a.includes("disabled")&&oa(this.disabled,i)}s.content&&JQ(n,s.content)}}}])}(),rX=function(e){function t(n){return Sa(this,t),Xb(this,t,[n,{id:0,name:"days",cellClass:"day"}])}return Jb(t,e),Ca(t,[{key:"init",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(r){var s=ds(nX).firstChild;this.dow=s.firstChild,this.grid=s.lastChild,this.element.appendChild(s)}Oc(Xs(t.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){var r=this,s;if(cs(i,"minDate")&&(this.minDate=i.minDate),cs(i,"maxDate")&&(this.maxDate=i.maxDate),i.datesDisabled&&(this.datesDisabled=i.datesDisabled),i.daysOfWeekDisabled&&(this.daysOfWeekDisabled=i.daysOfWeekDisabled,s=!0),i.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=i.daysOfWeekHighlighted),i.todayHighlight!==void 0&&(this.todayHighlight=i.todayHighlight),i.weekStart!==void 0&&(this.weekStart=i.weekStart,this.weekEnd=i.weekEnd,s=!0),i.locale){var o=this.locale=i.locale;this.dayNames=o.daysMin,this.switchLabelFormat=o.titleFormat,s=!0}if(i.beforeShowDay!==void 0&&(this.beforeShow=typeof i.beforeShowDay=="function"?i.beforeShowDay:void 0),i.calendarWeeks!==void 0)if(i.calendarWeeks&&!this.calendarWeeks){var a=ds(iX).firstChild;this.calendarWeeks={element:a,dow:a.firstChild,weeks:a.lastChild},this.element.insertBefore(a,this.element.firstChild)}else this.calendarWeeks&&!i.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);i.showDaysOfWeek!==void 0&&(i.showDaysOfWeek?(Ju(this.dow),this.calendarWeeks&&Ju(this.calendarWeeks.dow)):(Xu(this.dow),this.calendarWeeks&&Xu(this.calendarWeeks.dow))),s&&Array.from(this.dow.children).forEach(function(l,u){var c=(r.weekStart+u)%7;l.textContent=r.dayNames[c],l.className=r.daysOfWeekDisabled.includes(c)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),r=i.getFullYear(),s=i.getMonth(),o=Ws(r,s,1),a=Qh(o,this.weekStart,this.weekStart);this.first=o,this.last=Ws(r,s+1,0),this.start=a,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,r=i.dates,s=i.rangepicker;this.selected=r,s&&(this.range=s.dates)}},{key:"render",value:function(){var i=this;this.today=this.todayHighlight?Ea():void 0,this.disabled=_d(this.datesDisabled);var r=Mc(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(r),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var s=Qh(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(o,a){o.textContent=GQ(qQ(s,a))})}Array.from(this.grid.children).forEach(function(o,a){var l=o.classList,u=sl(i.start,a),c=new Date(u),d=c.getDay();if(o.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),o.dataset.date=u,o.textContent=c.getDate(),u<i.first?l.add("prev","text-gray-500","dark:text-white"):u>i.last&&l.add("next","text-gray-500","dark:text-white"),i.today===u&&l.add("today","bg-gray-100","dark:bg-gray-600"),(u<i.minDate||u>i.maxDate||i.disabled.includes(u))&&(l.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),l.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),i.daysOfWeekDisabled.includes(d)&&(l.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),l.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),oa(i.disabled,u)),i.daysOfWeekHighlighted.includes(d)&&l.add("highlighted"),i.range){var v=Ii(i.range,2),m=v[0],g=v[1];u>m&&u<g&&(l.add("range","bg-gray-200","dark:bg-gray-600"),l.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),u===m&&(l.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),l.remove("rounded-lg","rounded-r-lg")),u===g&&(l.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),l.remove("rounded-lg","rounded-l-lg"))}i.selected.includes(u)&&(l.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),l.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),u===i.focused&&l.add("focused"),i.beforeShow&&i.performBeforeHook(o,u,u)})}},{key:"refresh",value:function(){var i=this,r=this.range||[],s=Ii(r,2),o=s[0],a=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(l){l.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),l.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(l){var u=Number(l.dataset.date),c=l.classList;c.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),u>o&&u<a&&(c.add("range","bg-gray-200","dark:bg-gray-600"),c.remove("rounded-lg")),u===o&&(c.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),c.remove("rounded-lg")),u===a&&(c.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),c.remove("rounded-lg")),i.selected.includes(u)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),u===i.focused&&c.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(r){r.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])}(i1);function mE(e,t){if(!(!e||!e[0]||!e[1])){var n=Ii(e,2),i=Ii(n[0],2),r=i[0],s=i[1],o=Ii(n[1],2),a=o[0],l=o[1];if(!(r>t||a<t))return[r===t?s:-1,a===t?l:12]}}var sX=function(e){function t(n){return Sa(this,t),Xb(this,t,[n,{id:1,name:"months",cellClass:"month"}])}return Jb(t,e),Ca(t,[{key:"init",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(ds(Vl("span",12,{"data-month":function(o){return o}})))),Oc(Xs(t.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(i.locale&&(this.monthNames=i.locale.monthsShort),cs(i,"minDate"))if(i.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var r=new Date(i.minDate);this.minYear=r.getFullYear(),this.minMonth=r.getMonth(),this.minDate=r.setDate(1)}if(cs(i,"maxDate"))if(i.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var s=new Date(i.maxDate);this.maxYear=s.getFullYear(),this.maxMonth=s.getMonth(),this.maxDate=Ws(this.maxYear,this.maxMonth+1,0)}i.beforeShowMonth!==void 0&&(this.beforeShow=typeof i.beforeShowMonth=="function"?i.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate);this.year=i.getFullYear(),this.focused=i.getMonth()}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,r=i.dates,s=i.rangepicker;this.selected=r.reduce(function(o,a){var l=new Date(a),u=l.getFullYear(),c=l.getMonth();return o[u]===void 0?o[u]=[c]:oa(o[u],c),o},{}),s&&s.dates&&(this.range=s.dates.map(function(o){var a=new Date(o);return isNaN(a)?void 0:[a.getFullYear(),a.getMonth()]}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var r=this.selected[this.year]||[],s=this.year<this.minYear||this.year>this.maxYear,o=this.year===this.minYear,a=this.year===this.maxYear,l=mE(this.range,this.year);Array.from(this.grid.children).forEach(function(u,c){var d=u.classList,v=Ws(i.year,c,1);if(u.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(u.dataset.date=v),u.textContent=i.monthNames[c],(s||o&&c<i.minMonth||a&&c>i.maxMonth)&&d.add("disabled"),l){var m=Ii(l,2),g=m[0],p=m[1];c>g&&c<p&&d.add("range"),c===g&&d.add("range-start"),c===p&&d.add("range-end")}r.includes(c)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),c===i.focused&&d.add("focused"),i.beforeShow&&i.performBeforeHook(u,c,v)})}},{key:"refresh",value:function(){var i=this,r=this.selected[this.year]||[],s=mE(this.range,this.year)||[],o=Ii(s,2),a=o[0],l=o[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(u){u.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),u.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(u,c){var d=u.classList;c>a&&c<l&&d.add("range"),c===a&&d.add("range-start"),c===l&&d.add("range-end"),r.includes(c)&&(d.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),d.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),c===i.focused&&d.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])}(i1);function oX(e){return _d(e).reduce(function(t,n,i){return t+=i?n:n.toUpperCase()},"")}var gE=function(e){function t(n,i){return Sa(this,t),Xb(this,t,[n,i])}return Jb(t,e),Ca(t,[{key:"init",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(oX(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(ds(Vl("span",12)))),Oc(Xs(t.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(cs(i,"minDate")&&(i.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=wo(i.minDate,this.step),this.minDate=Ws(this.minYear,0,1))),cs(i,"maxDate")&&(i.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=wo(i.maxDate,this.step),this.maxDate=Ws(this.maxYear,11,31))),i[this.beforeShowOption]!==void 0){var r=i[this.beforeShowOption];this.beforeShow=typeof r=="function"?r:void 0}}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),r=wo(i,this.navStep),s=r+9*this.step;this.first=r,this.last=s,this.start=r-this.step,this.focused=wo(i,this.step)}},{key:"updateSelection",value:function(){var i=this,r=this.picker.datepicker,s=r.dates,o=r.rangepicker;this.selected=s.reduce(function(a,l){return oa(a,wo(l,i.step))},[]),o&&o.dates&&(this.range=o.dates.map(function(a){if(a!==void 0)return wo(a,i.step)}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(r,s){var o=r.classList,a=i.start+s*i.step,l=Ws(a,0,1);if(r.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(r.dataset.date=l),r.textContent=r.dataset.year=a,s===0?o.add("prev"):s===11&&o.add("next"),(a<i.minYear||a>i.maxYear)&&o.add("disabled"),i.range){var u=Ii(i.range,2),c=u[0],d=u[1];a>c&&a<d&&o.add("range"),a===c&&o.add("range-start"),a===d&&o.add("range-end")}i.selected.includes(a)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),a===i.focused&&o.add("focused"),i.beforeShow&&i.performBeforeHook(r,a,l)})}},{key:"refresh",value:function(){var i=this,r=this.range||[],s=Ii(r,2),o=s[0],a=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(l){l.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(l){var u=Number(l.textContent),c=l.classList;u>o&&u<a&&c.add("range"),u===o&&c.add("range-start"),u===a&&c.add("range-end"),i.selected.includes(u)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===i.focused&&c.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(r){r.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])}(i1);function al(e,t){var n={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(t,{detail:n}))}function Zh(e,t){var n=e.config,i=n.minDate,r=n.maxDate,s=e.picker,o=s.currentView,a=s.viewDate,l;switch(o.id){case 0:l=Yh(a,t);break;case 1:l=ol(a,t);break;default:l=ol(a,t*o.navStep)}l=SD(l,i,r),e.picker.changeFocus(l).render()}function PD(e){var t=e.picker.currentView.id;t!==e.config.maxView&&e.picker.changeView(t+1).render()}function VD(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function pE(e,t){var n=e.picker,i=new Date(n.viewDate),r=n.currentView.id,s=r===1?Yh(i,t-i.getMonth()):ol(i,t-i.getFullYear());n.changeFocus(s).changeView(r-1).render()}function aX(e){var t=e.picker,n=Ea();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(n);return}e.setDate(n,{render:!1}),t.update()}t.viewDate!==n&&t.changeFocus(n),t.changeView(0).render()}function lX(e){e.setDate({clear:!0})}function uX(e){PD(e)}function cX(e){Zh(e,-1)}function dX(e){Zh(e,1)}function fX(e,t){var n=AD(t,".datepicker-cell");if(!(!n||n.classList.contains("disabled"))){var i=e.picker.currentView,r=i.id,s=i.isMinView;s?e.setDate(Number(n.dataset.date)):r===1?pE(e,Number(n.dataset.month)):pE(e,Number(n.dataset.year))}}function hX(e){!e.inline&&!e.config.disableTouchKeyboard&&e.inputField.focus()}function yE(e,t){if(t.title!==void 0&&(t.title?(e.controls.title.textContent=t.title,Ju(e.controls.title)):(e.controls.title.textContent="",Xu(e.controls.title))),t.prevArrow){var n=e.controls.prevBtn;Jh(n),t.prevArrow.forEach(function(a){n.appendChild(a.cloneNode(!0))})}if(t.nextArrow){var i=e.controls.nextBtn;Jh(i),t.nextArrow.forEach(function(a){i.appendChild(a.cloneNode(!0))})}if(t.locale&&(e.controls.todayBtn.textContent=t.locale.today,e.controls.clearBtn.textContent=t.locale.clear),t.todayBtn!==void 0&&(t.todayBtn?Ju(e.controls.todayBtn):Xu(e.controls.todayBtn)),cs(t,"minDate")||cs(t,"maxDate")){var r=e.datepicker.config,s=r.minDate,o=r.maxDate;e.controls.todayBtn.disabled=!e1(Ea(),s,o)}t.clearBtn!==void 0&&(t.clearBtn?Ju(e.controls.clearBtn):Xu(e.controls.clearBtn))}function _E(e){var t=e.dates,n=e.config,i=t.length>0?Zb(t):n.defaultViewDate;return SD(i,n.minDate,n.maxDate)}function bE(e,t){var n=new Date(e.viewDate),i=new Date(t),r=e.currentView,s=r.id,o=r.year,a=r.first,l=r.last,u=i.getFullYear();switch(e.viewDate=t,u!==n.getFullYear()&&al(e.datepicker,"changeYear"),i.getMonth()!==n.getMonth()&&al(e.datepicker,"changeMonth"),s){case 0:return t<a||t>l;case 1:return u!==o;default:return u<a||u>l}}function Ng(e){return window.getComputedStyle(e).direction}var vX=function(){function e(t){Sa(this,e),this.datepicker=t;var n=tX.replace(/%buttonClass%/g,t.config.buttonClass),i=this.element=ds(n).firstChild,r=Ii(i.firstChild.children,3),s=r[0],o=r[1],a=r[2],l=s.firstElementChild,u=Ii(s.lastElementChild.children,3),c=u[0],d=u[1],v=u[2],m=Ii(a.firstChild.children,2),g=m[0],p=m[1],y={title:l,prevBtn:c,viewSwitch:d,nextBtn:v,todayBtn:g,clearBtn:p};this.main=o,this.controls=y;var _=t.inline?"inline":"dropdown";i.classList.add("datepicker-".concat(_)),_==="dropdown"&&i.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),yE(this,t.config),this.viewDate=_E(t),n1(t,[[i,"click",hX.bind(null,t),{capture:!0}],[o,"click",fX.bind(null,t)],[y.viewSwitch,"click",uX.bind(null,t)],[y.prevBtn,"click",cX.bind(null,t)],[y.nextBtn,"click",dX.bind(null,t)],[y.todayBtn,"click",aX.bind(null,t)],[y.clearBtn,"click",lX.bind(null,t)]]),this.views=[new rX(this),new sX(this),new gE(this,{id:2,name:"years",cellClass:"year",step:1}),new gE(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.config.container.appendChild(this.element)}return Ca(e,[{key:"setOptions",value:function(n){yE(this,n),this.views.forEach(function(i){i.init(n,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var n=this.datepicker;if(!n.inline){var i=Ng(n.inputField);i!==Ng(n.config.container)?this.element.dir=i:this.element.dir&&this.element.removeAttribute("dir"),this.place(),n.config.disableTouchKeyboard&&n.inputField.blur()}al(n,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,al(this.datepicker,"hide"))}},{key:"place",value:function(){var n=this.element,i=n.classList,r=n.style,s=this.datepicker,o=s.config,a=s.inputField,l=o.container,u=this.element.getBoundingClientRect(),c=u.width,d=u.height,v=l.getBoundingClientRect(),m=v.left,g=v.top,p=v.width,y=a.getBoundingClientRect(),_=y.left,k=y.top,A=y.width,T=y.height,D=o.orientation,R=D.x,x=D.y,w,b,C;l===document.body?(w=window.scrollY,b=_+window.scrollX,C=k+w):(w=l.scrollTop,b=_-m,C=k-g+w),R==="auto"&&(b<0?(R="left",b=10):b+c>p?R="right":R=Ng(a)==="rtl"?"right":"left"),R==="right"&&(b-=c-A),x==="auto"&&(x=C-d<w?"bottom":"top"),x==="top"?C-=d:C+=T,i.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),i.add("datepicker-orient-".concat(x),"datepicker-orient-".concat(R)),r.top=C&&"".concat(C,"px"),r.left=b&&"".concat(b,"px")}},{key:"setViewSwitchLabel",value:function(n){this.controls.viewSwitch.textContent=n}},{key:"setPrevBtnDisabled",value:function(n){this.controls.prevBtn.disabled=n}},{key:"setNextBtnDisabled",value:function(n){this.controls.nextBtn.disabled=n}},{key:"changeView",value:function(n){var i=this.currentView,r=this.views[n];return r.id!==i.id&&(this.currentView=r,this._renderMethod="render",al(this.datepicker,"changeView"),this.main.replaceChild(r.element,i.element)),this}},{key:"changeFocus",value:function(n){return this._renderMethod=bE(this,n)?"render":"refreshFocus",this.views.forEach(function(i){i.updateFocus()}),this}},{key:"update",value:function(){var n=_E(this.datepicker);return this._renderMethod=bE(this,n)?"render":"refresh",this.views.forEach(function(i){i.updateFocus(),i.updateSelection()}),this}},{key:"render",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=n&&this._renderMethod||"render";delete this._renderMethod,this.currentView[i]()}}])}();function RD(e,t,n,i,r,s){if(e1(e,r,s)){if(i(e)){var o=t(e,n);return RD(o,t,n,i,r,s)}return e}}function vf(e,t,n,i){var r=e.picker,s=r.currentView,o=s.step||1,a=r.viewDate,l,u;switch(s.id){case 0:i?a=sl(a,n*7):t.ctrlKey||t.metaKey?a=ol(a,n):a=sl(a,n),l=sl,u=function(d){return s.disabled.includes(d)};break;case 1:a=Yh(a,i?n*4:n),l=Yh,u=function(d){var v=new Date(d),m=s.year,g=s.disabled;return v.getFullYear()===m&&g.includes(v.getMonth())};break;default:a=ol(a,n*(i?4:1)*o),l=ol,u=function(d){return s.disabled.includes(wo(d,o))}}a=RD(a,l,n<0?-o:o,u,s.minDate,s.maxDate),a!==void 0&&r.changeFocus(a).render()}function mX(e,t){if(t.key==="Tab"){VD(e);return}var n=e.picker,i=n.currentView,r=i.id,s=i.isMinView;if(n.active)if(e.editMode)switch(t.key){case"Escape":n.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(t.key){case"Escape":n.hide();break;case"ArrowLeft":if(t.ctrlKey||t.metaKey)Zh(e,-1);else if(t.shiftKey){e.enterEditMode();return}else vf(e,t,-1,!1);break;case"ArrowRight":if(t.ctrlKey||t.metaKey)Zh(e,1);else if(t.shiftKey){e.enterEditMode();return}else vf(e,t,1,!1);break;case"ArrowUp":if(t.ctrlKey||t.metaKey)PD(e);else if(t.shiftKey){e.enterEditMode();return}else vf(e,t,-1,!0);break;case"ArrowDown":if(t.shiftKey&&!t.ctrlKey&&!t.metaKey){e.enterEditMode();return}vf(e,t,1,!0);break;case"Enter":s?e.setDate(n.viewDate):n.changeView(r-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:t.key.length===1&&!t.ctrlKey&&!t.metaKey&&e.enterEditMode();return}else switch(t.key){case"ArrowDown":case"Escape":n.show();break;case"Enter":e.update();break;default:return}t.preventDefault(),t.stopPropagation()}function gX(e){e.config.showOnFocus&&!e._showing&&e.show()}function pX(e,t){var n=t.target;(e.picker.active||e.config.showOnClick)&&(n._active=n===document.activeElement,n._clicking=setTimeout(function(){delete n._active,delete n._clicking},2e3))}function yX(e,t){var n=t.target;n._clicking&&(clearTimeout(n._clicking),delete n._clicking,n._active&&e.enterEditMode(),delete n._active,e.config.showOnClick&&e.show())}function _X(e,t){t.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function bX(e,t){var n=e.element;if(n===document.activeElement){var i=e.picker.element;AD(t,function(r){return r===n||r===i})||VD(e)}}function DD(e,t){return e.map(function(n){return Mc(n,t.format,t.locale)}).join(t.dateDelimiter)}function OD(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.config,r=e.dates,s=e.rangepicker;if(t.length===0)return n?[]:void 0;var o=s&&e===s.datepickers[1],a=t.reduce(function(l,u){var c=Lc(u,i.format,i.locale);if(c===void 0)return l;if(i.pickLevel>0){var d=new Date(c);i.pickLevel===1?c=o?d.setMonth(d.getMonth()+1,0):d.setDate(1):c=o?d.setFullYear(d.getFullYear()+1,0,0):d.setMonth(0,1)}return e1(c,i.minDate,i.maxDate)&&!l.includes(c)&&!i.datesDisabled.includes(c)&&!i.daysOfWeekDisabled.includes(new Date(c).getDay())&&l.push(c),l},[]);if(a.length!==0)return i.multidate&&!n&&(a=a.reduce(function(l,u){return r.includes(u)||l.push(u),l},r.filter(function(l){return!a.includes(l)}))),i.maxNumberOfDates&&a.length>i.maxNumberOfDates?a.slice(i.maxNumberOfDates*-1):a}function ev(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.config,r=e.picker,s=e.inputField;if(t&2){var o=r.active?i.pickLevel:i.startView;r.update().changeView(o).render(n)}t&1&&s&&(s.value=DD(e.dates,i))}function wE(e,t,n){var i=n.clear,r=n.render,s=n.autohide;r===void 0&&(r=!0),r?s===void 0&&(s=e.config.autohide):s=!1;var o=OD(e,t,i);o&&(o.toString()!==e.dates.toString()?(e.dates=o,ev(e,r?3:1),al(e,"changeDate")):ev(e,1),s&&e.hide())}var Nf=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;Sa(this,e),t.datepicker=this,this.element=t;var r=this.config=Object.assign({buttonClass:n.buttonClass&&String(n.buttonClass)||"button",container:document.body,defaultViewDate:Ea(),maxDate:void 0,minDate:void 0},Mg(bd,this));this._options=n,Object.assign(r,Mg(n,this));var s=this.inline=t.tagName!=="INPUT",o,a;if(s)r.container=t,a=Rg(t.dataset.date,r.dateDelimiter),delete t.dataset.date;else{var l=n.container?document.querySelector(n.container):null;l&&(r.container=l),o=this.inputField=t,o.classList.add("datepicker-input"),a=Rg(o.value,r.dateDelimiter)}if(i){var u=i.inputs.indexOf(o),c=i.datepickers;if(u<0||u>1||!Array.isArray(c))throw Error("Invalid rangepicker object.");c[u]=this,Object.defineProperty(this,"rangepicker",{get:function(){return i}})}this.dates=[];var d=OD(this,a);d&&d.length>0&&(this.dates=d),o&&(o.value=DD(this.dates,r));var v=this.picker=new vX(this);if(s)this.show();else{var m=bX.bind(null,this),g=[[o,"keydown",mX.bind(null,this)],[o,"focus",gX.bind(null,this)],[o,"mousedown",pX.bind(null,this)],[o,"click",yX.bind(null,this)],[o,"paste",_X.bind(null,this)],[document,"mousedown",m],[document,"touchstart",m],[window,"resize",v.place.bind(v)]];n1(this,g)}}return Ca(e,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(n){var i=this.picker,r=Mg(n,this);Object.assign(this._options,n),Object.assign(this.config,r),i.setOptions(r),ev(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),TD(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=i?function(s){return Mc(s,i,n.config.locale)}:function(s){return new Date(s)};if(this.config.multidate)return this.dates.map(r);if(this.dates.length>0)return r(this.dates[0])}},{key:"setDate",value:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=[].concat(i),o={},a=Zb(i);Kh(a)==="object"&&!Array.isArray(a)&&!(a instanceof Date)&&a&&Object.assign(o,s.pop());var l=Array.isArray(s[0])?s[0]:s;wE(this,l,o)}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var i={clear:!0,autohide:!!(n&&n.autohide)},r=Rg(this.inputField.value,this.config.dateDelimiter);wE(this,r,i)}}},{key:"refresh",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n&&typeof n!="string"&&(i=n,n=void 0);var r;n==="picker"?r=2:n==="input"?r=1:r=3,ev(this,r,!i)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var i=Object.assign({update:!1},n);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),i.update&&this.update(i)}}}],[{key:"formatDate",value:function(n,i,r){return Mc(n,i,r&&Su[r]||Su.en)}},{key:"parseDate",value:function(n,i,r){return Lc(n,i,r&&Su[r]||Su.en)}},{key:"locales",get:function(){return Su}}])}();function kE(e){var t=Object.assign({},e);return delete t.inputs,delete t.allowOneSidedRange,delete t.maxNumberOfDates,t}function SE(e,t,n,i){n1(e,[[n,"changeDate",t]]),new Nf(n,i,e)}function Cu(e,t){if(!e._updating){e._updating=!0;var n=t.target;if(n.datepicker!==void 0){var i=e.datepickers,r={render:!1},s=e.inputs.indexOf(n),o=s===0?1:0,a=i[s].dates[0],l=i[o].dates[0];a!==void 0&&l!==void 0?s===0&&a>l?(i[0].setDate(l,r),i[1].setDate(a,r)):s===1&&a<l&&(i[0].setDate(a,r),i[1].setDate(l,r)):e.allowOneSidedRange||(a!==void 0||l!==void 0)&&(r.clear=!0,i[o].setDate(i[s].dates,r)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}}}var Fg=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sa(this,e);var i=Array.isArray(n.inputs)?n.inputs:Array.from(t.querySelectorAll("input"));if(!(i.length<2)){t.rangepicker=this,this.element=t,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!n.allowOneSidedRange;var r=Cu.bind(null,this),s=kE(n),o=[];Object.defineProperty(this,"datepickers",{get:function(){return o}}),SE(this,r,this.inputs[0],s),SE(this,r,this.inputs[1],s),Object.freeze(o),o[0].dates.length>0?Cu(this,{target:this.inputs[0]}):o[1].dates.length>0&&Cu(this,{target:this.inputs[1]})}}return Ca(e,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(n){this.allowOneSidedRange=!!n.allowOneSidedRange;var i=kE(n);this.datepickers[0].setOptions(i),this.datepickers[1].setOptions(i)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),TD(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,r=i?function(s){return Mc(s,i,n.datepickers[0].config.locale)}:function(s){return new Date(s)};return this.dates.map(function(s){return s===void 0?s:r(s)})}},{key:"setDates",value:function(n,i){var r=Ii(this.datepickers,2),s=r[0],o=r[1],a=this.dates;this._updating=!0,s.setDate(n),o.setDate(i),delete this._updating,o.dates[0]!==a[1]?Cu(this,{target:this.inputs[1]}):s.dates[0]!==a[0]&&Cu(this,{target:this.inputs[0]})}}])}(),tv=function(){return tv=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},tv.apply(this,arguments)},Oi={defaultDatepickerId:null,autohide:!1,format:"mm/dd/yyyy",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:null,language:"en",rangePicker:!1,onShow:function(){},onHide:function(){}},wX={id:null,override:!0},LD=function(){function e(t,n,i){t===void 0&&(t=null),n===void 0&&(n=Oi),i===void 0&&(i=wX),this._instanceId=i.id?i.id:t.id,this._datepickerEl=t,this._datepickerInstance=null,this._options=tv(tv({},Oi),n),this._initialized=!1,this.init(),st.addInstance("Datepicker",this,this._instanceId,i.override)}return e.prototype.init=function(){this._datepickerEl&&!this._initialized&&(this._options.rangePicker?this._datepickerInstance=new Fg(this._datepickerEl,this._getDatepickerOptions(this._options)):this._datepickerInstance=new Nf(this._datepickerEl,this._getDatepickerOptions(this._options)),this._initialized=!0)},e.prototype.destroy=function(){this._initialized&&(this._initialized=!1,this._datepickerInstance.destroy())},e.prototype.removeInstance=function(){this.destroy(),st.removeInstance("Datepicker",this._instanceId)},e.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},e.prototype.getDatepickerInstance=function(){return this._datepickerInstance},e.prototype.getDate=function(){if(this._options.rangePicker&&this._datepickerInstance instanceof Fg)return this._datepickerInstance.getDates();if(!this._options.rangePicker&&this._datepickerInstance instanceof Nf)return this._datepickerInstance.getDate()},e.prototype.setDate=function(t){if(this._options.rangePicker&&this._datepickerInstance instanceof Fg)return this._datepickerInstance.setDates(t);if(!this._options.rangePicker&&this._datepickerInstance instanceof Nf)return this._datepickerInstance.setDate(t)},e.prototype.show=function(){this._datepickerInstance.show(),this._options.onShow(this)},e.prototype.hide=function(){this._datepickerInstance.hide(),this._options.onHide(this)},e.prototype._getDatepickerOptions=function(t){var n={};return t.buttons&&(n.todayBtn=!0,n.clearBtn=!0,t.autoSelectToday&&(n.todayBtnMode=1)),t.autohide&&(n.autohide=!0),t.format&&(n.format=t.format),t.maxDate&&(n.maxDate=t.maxDate),t.minDate&&(n.minDate=t.minDate),t.orientation&&(n.orientation=t.orientation),t.title&&(n.title=t.title),t.language&&(n.language=t.language),n},e.prototype.updateOnShow=function(t){this._options.onShow=t},e.prototype.updateOnHide=function(t){this._options.onHide=t},e}();function r1(){document.querySelectorAll("[datepicker], [inline-datepicker], [date-rangepicker]").forEach(function(e){if(e){var t=e.hasAttribute("datepicker-buttons"),n=e.hasAttribute("datepicker-autoselect-today"),i=e.hasAttribute("datepicker-autohide"),r=e.getAttribute("datepicker-format"),s=e.getAttribute("datepicker-max-date"),o=e.getAttribute("datepicker-min-date"),a=e.getAttribute("datepicker-orientation"),l=e.getAttribute("datepicker-title"),u=e.getAttribute("datepicker-language"),c=e.hasAttribute("date-rangepicker");new LD(e,{buttons:t||Oi.buttons,autoSelectToday:n||Oi.autoSelectToday,autohide:i||Oi.autohide,format:r||Oi.format,maxDate:s||Oi.maxDate,minDate:o||Oi.minDate,orientation:a||Oi.orientation,title:l||Oi.title,language:u||Oi.language,rangePicker:c||Oi.rangePicker})}else console.error("The datepicker element does not exist. Please check the datepicker attribute.")})}typeof window<"u"&&(window.Datepicker=LD,window.initDatepickers=r1);function kX(){Pb(),Vb(),Rb(),Db(),Hb(),jb(),zb(),Wb(),qb(),Gb(),Kb(),Yb(),Qb(),r1()}typeof window<"u"&&(window.initFlowbite=kX);var SX=new mY("load",[Pb,Vb,Rb,Db,Hb,jb,zb,Wb,qb,Gb,Kb,Yb,Qb,r1]);SX.init();const CX={apiKey:"AIzaSyBETNHPMHDqdWwmLzFPkJaMKwi98bMlaFQ",authDomain:"dejacloud-563d6.firebaseapp.com",projectId:"dejacloud-563d6",storageBucket:"dejacloud-563d6.appspot.com",messagingSenderId:"763850552175",appId:"1:763850552175:web:a7665e2d25299403eeee9a"},MD=PA(CX),Ct=pK(MD);function Nc(e){return $y()?(wn(e),!0):!1}function ND(e){let t=!1,n;const i=Fc(!0);return(...r)=>(t||(n=i.run(()=>e(...r)),t=!0),n)}function wd(e){return typeof e=="function"?e():se(e)}const Bo=typeof window<"u"&&typeof document<"u",EX=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,IX=Object.prototype.toString,Ff=e=>IX.call(e)==="[object Object]",FD=()=>{};function TX(e,t){function n(...i){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(s)})}return n}const BD=e=>e();function xX(e=BD){const t=z(!0);function n(){t.value=!1}function i(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:to(t),pause:n,resume:i,eventFilter:r}}function AX(e){return Rl()}function PX(...e){if(e.length!==1)return ee(...e);const t=e[0];return typeof t=="function"?to(l5(()=>({get:t,set:FD}))):z(t)}function VX(e,t,n={}){const{eventFilter:i=BD,...r}=n;return ye(e,TX(i,t),r)}function RX(e,t,n={}){const{eventFilter:i,...r}=n,{eventFilter:s,pause:o,resume:a,isActive:l}=xX(i);return{stop:VX(e,t,{...r,eventFilter:s}),pause:o,resume:a,isActive:l}}function DX(e,t=!0,n){AX()?Qt(e,n):t?e():ct(e)}function OX(e,t=1e3,n={}){const{immediate:i=!0,immediateCallback:r=!1}=n;let s=null;const o=z(!1);function a(){s&&(clearInterval(s),s=null)}function l(){o.value=!1,a()}function u(){const c=wd(t);c<=0||(o.value=!0,r&&e(),a(),s=setInterval(e,c))}if(i&&Bo&&u(),Vt(t)||typeof t=="function"){const c=ye(t,()=>{o.value&&Bo&&u()});Nc(c)}return Nc(l),{isActive:o,pause:l,resume:u}}function LX(e,t,n={}){const{immediate:i=!0}=n,r=z(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){r.value=!1,o()}function l(...u){o(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,e(...u)},wd(t))}return i&&(r.value=!0,Bo&&l()),Nc(a),{isPending:to(r),start:l,stop:a}}const Ry=Bo?window:void 0;function MX(e){var t;const n=wd(e);return(t=n==null?void 0:n.$el)!=null?t:n}function Dy(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=Ry):[t,n,i,r]=e,!t)return FD;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,v,m)=>(c.addEventListener(d,v,m),()=>c.removeEventListener(d,v,m)),l=ye(()=>[MX(t),wd(r)],([c,d])=>{if(o(),!c)return;const v=Ff(d)?{...d}:d;s.push(...n.flatMap(m=>i.map(g=>a(c,m,g,v))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Nc(u),u}const mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gf="__vueuse_ssr_handlers__",NX=FX();function FX(){return gf in mf||(mf[gf]=mf[gf]||{}),mf[gf]}function BX(e,t){return NX[e]||t}function $X(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const UX={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},CE="vueuse-storage";function Dn(e,t,n,i={}){var r;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:d=Ry,eventFilter:v,onError:m=C=>{console.error(C)},initOnMounted:g}=i,p=(c?Se:z)(typeof t=="function"?t():t);if(!n)try{n=BX("getDefaultStorage",()=>{var C;return(C=Ry)==null?void 0:C.localStorage})()}catch(C){m(C)}if(!n)return p;const y=wd(t),_=$X(y),k=(r=i.serializer)!=null?r:UX[_],{pause:A,resume:T}=RX(p,()=>R(p.value),{flush:s,deep:o,eventFilter:v});d&&a&&DX(()=>{n instanceof Storage?Dy(d,"storage",w):Dy(d,CE,b),g&&w()}),g||w();function D(C,E){if(d){const I={key:e,oldValue:C,newValue:E,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",I):new CustomEvent(CE,{detail:I}))}}function R(C){try{const E=n.getItem(e);if(C==null)D(E,null),n.removeItem(e);else{const I=k.write(C);E!==I&&(n.setItem(e,I),D(E,I))}}catch(E){m(E)}}function x(C){const E=C?C.newValue:n.getItem(e);if(E==null)return l&&y!=null&&n.setItem(e,k.write(y)),y;if(!C&&u){const I=k.read(E);return typeof u=="function"?u(I,y):_==="object"&&!Array.isArray(I)?{...y,...I}:I}else return typeof E!="string"?E:k.read(E)}function w(C){if(!(C&&C.storageArea!==n)){if(C&&C.key==null){p.value=y;return}if(!(C&&C.key!==e)){A();try{(C==null?void 0:C.newValue)!==k.write(p.value)&&(p.value=x(C))}catch(E){m(E)}finally{C?ct(T):T()}}}}function b(C){w(C.detail)}return p}const EE="ping";function Bg(e){return e===!0?{}:e}function HX(e,t={}){const{onConnected:n,onDisconnected:i,onError:r,onMessage:s,immediate:o=!0,autoClose:a=!0,protocols:l=[]}=t,u=z(null),c=z("CLOSED"),d=z(),v=PX(e);let m,g,p=!1,y=0,_=[],k;const A=()=>{if(_.length&&d.value&&c.value==="OPEN"){for(const b of _)d.value.send(b);_=[]}},T=()=>{clearTimeout(k),k=void 0},D=(b=1e3,C)=>{!Bo||!d.value||(p=!0,T(),m==null||m(),d.value.close(b,C),d.value=void 0)},R=(b,C=!0)=>!d.value||c.value!=="OPEN"?(C&&_.push(b),!1):(A(),d.value.send(b),!0),x=()=>{if(p||typeof v.value>"u")return;const b=new WebSocket(v.value,l);d.value=b,c.value="CONNECTING",b.onopen=()=>{c.value="OPEN",y=0,n==null||n(b),g==null||g(),A()},b.onclose=C=>{if(c.value="CLOSED",i==null||i(b,C),!p&&t.autoReconnect&&b===d.value){const{retries:E=-1,delay:I=1e3,onFailed:P}=Bg(t.autoReconnect);typeof E=="number"&&(E<0||y<E)?(y+=1,setTimeout(x,I)):typeof E=="function"&&E()?setTimeout(x,I):P==null||P()}},b.onerror=C=>{r==null||r(b,C)},b.onmessage=C=>{if(t.heartbeat){T();const{message:E=EE,responseMessage:I=E}=Bg(t.heartbeat);if(C.data===I)return}u.value=C.data,s==null||s(b,C)}};if(t.heartbeat){const{message:b=EE,interval:C=1e3,pongTimeout:E=1e3}=Bg(t.heartbeat),{pause:I,resume:P}=OX(()=>{R(b,!1),k==null&&(k=setTimeout(()=>{D(),p=!1},E))},C,{immediate:!1});m=I,g=P}a&&(Bo&&Dy("beforeunload",()=>D()),Nc(D));const w=()=>{!Bo&&!EX||(D(),p=!1,y=0,x())};return o&&w(),ye(v,w),{data:u,status:c,close:D,send:R,open:w,ws:d}}function jX(){const e=/<\*\s(.*?)\s\*>/,t={color:"indogo",icon:"mdi-information"},n=[{key:"*",action:"Status",color:"green",icon:"mdi-information"},{key:"l",action:"Locomotive",color:"yellow",icon:"mdi-train"},{key:"p",action:"Power",color:"red",icon:"mdi-power"},{key:"H",action:"Turnout",color:"blue",icon:"mdi-directions-fork"},{key:"Y",action:"Accessory",color:"purple",icon:"mdi-lightbulb"}],r=ND(()=>{const o=z([]);function a(l){console.log("append",l,o.value),o.value=[...o.value,s(l)],console.log("appended",o.value)}return{log:o,append:a}})();function s(o){const{action:a,payload:l}=JSON.parse(o);console.log("parseEntry",Ff(l),l);let u={id:Date.now(),action:a,payload:l,...t};if(a==="broadcast"&&!Ff(l)){const c=a==="broadcast"&&!Ff(l)&&n.find(v=>v.key===(l==null?void 0:l.charAt(1))),d=l&&(l==null?void 0:l.match(e));u={...u,payload:(d==null?void 0:d[1])||l,...c}}return u}return{parseEntry:s,log:r.log.value,append:r.append}}const $D=ND(()=>{const{parseEntry:e}=jX(),t=z([]);function n(i){console.log("append",i,t.value),t.value=[...t.value,e(i)],console.log("appended",t.value)}return{log:t,append:n}}),zX=He({__name:"DCCLogger",setup(e){const t=Dn("@DEJA/pref/ws-host","192.168.86.249:8082"),{append:n}=$D();console.log("wshost",t);const{status:i,data:r,send:s,open:o,close:a}=HX(`ws://${t.value}/`);return ye(r,l=>{console.log("data",l),n(l)}),(l,u)=>{const c=Y("v-btn"),d=Y("v-card-actions"),v=Y("v-card");return G(),pe(v,{title:"Listening",subtitle:se(t),text:se(i)},{default:W(()=>[f(d,null,{default:W(()=>[f(c,{color:"green",variant:"flat",onClick:se(a)},{default:W(()=>u[0]||(u[0]=[Le("Close")])),_:1},8,["onClick"])]),_:1})]),_:1},8,["subtitle","text"])}}}),s1=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},WX={},qX={class:"text-blue text-decoration-none",href:"#",rel:"noopener noreferrer",target:"_blank"};function GX(e,t){const n=Y("v-text-field"),i=Y("v-card-text"),r=Y("v-card"),s=Y("v-btn"),o=Y("v-icon");return G(),pe(r,{class:"mx-auto pa-12 pb-8",elevation:"8",color:"indigo-darken-4","max-width":"448",rounded:"lg"},{default:W(()=>[t[4]||(t[4]=fe("div",{class:"text-subtitle-1 text-medium-emphasis"},"Account",-1)),f(n,{density:"compact",placeholder:"Email address","prepend-inner-icon":"mdi-email-outline",variant:"outlined",disabled:""}),t[5]||(t[5]=fe("div",{class:"text-subtitle-1 text-medium-emphasis d-flex align-center justify-space-between"},[Le(" Password "),fe("a",{class:"text-caption text-decoration-none text-blue",href:"#",rel:"noopener noreferrer",target:"_blank"}," Forgot login password?")],-1)),f(n,{"append-inner-icon":e.visible?"mdi-eye-off":"mdi-eye",type:e.visible?"text":"password",density:"compact",placeholder:"Enter your password","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":t[0]||(t[0]=a=>e.visible=!e.visible),disabled:""},null,8,["append-inner-icon","type"]),f(r,{class:"mb-12",color:"surface-variant",variant:"tonal"},{default:W(()=>[f(i,{class:"text-medium-emphasis text-caption"},{default:W(()=>t[1]||(t[1]=[Le(' Warning: After 3 consecutive failed login attempts, you account will be temporarily locked for three hours. If you must login now, you can also click "Forgot login password?" below to reset the login password. ')])),_:1})]),_:1}),f(s,{class:"mb-8",color:"indigo",size:"large",variant:"elevated",block:"",disabled:""},{default:W(()=>t[2]||(t[2]=[Le(" Log In ")])),_:1}),f(i,{class:"text-center"},{default:W(()=>[fe("a",qX,[t[3]||(t[3]=Le(" Sign up now ")),f(o,{icon:"mdi-chevron-right"})])]),_:1})]),_:1})}const KX=s1(WX,[["render",GX]]);var YX={color:void 0,size:"1em",className:void 0,style:void 0,attr:void 0},QX=Symbol("VueIconContextKey"),_i=function(){return _i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_i.apply(this,arguments)},XX=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function UD(e){return e&&e.map(function(t,n){return ci(t.tag,_i({key:n},t.attr),UD(t.child))})}function rt(e){return function(t){return ci(JX,_i({attr:_i({},e.attr)},t),{default:function(){return UD(e.child)}})}}var JX=He({name:"IconBase",setup:function(e,t){var n=t.slots,i=t.attrs,r=function(o){var a,l=i.attr,u=l===void 0?{}:l,c=i.size,d=i.title,v=XX(i,["attr","size","title"]),m=c||o.size||"1em",g;return o.className&&(g=o.className),e.class&&(g=(g?g+" ":"")+e.class),ci("svg",_i(_i(_i(_i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},_i({},o.attr)),_i({},u)),_i({},v)),{class:g,style:_i({color:e.color||o.color},o.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),[d?ci("title",d):null,(a=n.default)===null||a===void 0?void 0:a.call(n)])},s=Ze(QX,YX);return function(){return ci(r(s))}}});function ZX(e){return rt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"}}]})(e)}function HD(e){return rt({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"}}]})(e)}function IE(e){return rt({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function eJ(e){return rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"}}]})(e)}function jD(e){return rt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M641.5 256c0 3.1-1.7 6.1-4.5 7.5L547.9 317c-1.4.8-2.8 1.4-4.5 1.4-1.4 0-3.1-.3-4.5-1.1-2.8-1.7-4.5-4.5-4.5-7.8v-35.6H295.7c25.3 39.6 40.5 106.9 69.6 106.9H392V354c0-5 3.9-8.9 8.9-8.9H490c5 0 8.9 3.9 8.9 8.9v89.1c0 5-3.9 8.9-8.9 8.9h-89.1c-5 0-8.9-3.9-8.9-8.9v-26.7h-26.7c-75.4 0-81.1-142.5-124.7-142.5H140.3c-8.1 30.6-35.9 53.5-69 53.5C32 327.3 0 295.3 0 256s32-71.3 71.3-71.3c33.1 0 61 22.8 69 53.5 39.1 0 43.9 9.5 74.6-60.4C255 88.7 273 95.7 323.8 95.7c7.5-20.9 27-35.6 50.4-35.6 29.5 0 53.5 23.9 53.5 53.5s-23.9 53.5-53.5 53.5c-23.4 0-42.9-14.8-50.4-35.6H294c-29.1 0-44.3 67.4-69.6 106.9h310.1v-35.6c0-3.3 1.7-6.1 4.5-7.8 2.8-1.7 6.4-1.4 8.9.3l89.1 53.5c2.8 1.1 4.5 4.1 4.5 7.2z"}}]})(e)}function tJ(e){return rt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 336c0 79.5 64.5 144 144 144H512c70.7 0 128-57.3 128-128c0-61.9-44-113.6-102.4-125.4c4.1-10.7 6.4-22.4 6.4-34.6c0-53-43-96-96-96c-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32C167.6 32 96 103.6 96 192c0 2.7 .1 5.4 .2 8.1C40.2 219.8 0 273.2 0 336z"}}]})(e)}function TE(e){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V256c0 17.7 14.3 32 32 32s32-14.3 32-32V32zM143.5 120.6c13.6-11.3 15.4-31.5 4.1-45.1s-31.5-15.4-45.1-4.1C49.7 115.4 16 181.8 16 256c0 132.5 107.5 240 240 240s240-107.5 240-240c0-74.2-33.8-140.6-86.6-184.6c-13.6-11.3-33.8-9.4-45.1 4.1s-9.4 33.8 4.1 45.1c38.9 32.3 63.5 81 63.5 135.4c0 97.2-78.8 176-176 176s-176-78.8-176-176c0-54.4 24.7-103.1 63.5-135.4z"}}]})(e)}const nJ={class:"flex items-center justify-start mr-4"},zD=He({__name:"Title",props:{layoutId:String,active:Boolean},setup(e){return(t,n)=>(G(),Ie("span",nJ,[f(se(tJ),{class:un(["w-8 h-8 mr-2",e.layoutId||e.active?"text-cyan-500":"text-gray-500"])},null,8,["class"]),n[0]||(n[0]=fe("span",{class:"text-2xl text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-indigo-600 hidden sm:inline"},"DEJA Cloud",-1))]))}}),iJ={class:"flex items-center justify-center"},rJ={class:"my-12"},sJ=He({__name:"LoginPage",setup(e){return(t,n)=>{const i=Y("v-sheet");return G(),Ie("main",iJ,[f(i,{class:"p-12 flex flex-col items-center",color:"surface"},{default:W(()=>[fe("div",rJ,[f(zD,{active:""})]),Vo(t.$slots,"default")]),_:3})])}}}),oJ={class:"flex flex-col mx-auto"},aJ={key:0,class:"alert alert-error"},lJ={key:1,class:"flex flex-col space-y-4 items-start"},uJ=new dr,cJ={__name:"ProviderLogin",setup(e){const t=Ab(),n=z(null);function i(){uP(t,uJ).catch(r=>{console.error("Failed signinRedirect",r),n.value=r})}return Qt(()=>{cP(t).catch(r=>{console.error("Failed redirect result",r),n.value=r})}),(r,s)=>{const o=Y("v-btn");return G(),Ie("main",oJ,[n.value?(G(),Ie("div",aJ,ze(n.value.message),1)):(G(),Ie("article",lJ,[f(o,{text:"Sign in with GitHub",onClick:i,variant:"tonal",color:"deep-purple-lighten-2",block:""},{prepend:W(()=>[f(se(IE))]),_:1}),f(o,{text:"Sign in with Facebook",variant:"tonal",color:"deep-purple-lighten-2",disabled:"",block:""},{prepend:W(()=>[f(se(HD))]),_:1}),f(o,{text:"Sign in with Google",variant:"tonal",color:"deep-purple-lighten-2",disabled:"",block:""},{prepend:W(()=>[f(se(IE))]),_:1}),f(o,{text:"Sign in with Apple",variant:"tonal",color:"deep-purple-lighten-2",disabled:"",block:""},{prepend:W(()=>[f(se(ZX))]),_:1}),f(o,{text:"Sign in with Microsoft",variant:"tonal",color:"deep-purple-lighten-2",disabled:"",block:""},{prepend:W(()=>[f(se(eJ))]),_:1})]))])}}},dJ={class:"grid grid-cols-1 gap-4"},fJ=He({__name:"Login",setup(e){return(t,n)=>{const i=Y("v-spacer");return G(),pe(sJ,null,{default:W(()=>[fe("div",dJ,[f(cJ),f(i,{class:"my-8"}),f(KX)])]),_:1})}}});function hJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"}}]})(e)}function vJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.293 1.5a1 1 0 0 1 1.414 0L11 3.793V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v3.293l2.354 2.353a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5Z"}},{tag:"path",attr:{d:"M11.07 9.047a1.5 1.5 0 0 0-1.742.26l-.02.021a1.5 1.5 0 0 0-.261 1.742 1.5 1.5 0 0 0 0 2.86 1.504 1.504 0 0 0-.12 1.07H3.5A1.5 1.5 0 0 1 2 13.5V9.293l6-6 4.724 4.724a1.5 1.5 0 0 0-1.654 1.03Z"}},{tag:"path",attr:{d:"m13.158 9.608-.043-.148c-.181-.613-1.049-.613-1.23 0l-.043.148a.64.64 0 0 1-.921.382l-.136-.074c-.561-.306-1.175.308-.87.869l.075.136a.64.64 0 0 1-.382.92l-.148.045c-.613.18-.613 1.048 0 1.229l.148.043a.64.64 0 0 1 .382.921l-.074.136c-.306.561.308 1.175.869.87l.136-.075a.64.64 0 0 1 .92.382l.045.149c.18.612 1.048.612 1.229 0l.043-.15a.64.64 0 0 1 .921-.38l.136.074c.561.305 1.175-.309.87-.87l-.075-.136a.64.64 0 0 1 .382-.92l.149-.044c.612-.181.612-1.049 0-1.23l-.15-.043a.64.64 0 0 1-.38-.921l.074-.136c.305-.561-.309-1.175-.87-.87l-.136.075a.64.64 0 0 1-.92-.382ZM12.5 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z"}}]})(e)}function mJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"}}]})(e)}function gJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M16 .5a.5.5 0 0 0-.598-.49L10.5.99 5.598.01a.5.5 0 0 0-.196 0l-5 1A.5.5 0 0 0 0 1.5v14a.5.5 0 0 0 .598.49l4.902-.98 4.902.98a.502.502 0 0 0 .196 0l5-1A.5.5 0 0 0 16 14.5V.5zM5 14.09V1.11l.5-.1.5.1v12.98l-.402-.08a.498.498 0 0 0-.196 0L5 14.09zm5 .8V1.91l.402.08a.5.5 0 0 0 .196 0L11 1.91v12.98l-.5.1-.5-.1z"}}]})(e)}function pJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.17 9.53c2.307-2.592 3.278-4.684 3.641-6.218.21-.887.214-1.58.16-2.065a3.578 3.578 0 0 0-.108-.563 2.22 2.22 0 0 0-.078-.23V.453c-.073-.164-.168-.234-.352-.295a2.35 2.35 0 0 0-.16-.045 3.797 3.797 0 0 0-.57-.093c-.49-.044-1.19-.03-2.08.188-1.536.374-3.618 1.343-6.161 3.604l-2.4.238h-.006a2.552 2.552 0 0 0-1.524.734L.15 7.17a.512.512 0 0 0 .433.868l1.896-.271c.28-.04.592.013.955.132.232.076.437.16.655.248l.203.083c.196.816.66 1.58 1.275 2.195.613.614 1.376 1.08 2.191 1.277l.082.202c.089.218.173.424.249.657.118.363.172.676.132.956l-.271 1.9a.512.512 0 0 0 .867.433l2.382-2.386c.41-.41.668-.949.732-1.526l.24-2.408Zm.11-3.699c-.797.8-1.93.961-2.528.362-.598-.6-.436-1.733.361-2.532.798-.799 1.93-.96 2.528-.361.599.599.437 1.732-.36 2.531Z"}},{tag:"path",attr:{d:"M5.205 10.787a7.632 7.632 0 0 0 1.804 1.352c-1.118 1.007-4.929 2.028-5.054 1.903-.126-.127.737-4.189 1.839-5.18.346.69.837 1.35 1.411 1.925Z"}}]})(e)}function yJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 0a2 2 0 0 0-2 2H2c.167.5.8 1.6 2 2v2H2c.167.5.8 1.6 2 2v2H2c.167.5.8 1.6 2 2v1a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-1c1.2-.4 1.833-1.5 2-2h-2V8c1.2-.4 1.833-1.5 2-2h-2V4c1.2-.4 1.833-1.5 2-2h-2a2 2 0 0 0-2-2H6zm3.5 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zM8 13a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"}}]})(e)}function _J(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.736 0a1.5 1.5 0 0 0-.67.158L1.828 1.776A1.5 1.5 0 0 0 1 3.118v5.51l2-.6V5a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.028l2 .6v-5.51a1.5 1.5 0 0 0-.83-1.342L10.936.158A1.5 1.5 0 0 0 10.264 0H5.736ZM15 9.672l-5.503-1.65A.5.5 0 0 0 9.353 8H8.5v8h4a2.5 2.5 0 0 0 2.5-2.5V9.672ZM7.5 16V8h-.853a.5.5 0 0 0-.144.021L1 9.672V13.5A2.5 2.5 0 0 0 3.5 16h4Zm-1-14h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1ZM12 5v2.728l-2.216-.665A1.5 1.5 0 0 0 9.354 7H8.5V5H12ZM7.5 5v2h-.853a1.5 1.5 0 0 0-.431.063L4 7.728V5h3.5Zm-4 5a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1Zm9 0a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1ZM5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm7 1a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"}}]})(e)}function WD(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h1A1.5 1.5 0 0 1 5 2.5h4.134a1 1 0 1 1 0 1h-2.01c.18.18.34.381.484.605.638.992.892 2.354.892 3.895 0 1.993.257 3.092.713 3.7.356.476.895.721 1.787.784A1.5 1.5 0 0 1 12.5 11h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5H6.866a1 1 0 1 1 0-1h1.711a2.839 2.839 0 0 1-.165-.2C7.743 11.407 7.5 10.007 7.5 8c0-1.46-.246-2.597-.733-3.355-.39-.605-.952-1-1.767-1.112A1.5 1.5 0 0 1 3.5 5h-1A1.5 1.5 0 0 1 1 3.5v-1zM2.5 2a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm10 10a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"}}]})(e)}function bJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Zm2 0a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Zm7.5-.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm1.5.5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Zm-7-1a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Zm5.5 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"}},{tag:"path",attr:{d:"M11.5 13a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm0-1a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3ZM5 10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"}},{tag:"path",attr:{d:"M7 10.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Zm-1 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"}},{tag:"path",attr:{d:"M14 0a.5.5 0 0 1 .5.5V2h.5a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h12.5V.5A.5.5 0 0 1 14 0ZM1 3v3h14V3H1Zm14 4H1v7h14V7Z"}}]})(e)}function wJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm.5 4v1.5H10a.5.5 0 0 1 0 1H8.5V10a.5.5 0 0 1-1 0V8.5H6a.5.5 0 0 1 0-1h1.5V6a.5.5 0 0 1 1 0z"}}]})(e)}function kJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 1v3H1V1h5zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H1zm14 12v3h-5v-3h5zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5zM6 8v7H1V8h5zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H1zm14-6v7h-5V1h5zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1h-5z"}}]})(e)}function qD(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"}}]})(e)}function SJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6H.5ZM13 12.5a2.01 2.01 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5Z"}},{tag:"path",attr:{d:"m4.4.8-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 3.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8Zm3 0-.003.004-.014.019a4.167 4.167 0 0 0-.204.31 2.327 2.327 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.31 3.31 0 0 1-.202.388 5.444 5.444 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 6.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8Zm3 0-.003.004-.014.019a4.077 4.077 0 0 0-.204.31 2.337 2.337 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.593.593 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3.198 3.198 0 0 1-.202.388 5.385 5.385 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4.149 4.149 0 0 0 .204-.31 2.06 2.06 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.593.593 0 0 0-.09-.252A4.334 4.334 0 0 0 9.6 2.8l-.01-.012a5.099 5.099 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a5.446 5.446 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8Z"}}]})(e)}function CJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.371 8.277v-.553c0-.827-.422-1.234-.987-1.234-.572 0-.99.407-.99 1.234v.553c0 .83.418 1.237.99 1.237.565 0 .987-.408.987-1.237Zm2.586-.24c.463 0 .735-.272.735-.744s-.272-.741-.735-.741h-.774v1.485h.774Z"}},{tag:"path",attr:{d:"M4.893 0a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146A.5.5 0 0 0 11.107 0H4.893ZM3.16 10.08c-.931 0-1.447-.493-1.494-1.132h.653c.065.346.396.583.891.583.524 0 .83-.246.83-.62 0-.303-.203-.467-.637-.572l-.656-.164c-.61-.147-.978-.51-.978-1.078 0-.706.597-1.184 1.444-1.184.853 0 1.386.475 1.436 1.087h-.645c-.064-.32-.352-.542-.797-.542-.472 0-.77.246-.77.6 0 .261.196.437.553.522l.654.161c.673.164 1.06.487 1.06 1.11 0 .736-.574 1.228-1.544 1.228Zm3.427-3.51V10h-.665V6.57H4.753V6h3.006v.568H6.587Zm4.458 1.16v.544c0 1.131-.636 1.805-1.661 1.805-1.026 0-1.664-.674-1.664-1.805V7.73c0-1.136.638-1.807 1.664-1.807 1.025 0 1.66.674 1.66 1.807ZM11.52 6h1.535c.82 0 1.316.55 1.316 1.292 0 .747-.501 1.289-1.321 1.289h-.865V10h-.665V6.001Z"}}]})(e)}function EJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828l.645-1.937zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.734 1.734 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.734 1.734 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.734 1.734 0 0 0 3.407 2.31l.387-1.162zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L10.863.1z"}}]})(e)}function IJ(e){return rt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5zm-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2zM0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5z"}}]})(e)}function o1(){const e=[{label:"Dashboard",icon:kJ,color:"violet"},{label:"Layout",icon:vJ,color:"cyan"},{label:"DCC-EX",icon:qD,color:"lime"},{label:"Roster",icon:_J,color:"pink"},{label:"Effects",icon:pJ,color:"indigo"},{label:"Turnouts",icon:WD,color:"amber"},{label:"Routes",icon:gJ,color:"purple"},{label:"Signals",icon:yJ,color:"emerald"},{label:"Emulator",icon:SJ,color:"rose"},{label:"Settings",icon:hJ,color:"blue"}];function t(n){return e.find(i=>i.label===n)}return{menu:e,getMenuItem:t}}const TJ={class:"text-2xl"},Mr=He({__name:"ModuleTitle",props:{label:String,icon:String,color:String,menu:"String"},setup(e){const{getMenuItem:t}=o1(),n=e,{label:i,color:r,icon:s}=n.menu?t(n.menu):{label:n.label,color:n.color,icon:n.icon};return(o,a)=>(G(),Ie(le,null,[fe("h2",{class:un(["flex",`text-${se(r)}-500 dark:text-${se(r)}-400`])},[(G(),pe(Ji(se(s)),{class:"w-8 h-8 mr-2 stroke-none"})),fe("span",TJ,ze(se(i)),1)],2),a[0]||(a[0]=fe("hr",{class:"my-4 border-sky-500"},null,-1))],64))}}),xJ="/dcc-ex/android-chrome-192x192.png";function a1(e){const t=z(!1);let n="",i,r,s,o,a,l,u;async function c(T){try{await y(T)}catch(D){console.error("Error handling message:",D)}}async function d(){try{_(),t.value=!1}catch(T){console.error(T)}}async function v(){var T;try{if(!(navigator!=null&&navigator.serial))return;i||(i=await((T=navigator==null?void 0:navigator.serial)==null?void 0:T.requestPort()),console.log("User selected a port to connect to",i,i==null?void 0:i.opened)),await(i==null?void 0:i.open({baudRate:115200})),m(),t.value=!0,console.log("useSerial",t.value)}catch(D){console.error(D)}}async function m(){try{const T=new TextEncoderStream;i!=null&&i.writable&&(r=T.readable.pipeTo(i.writable),s=T.writable,window.serialOutputStream=s);let D=new TextDecoderStream;return o=i==null?void 0:i.readable.pipeTo(D.writable),a=D.readable,l=a.getReader(),g(),k("[CONNECTION] Serial connected"),y("","echo(false);"),!0}catch(T){return console.log("User didn't select a port to connect to",T),!1}}async function g(){for(;;){const D=await(l==null?void 0:l.read());let R="";if(D!=null&&D.value){n=n+D.value;for(var T=!0;T;){let x=-1,w;for(w=0;w<n.length;w++)if(n.charAt(w)==`
`&&w>0){x=w;break}x>=0?(R=n.substring(0,x),x>0?(n=n.substring(x),T=!0):T=!1,k("[R] "+R),p(R)):T=!1}}if(D!=null&&D.done){console.log(A()+" [readLoop] DONE "+(D==null?void 0:D.done.toString())),l==null||l.releaseLock();break}}}function p(T){T=T.replace(/\n/g,""),T=T.replace(/\r/g,""),T=T.replace(/</g,""),T=T.replace(/>/g,""),e(T)}function y(...T){try{u=window.serialOutputStream.getWriter(),u?(T.forEach(D=>{D==""||D=="echo(false);"||k("[S] &lt;"+(D==null?void 0:D.toString())+"&gt;");const R=`${D}
`;u.write(R),console.log(R)}),u.releaseLock()):console.error("No stream to write to",s,i,u)}catch(D){console.error("Error writing to stream:",D)}}async function _(){i?(l&&(await l.cancel(),await(o==null?void 0:o.catch(()=>{})),l=null,o=null,console.log("close reader")),s&&(await s.getWriter().close(),await r,s=null,r=null,console.log("close outputStream")),await i.close(),i=null,console.log("close port"),k("[CONNECTION] Serial disconnected")):k("[CONNECTION] Emulator disconnected")}function k(T){T=T.replace(/\n/g,""),T=T.replace(/\r/g,""),T=T.replace(/\\n/g,""),T=T.replace(/\\r/g,""),T=T.replace(/\\0/g,""),T=T.replace(/<br>/g,`
`),T=T.replace(/</g,"&lt;"),T=T.replace(/>/g,"&gt;"),T=T.replace(/\n/g,"<br>"),T.length>0&&(T=A()+" <b>"+T+"</b>")}function A(){var T=new Date,D=new Date(T.getFullYear(),T.getMonth(),T.getDate(),T.getHours(),T.getMinutes(),T.getSeconds()),R=T.getMilliseconds()-D.getMilliseconds();return T.getHours()+":"+(T.getMinutes()<10?"0"+T.getMinutes():T.getMinutes())+":"+(T.getSeconds()<10?"0"+T.getSeconds():T.getSeconds())+":"+(R<10?"00"+R:R<100?"0"+R:R)}return{connect:v,disconnect:d,send:c,isConnected:t,getIsConnected:()=>t.value,getIsActivelyConnected:()=>i!==null}}var GD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var YD={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(GD,function(){var n=1e3,i=6e4,r=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",v="quarter",m="year",g="date",p="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var $=["th","st","nd","rd"],j=F%100;return"["+F+($[(j-20)%10]||$[j]||$[0])+"]"}},A=function(F,$,j){var K=String(F);return!K||K.length>=$?F:""+Array($+1-K.length).join(j)+F},T={s:A,z:function(F){var $=-F.utcOffset(),j=Math.abs($),K=Math.floor(j/60),U=j%60;return($<=0?"+":"-")+A(K,2,"0")+":"+A(U,2,"0")},m:function F($,j){if($.date()<j.date())return-F(j,$);var K=12*(j.year()-$.year())+(j.month()-$.month()),U=$.clone().add(K,d),B=j-U<0,H=$.clone().add(K+(B?-1:1),d);return+(-(K+(j-U)/(B?U-H:H-U))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:m,w:c,d:u,D:g,h:l,m:a,s:o,ms:s,Q:v}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},D="en",R={};R[D]=k;var x="$isDayjsObject",w=function(F){return F instanceof I||!(!F||!F[x])},b=function F($,j,K){var U;if(!$)return D;if(typeof $=="string"){var B=$.toLowerCase();R[B]&&(U=B),j&&(R[B]=j,U=B);var H=$.split("-");if(!U&&H.length>1)return F(H[0])}else{var q=$.name;R[q]=$,U=q}return!K&&U&&(D=U),U||!K&&D},C=function(F,$){if(w(F))return F.clone();var j=typeof $=="object"?$:{};return j.date=F,j.args=arguments,new I(j)},E=T;E.l=b,E.i=w,E.w=function(F,$){return C(F,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var I=function(){function F(j){this.$L=b(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[x]=!0}var $=F.prototype;return $.parse=function(j){this.$d=function(K){var U=K.date,B=K.utc;if(U===null)return new Date(NaN);if(E.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var H=U.match(y);if(H){var q=H[2]-1||0,J=(H[7]||"0").substring(0,3);return B?new Date(Date.UTC(H[1],q,H[3]||1,H[4]||0,H[5]||0,H[6]||0,J)):new Date(H[1],q,H[3]||1,H[4]||0,H[5]||0,H[6]||0,J)}}return new Date(U)}(j),this.init()},$.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},$.$utils=function(){return E},$.isValid=function(){return this.$d.toString()!==p},$.isSame=function(j,K){var U=C(j);return this.startOf(K)<=U&&U<=this.endOf(K)},$.isAfter=function(j,K){return C(j)<this.startOf(K)},$.isBefore=function(j,K){return this.endOf(K)<C(j)},$.$g=function(j,K,U){return E.u(j)?this[K]:this.set(U,j)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(j,K){var U=this,B=!!E.u(K)||K,H=E.p(j),q=function(Oe,Re){var me=E.w(U.$u?Date.UTC(U.$y,Re,Oe):new Date(U.$y,Re,Oe),U);return B?me:me.endOf(u)},J=function(Oe,Re){return E.w(U.toDate()[Oe].apply(U.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Re)),U)},he=this.$W,_e=this.$M,Ce=this.$D,ie="set"+(this.$u?"UTC":"");switch(H){case m:return B?q(1,0):q(31,11);case d:return B?q(1,_e):q(0,_e+1);case c:var be=this.$locale().weekStart||0,xe=(he<be?he+7:he)-be;return q(B?Ce-xe:Ce+(6-xe),_e);case u:case g:return J(ie+"Hours",0);case l:return J(ie+"Minutes",1);case a:return J(ie+"Seconds",2);case o:return J(ie+"Milliseconds",3);default:return this.clone()}},$.endOf=function(j){return this.startOf(j,!1)},$.$set=function(j,K){var U,B=E.p(j),H="set"+(this.$u?"UTC":""),q=(U={},U[u]=H+"Date",U[g]=H+"Date",U[d]=H+"Month",U[m]=H+"FullYear",U[l]=H+"Hours",U[a]=H+"Minutes",U[o]=H+"Seconds",U[s]=H+"Milliseconds",U)[B],J=B===u?this.$D+(K-this.$W):K;if(B===d||B===m){var he=this.clone().set(g,1);he.$d[q](J),he.init(),this.$d=he.set(g,Math.min(this.$D,he.daysInMonth())).$d}else q&&this.$d[q](J);return this.init(),this},$.set=function(j,K){return this.clone().$set(j,K)},$.get=function(j){return this[E.p(j)]()},$.add=function(j,K){var U,B=this;j=Number(j);var H=E.p(K),q=function(_e){var Ce=C(B);return E.w(Ce.date(Ce.date()+Math.round(_e*j)),B)};if(H===d)return this.set(d,this.$M+j);if(H===m)return this.set(m,this.$y+j);if(H===u)return q(1);if(H===c)return q(7);var J=(U={},U[a]=i,U[l]=r,U[o]=n,U)[H]||1,he=this.$d.getTime()+j*J;return E.w(he,this)},$.subtract=function(j,K){return this.add(-1*j,K)},$.format=function(j){var K=this,U=this.$locale();if(!this.isValid())return U.invalidDate||p;var B=j||"YYYY-MM-DDTHH:mm:ssZ",H=E.z(this),q=this.$H,J=this.$m,he=this.$M,_e=U.weekdays,Ce=U.months,ie=U.meridiem,be=function(Re,me,Be,L){return Re&&(Re[me]||Re(K,B))||Be[me].slice(0,L)},xe=function(Re){return E.s(q%12||12,Re,"0")},Oe=ie||function(Re,me,Be){var L=Re<12?"AM":"PM";return Be?L.toLowerCase():L};return B.replace(_,function(Re,me){return me||function(Be){switch(Be){case"YY":return String(K.$y).slice(-2);case"YYYY":return E.s(K.$y,4,"0");case"M":return he+1;case"MM":return E.s(he+1,2,"0");case"MMM":return be(U.monthsShort,he,Ce,3);case"MMMM":return be(Ce,he);case"D":return K.$D;case"DD":return E.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return be(U.weekdaysMin,K.$W,_e,2);case"ddd":return be(U.weekdaysShort,K.$W,_e,3);case"dddd":return _e[K.$W];case"H":return String(q);case"HH":return E.s(q,2,"0");case"h":return xe(1);case"hh":return xe(2);case"a":return Oe(q,J,!0);case"A":return Oe(q,J,!1);case"m":return String(J);case"mm":return E.s(J,2,"0");case"s":return String(K.$s);case"ss":return E.s(K.$s,2,"0");case"SSS":return E.s(K.$ms,3,"0");case"Z":return H}return null}(Re)||H.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(j,K,U){var B,H=this,q=E.p(K),J=C(j),he=(J.utcOffset()-this.utcOffset())*i,_e=this-J,Ce=function(){return E.m(H,J)};switch(q){case m:B=Ce()/12;break;case d:B=Ce();break;case v:B=Ce()/3;break;case c:B=(_e-he)/6048e5;break;case u:B=(_e-he)/864e5;break;case l:B=_e/r;break;case a:B=_e/i;break;case o:B=_e/n;break;default:B=_e}return U?B:E.a(B)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return R[this.$L]},$.locale=function(j,K){if(!j)return this.$L;var U=this.clone(),B=b(j,K,!0);return B&&(U.$L=B),U},$.clone=function(){return E.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},F}(),P=I.prototype;return C.prototype=P,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",m],["$D",g]].forEach(function(F){P[F[1]]=function($){return this.$g($,F[0],F[1])}}),C.extend=function(F,$){return F.$i||(F($,I,C),F.$i=!0),C},C.locale=b,C.isDayjs=w,C.unix=function(F){return C(1e3*F)},C.en=R[D],C.Ls=R,C.p={},C})})(YD);var AJ=YD.exports;const Oy=KD(AJ);var QD={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(GD,function(){return function(n,i,r){n=n||{};var s=i.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,d,v){return s.fromToBase(u,c,d,v)}r.en.relativeTime=o,s.fromToBase=function(u,c,d,v,m){for(var g,p,y,_=d.$locale().relativeTime||o,k=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],A=k.length,T=0;T<A;T+=1){var D=k[T];D.d&&(g=v?r(u).diff(d,D.d,!0):d.diff(u,D.d,!0));var R=(n.rounding||Math.round)(Math.abs(g));if(y=g>0,R<=D.r||!D.r){R<=1&&T>0&&(D=k[T-1]);var x=_[D.l];m&&(R=m(""+R)),p=typeof x=="string"?x.replace("%d",R):x(R,c,D.l,y);break}}if(c)return p;var w=y?_.future:_.past;return typeof w=="function"?w(p):w.replace("%s",p)},s.to=function(u,c){return a(u,c,this,!0)},s.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?r.utc():r()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})})(QD);var PJ=QD.exports;const XD=KD(PJ),VJ={key:0,class:"flex-grow relative max-w-64"},RJ={class:"bg-black text-green-300 p-2 rounded-md text-xs bg-opacity-40 border border-slate-500 pr-16"},DJ=He({__name:"CommandStationLCD",props:{dccEx:Object},setup(e){return(t,n)=>e.dccEx?(G(),Ie("div",VJ,[f(se(jD),{class:"w-12 h-12 text-green-500 absolute right-2 top-2"}),fe("pre",RJ,[Le(""+ze(e.dccEx.LCD2)+`
`+ze(e.dccEx.LCD3)+`
> `,1),n[0]||(n[0]=fe("span",{class:"blink"},"_",-1)),n[1]||(n[1]=Le(`
    `))])])):at("",!0)}}),OJ={key:0,class:"flex-grow flex flex-col max-w-64"},LJ={class:"flex py-1 min-w-48 justify-between bg-purple-500 border-purple-500 border my-1 items-center py-1 px-2 rounded-full bg-opacity-20"},MJ={class:"flex py-1 min-w-48 justify-between bg-purple-500 border-purple-500 border my-1 items-center py-1 px-2 rounded-full bg-opacity-20"},NJ=He({__name:"CommandStationTracks",props:{dccEx:Object},setup(e){return(t,n)=>{const i=Y("VaAvatar");return e.dccEx?(G(),Ie("div",OJ,[fe("div",LJ,[f(i,{class:"bg-red-500",size:"small"},{default:W(()=>n[0]||(n[0]=[Le("A")])),_:1}),fe("h3",null,ze(e.dccEx.trackA),1),f(i,{class:"bg-transparent text-red-500",size:"small"},{default:W(()=>[f(se(TE))]),_:1})]),fe("div",MJ,[f(i,{class:"bg-red-500",size:"small"},{default:W(()=>n[1]||(n[1]=[Le("A")])),_:1}),fe("h3",null,ze(e.dccEx.trackB),1),f(i,{class:"bg-transparent text-red-500",size:"small"},{default:W(()=>[f(se(TE))]),_:1})])])):at("",!0)}}}),FJ={key:0},BJ={class:"py-2 text-xs text-cyan-200"},$J={class:"py-2 text-xs text-cyan-200"},UJ=He({__name:"CommandStationStats",props:{dccEx:Object},setup(e){return Oy.extend(XD),(t,n)=>e.dccEx?(G(),Ie("div",FJ,[fe("p",BJ,"Updated: "+ze(se(Oy).unix(e.dccEx.timestamp.seconds).fromNow()),1),fe("p",$J,ze(e.dccEx.version),1)])):at("",!0)}}),HJ={key:0,class:"p-4 flex flex-wrap gap-2 items-center relative"},jJ=He({__name:"CommandStation",setup(e){const t=Dn("@DEJA/cloud/layoutId",null),n=t.value?yn(Ct,"layouts",t.value):null,i=xb(n),{disconnect:r}=a1(()=>{});async function s(){await r()}return(o,a)=>(G(),Ie("main",null,[se(i)?(G(),Ie("article",HJ,[f(DJ,{dccEx:se(i).dccEx},null,8,["dccEx"]),f(NJ,{dccEx:se(i).dccEx},null,8,["dccEx"]),f(UJ,{dccEx:se(i).dccEx},null,8,["dccEx"])])):at("",!0),fe("div",{class:"px-4 py-2"},[fe("button",{onClick:s,class:"border bg-transparent border-cyan-800 py-1 px-2 text-cyan-400 p-4 rounded-md hover:bg-cyan-900 hover:bg-opacity-20 flex items-center"}," Disconnect ")])]))}}),zJ=s1(jJ,[["__scopeId","data-v-14a1b923"]]),WJ={class:"flex flex-col relative z-10 w-full"},qJ={key:1},GJ=He({__name:"CommandStationConnect",emits:["connected"],setup(e,{emit:t}){const n=Dn("@DEJA/cloud/layoutId",null),i=t;Oy.extend(XD);const{connect:r,isConnected:s}=a1(a=>{let l,u=a;a!=null&&a.startsWith("= A")?(l="trackA",u=a.replace(/= A /,"")):a!=null&&a.startsWith("= B")?(l="trackB",u=a.replace(/= B /,"")):a!=null&&a.startsWith("* LCD2:")?(l="LCD2",u=a.replace(/\* LCD2:/,"")):a!=null&&a.startsWith("* LCD3:")?(l="LCD3",u=a.replace(/\* LCD3:/,"")):a!=null&&a.startsWith("* LCD4:")?(l="LCD4",u=a.replace(/\* LCD4:/,"")):a!=null&&a.startsWith("iDCC-EX ")&&(l="version"),l&&console.log("delta",l,u),l&&n.value&&AK(yn(Ct,"layouts",n.value),{[`dccEx.${l}`]:u,"dccEx.timestamp":br()},{merge:!0})});async function o(){console.log("handleConnect",n.value),await r(),i("connected")}return(a,l)=>(G(),Ie("main",WJ,[se(s)?(G(),pe(zJ,{key:0})):(G(),Ie("main",qJ,[fe("button",{onClick:o,class:"w-auto text-xl m-4 p-4 bg-clip-text text-transparent bg-gradient-to-r from-sky-400 to-indigo-300 border border-cyan-800 text-cyan-400 rounded-2xl hover:bg-cyan-900 hover:bg-opacity-20 flex items-center"},[fe("img",{src:xJ,alt:"DCC-EX Logo",class:un(["w-8 h-8 mr-2",se(s)?"text-green-500":"text-gray-500"])},null,2),l[0]||(l[0]=Le(" Connect DCC-EX Command Station ")),f(se(jD),{class:"ml-2 text-sky-500"})])]))]))}}),KJ={};function YJ(e,t){return t[0]||(t[0]=hv('<div class="circle" data-v-93518e03></div><svg class="circle-svg" data-v-93518e03><filter id="wavy" data-v-93518e03><feTurbulence x="0" y="0" baseFrequency="0.009" numOctaves="5" speed="2" data-v-93518e03><animate attributeName="baseFrequency" dur="60s" values="0.02; 0.005; 0.02" repeatCount="indefinite" data-v-93518e03></animate></feTurbulence><feDisplacementMap in="SourceGraphic" scale="30" data-v-93518e03></feDisplacementMap></filter></svg>',2))}const QJ=s1(KJ,[["render",YJ],["__scopeId","data-v-93518e03"]]);function XJ(){const e=a1(()=>{}),t=()=>{console.log("notify",arguments)};let n=0,i=0,r=null;const s=z(null);function o(_){n++,n>0&&_.docChanges().forEach(k=>{k.type==="added"&&(console.log("New: ",k.doc.data()),u(k.doc.data()))})}function a(_){_.docChanges().forEach(async k=>{var D;console.log("Throttle change",k.type,k.doc.data(),s.value);const A={address:parseInt(k.doc.data().address),speed:k.doc.data().direction?k.doc.data().speed:-k.doc.data().speed},T=s!=null&&s.value?((D=se(s.value).find(R=>R.locoId==A.address))==null?void 0:D.consist)||[]:[];console.log("Consist",T,A,se(s.value).find(R=>R.locoId==A.address),s.value),T.length>0&&T.forEach(async R=>{let x;R.direction?x=A.speed+R.trim:x=A.speed-R.trim;const w={address:R.address,speed:x};await v(w)}),await v(A)})}const l=async _=>{try{const k=`<${_}>
`;console.log("Writing to ports",_),e.send(k)}catch(k){console.error("Error writting to port:",k)}};async function u({action:_,payload:k}){try{const A=JSON.parse(k);switch(_){case"power":await d(A);break;case"function":await m(A);break;case"getStatus":case"status":await c();break;default:console.warn("Unknown action in `handleMessage`",_,k)}}catch(A){console.error("Error handling message:",A)}}const c=async()=>{await l("s"),t()},d=async _=>{console.log("Powering",_,_.toString().startsWith("1")),await l(_),t(_.toString().startsWith("1")?{message:"ON",color:"success",position:"bottom-right"}:{message:"OFF",color:"danger",position:"bottom-right"})},v=async({address:_,speed:k})=>{console.log("sendSpeed",_,k);const A=k>0?1:0,T=Math.abs(k),D=`t ${_} ${T} ${A}`;await l(D),t()},m=async({address:_,func:k,state:A})=>{console.log("sendFunction",_,k);const T=`F ${_} ${k} ${A?1:0}`;await l(T),t()};async function g(_){console.log("Listen for dccCommands",_,r,n,i),!(_&&r===_)&&(await y(_),Vc(of(wi(Ct,`layouts/${_}/dccCommands`),af("timestamp","desc"),xg(10)),o),Vc(of(wi(Ct,`layouts/${_}/throttles`),af("timestamp","desc"),xg(10)),a),s.value=Il(wi(Ct,`layouts/${_}/locos`)),r=_,i++,console.log("Listening for dccCommands",_,r,n,i))}async function p(_,k=10){console.log("Clearing dccCommands",_),(await _y(of(wi(Ct,`layouts/${_}/dccCommands`),af("timestamp","asc"),xg(k)))).forEach(T=>{by(T.ref)})}async function y(_){console.log("wipe dccCommands",_),(await _y(of(wi(Ct,`layouts/${_}/dccCommands`),af("timestamp","asc")))).forEach(A=>{by(A.ref)})}return{listen:g,clear:p}}const JJ={class:"flex flex-col justify-start items-start flex-wrap"},JD=He({__name:"DejaConnect",setup(e){const t=z(!1),n=z(!1),{listen:i}=XJ(),r=Dn("@DEJA/cloud/layoutId",null);jl(),Qt(async()=>{console.log("onMounted",window.serialOutputStream),t.value=!!window.serialOutputStream}),Kt(()=>{console.log(`watch layoutId ${r.value} ${n.value}`),r.value&&n.value&&i(r.value)});function s(){console.log("handleConnected"),n.value=!0}return(o,a)=>(G(),Ie("main",JJ,[se(r)?(G(),pe(GJ,{key:0,onConnected:s})):at("",!0),n.value?(G(),pe(QJ,{key:1})):at("",!0)]))}}),ZJ={class:"flex flex-col h-screen max-w-screen-md mx-auto forest-background"},eZ={key:0,class:"alert alert-error"},tZ={key:1,class:"flex flex-col space-y-4 items-start"},nZ=new dr,iZ={__name:"DejaLogin",setup(e){const t=Ab(),n=z(null);function i(){uP(t,nZ).catch(r=>{console.error("Failed signinRedirect",r),n.value=r})}return Qt(()=>{cP(t).catch(r=>{console.error("Failed redirect result",r),n.value=r})}),(r,s)=>(G(),Ie("main",ZJ,[n.value?(G(),Ie("div",eZ,ze(n.value.message),1)):(G(),Ie("article",tZ,[fe("button",{class:"border bg-transparent border-cyan-800 text-cyan-400 py-1 px-2 font-normal text-sm rounded-md hover:bg-cyan-900 hover:bg-opacity-20 flex items-center",onClick:i,block:"true"},[f(se(HD),{class:"mr-2"}),s[0]||(s[0]=Le(" Sign in with GitHub "))])]))]))}},rZ=["disabled"],ZD={__name:"SignOut",setup(e){const t=Ab(),n=jl();function i(){X$(t).catch(r=>{console.error("Failed signOut",r),error.value=r})}return(r,s)=>(G(),Ie("button",{class:"block py-2 px-4 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",onClick:i,disabled:!se(n)},"Sign out ",8,rZ))}},sZ=He({__name:"Dashboard",setup(e){const t=jl();return(n,i)=>{const r=Y("v-container");return G(),Ie(le,null,[f(Mr,{menu:"Dashboard"}),se(t)?(G(),Ie(le,{key:0},[f(JD),f(ZD)],64)):(G(),pe(r,{key:1},{default:W(()=>[f(iZ)]),_:1}))],64)}}}),Xl=()=>{const e=Dn("@DEJA/cloud/layoutId","betatrack"),t=[{id:"p",type:"toggle",label:"Power",icon:"mdi-power",command:["0","1"]},{id:"pmain",type:"toggle",label:"Power MAIN",icon:"mdi-power",command:["0 MAIN","1 MAIN"]},{id:"r",type:"dcc",label:"Reset",icon:"mdi-refresh",command:"D RESET"},{id:"s",type:"dcc",label:"Status",icon:"mdi-information",command:"="},{id:"e",type:"dcc",label:"Save <E>",icon:"mdi-memory-arrow-down",command:"E"},{id:"z",type:"dcc",label:"List Outputs",icon:"mdi-creation",command:"Z"},{id:"dcc",type:"text",label:"DCC Command",icon:"mdi-code-tags",command:""}];async function n({action:i,payload:r}){try{const s={action:i,payload:JSON.stringify(r),timestamp:br()};await Ib(wi(Ct,`layouts/${e.value}/dccCommands`),s)}catch(s){console.error("Error adding document: ",s)}}return{sendDccCommand:n,defaultCommands:t}},oZ=He({__name:"DCCCommand",props:{cmd:Object},setup(e){const t=e,n=z(!1),i=z(t.cmd.command),{sendDccCommand:r}=Xl();async function s(){switch(console.log("sendDccCommand",t.cmd),t.cmd.type){case"toggle":o();break;default:console.log("cmd",t.cmd);break}console.log("sendDccCommand",i.value),i.value&&r({action:"dcc",payload:i.value}),i.value=""}async function o(){var a,l;n.value=!n.value,i.value=n.value?(a=t.cmd)==null?void 0:a.command[1]:(l=t.cmd)==null?void 0:l.command[0],console.log("toggle",t.cmd,n.value,i.value)}return(a,l)=>{var v,m,g,p,y;const u=Y("v-switch"),c=Y("v-text-field"),d=Y("v-btn");return((v=e.cmd)==null?void 0:v.type)==="toggle"?(G(),pe(u,{key:0,"prepend-icon":(m=e.cmd)==null?void 0:m.icon,onClick:s,label:e.cmd.label,color:"primary"},null,8,["prepend-icon","label"])):((g=e.cmd)==null?void 0:g.type)==="text"?(G(),pe(c,{key:1,modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=_=>i.value=_),"prepend-inner-icon":(p=e.cmd)==null?void 0:p.icon,label:"DCC Command",variant:"solo",class:"ma-2 max-w-96","append-inner-icon":"mdi-send",density:"compact","hide-details":"","single-line":"","onClick:appendInner":s,onKeyup:GO(s,["enter"])},null,8,["modelValue","prepend-inner-icon"])):(G(),pe(d,{key:2,"prepend-icon":(y=e.cmd)==null?void 0:y.icon,onClick:s},{default:W(()=>{var _;return[Le(ze(((_=e.cmd)==null?void 0:_.label)||"Go"),1)]}),_:1},8,["prepend-icon"]))}}}),aZ={key:0,class:"flex items-center"},lZ=He({__name:"DCCLogItem",props:{entry:Object},setup(e){const n=z(e.entry);return(i,r)=>{var a,l,u,c;const s=Y("v-avatar"),o=Y("v-chip");return n.value?(G(),Ie("div",aZ,[f(s,{color:(a=n.value)==null?void 0:a.color,icon:(l=n.value)==null?void 0:l.icon},null,8,["color","icon"]),f(o,{class:"m-4",color:(u=n.value)==null?void 0:u.color},{default:W(()=>{var d;return[Le(ze((d=n.value)==null?void 0:d.action),1)]}),_:1},8,["color"]),fe("div",null,ze((c=n.value)==null?void 0:c.payload),1)])):at("",!0)}}}),uZ={class:"bg-zinc-950 border border-zinc-600 p-2 block my-4 rounded"},cZ={class:"ml-2"},dZ={key:0,class:"bg-zinc-950 text-green-500 p-4 rounded overflow-auto text-xs max-h-72"},tr=He({__name:"ViewJson",props:{json:Object,label:String},setup(e){const t=z(!1);return(n,i)=>{const r=Y("v-btn");return G(),Ie("div",uZ,[f(r,{onClick:i[0]||(i[0]=s=>t.value=!t.value),icon:"mdi-eye-outline",modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=s=>t.value=s)},null,8,["modelValue"]),fe("span",cZ,ze(e.label||"View JSON"),1),t.value?(G(),Ie("pre",dZ,ze(e.json),1)):at("",!0)])}}}),fZ={class:"flex flex-col-reverse"},e4=He({__name:"DCCLog",setup(e){const t=Dn("@DEJA/pref/ws-logging",!1),n=Dn("@DEJA/pref/ws-host","192.168.86.249:8082"),{log:i}=$D();return(r,s)=>{const o=Y("v-switch"),a=Y("v-text-field"),l=Y("v-card-text"),u=Y("v-card");return G(),Ie(le,null,[f(u,{title:"DCC Log",color:"lime",variant:"tonal"},{default:W(()=>[f(l,null,{default:W(()=>[f(o,{modelValue:se(t),"onUpdate:modelValue":s[0]||(s[0]=c=>Vt(t)?t.value=c:null),label:"Enabled",color:"lime"},null,8,["modelValue"]),f(a,{modelValue:se(n),"onUpdate:modelValue":s[1]||(s[1]=c=>Vt(n)?n.value=c:null),color:"lime"},null,8,["modelValue"])]),_:1})]),_:1}),fe("ul",fZ,[(G(!0),Ie(le,null,At(se(i),c=>(G(),Ie("li",{key:c.id,class:"border-b"},[f(lZ,{entry:c},null,8,["entry"])]))),128))]),f(tr,{data:se(i),label:"DCC Log"},null,8,["data"])],64)}}}),hZ=He({__name:"DCCEX",setup(e){const{defaultCommands:t}=Xl();return(n,i)=>(G(),Ie(le,null,[f(Mr,{menu:"DCC-EX"}),f(JD),(G(!0),Ie(le,null,At(se(t),r=>(G(),pe(oZ,{cmd:r,class:"ma-2"},null,8,["cmd"]))),256)),f(e4)],64))}}),Em=()=>{const e=Dn("@DEJA/cloud/layoutId","betatrack");async function t({action:n,payload:i}){try{const r={action:n,payload:i,timestamp:br()},s=await Ib(wi(Ct,`layouts/${e.value}/dejaCommands`),r);console.log("Document written with ID: ",s,r)}catch(r){console.error("Error adding document: ",r)}}return{sendDejaCommand:t}},Nr=()=>{const e=[{value:"dcc-ex",label:"DCC-EX CommandStation",icon:"mdi-memory",image:"/dcc-ex/android-chrome-192x192.png",color:"pink"},{value:"deja-arduino",label:"DJEA Adrduino (MEGA)",icon:"mdi-usb",color:"lime"}],t=jl(),{sendDccCommand:n}=Xl(),{sendDejaCommand:i}=Em(),r=Dn("@DEJA/cloud/layoutId","betatrack"),s=V(()=>r.value?yn(Ct,"layouts",r.value):null),o=V(()=>r.value?wi(Ct,"layouts"):null),a=V(()=>r.value?wi(Ct,`layouts/${r.value}/devices`):null);function l(){return xb(s)}function u(){return Il(o)}function c(){return Il(a)}async function d(y){const _=yn(Ct,`layouts/${r.value}/devices`,y),k=await gd(_);if(k.exists())return{...k.data(),id:k.id};console.error("No such document!")}async function v(y,_){var k;console.log("createLayout",_);try{return await zs(yn(Ct,"layouts",y),{..._,owner:(k=t.value)==null?void 0:k.email,dcc:{client:"dejaJs"},created:br(),timestamp:br()}),!0}catch(A){console.error("Error adding throttle: ",A)}}async function m(y,_){console.log("createDevice",_);try{return await zs(yn(Ct,`layouts/${r.value}/devices`,y),{..._,timestamp:br()}),!0}catch(k){console.error("Error adding throttle: ",k)}}async function g(y,_){console.log("connectDevice",y,_);try{const k={serial:y,device:(_==null?void 0:_.id)||"unknown"};(_==null?void 0:_.type)==="dcc-ex"?n({action:"connect",payload:k}):(_==null?void 0:_.type)==="deja-arduino"&&i({action:"connect",payload:k}),console.log("Document written with ID: ",y,_)}catch(k){console.error("Error adding document: ",k)}}async function p(y,_){console.log("enableAutoConnect",y,_);try{const k=yn(Ct,`layouts/${r.value}/devices`,y);await zs(k,{autoConnect:!!_},{merge:!0})}catch(k){console.error("Error updating consist: ",k)}}return{getLayout:l,getLayouts:u,createLayout:v,getDevice:d,getDevices:c,createDevice:m,autoConnectDevice:p,deviceTypes:e,connectDevice:g}},vZ=He({__name:"PortList",props:{ports:Array},setup(e){const{sendDccCommand:t}=Xl();function n(){t({action:"listPorts",payload:{}})}return(i,r)=>{const s=Y("v-list-item"),o=Y("v-list"),a=Y("v-card-text"),l=Y("v-btn"),u=Y("v-card-actions"),c=Y("v-card");return G(),pe(c,{class:"mx-auto w-full h-full justify-between flex flex-col border-t-4 border-b-4","prepend-icon":"mdi-usb",title:"Ports",color:"purple",variant:"tonal",density:"compact"},{default:W(()=>[f(a,null,{default:W(()=>[f(o,{lines:"one"},{default:W(()=>[(G(!0),Ie(le,null,At(e.ports,d=>(G(),pe(s,{key:d,title:d},null,8,["title"]))),128))]),_:1})]),_:1}),f(u,null,{default:W(()=>[f(l,{onClick:n,variant:"elevated",color:"green"},{default:W(()=>r[0]||(r[0]=[Le("Refresh")])),_:1})]),_:1})]),_:1})}}});function Jl(){const e="slate",t=[{value:"slate",label:"slate",color:"slate",text:"text-slate-500 dard:text-slate-400",border:"border-slate-500 dark:border-slate-400",bg:"bg-slate-500 dark:bg-slate-400"},{value:"zinc",label:"zinc",color:"zinc",text:"text-zinc-500 dark:text-zinc-400",border:"border-zinc-500 dark:border-zinc-400",bg:"bg-zinc-500 dark:bg-zinc-400"},{value:"stone",label:"stone",color:"stone",text:"text-stone-500 dark:text-stone-400",border:"border-stone-500 dark:border-stone-400",bg:"bg-stone-500 dark:bg-stone-400"},{value:"red",label:"red",color:"red",text:"text-red-500 dark:text-red-400",border:"border-red-500 dark:border-red-400",bg:"bg-red-500 dark:bg-red-400"},{value:"orange",label:"orange",color:"orange",text:"text-orange-500 dark:text-orange-400",border:"border-orange-500 dark:border-orange-400",bg:"bg-orange-500 dark:bg-orange-400"},{value:"amber",label:"amber",color:"amber",text:"text-amber-500 dark:text-amber-400",border:"border-amber-500 dark:border-amber-400",bg:"bg-amber-500 dark:bg-amber-400"},{value:"yellow",label:"yellow",color:"yellow",text:"text-yellow-500 dark:text-yellow-400",border:"border-yellow-500 dark:border-yellow-400",bg:"bg-yellow-500 dark:bg-yellow-400"},{value:"lime",label:"Lime",color:"lime",text:"text-lime-500 dark:text-lime-400",border:"border-lime-500 dark:border-lime-400",bg:"bg-lime-500 dark:bg-lime-400"},{value:"green",label:"green",color:"green",text:"text-green-500 dark:text-green-400",border:"border-green-500 dark:border-green-400",bg:"bg-green-500 dark:bg-green-400"},{value:"emerald",label:"emerald",color:"emerald",text:"text-emerald-500 dark:text-emerald-400",border:"border-emerald-500 dark:border-emerald-400",bg:"bg-emerald-500 dark:bg-emerald-400"},{value:"teal",label:"teal",color:"teal",text:"text-teal-500 dark:text-teal-400",border:"border-teal-500 dark:border-teal-400",bg:"bg-teal-500 dark:bg-teal-400"},{value:"cyan",label:"cyan",color:"cyan",text:"text-cyan-500 dark:text-cyan-400",border:"border-cyan-500 dark:border-cyan-400",bg:"bg-cyan-500 dark:bg-cyan-400"},{value:"sky",label:"sky",color:"sky",text:"text-sky-500 dark:text-sky-400",border:"border-sky-500 dark:border-sky-400",bg:"bg-sky-500 dark:bg-sky-400"},{value:"blue",label:"blue",color:"blue",text:"text-blue-500 dark:text-blue-400",border:"border-blue-500 dark:border-blue-400",bg:"bg-blue-500 dark:bg-blue-400"},{value:"indigo",label:"indigo",color:"indigo",text:"text-indigo-500 dark:text-indigo-400",border:"border-indigo-500 dark:border-indigo-400",bg:"bg-indigo-500 dark:bg-indigo-400"},{value:"violet",label:"violet",color:"violet",text:"text-violet-500 dark:text-violet-400",border:"border-violet-500 dark:border-violet-400",bg:"bg-violet-500 dark:bg-violet-400"},{value:"purple",label:"purple",color:"purple",text:"text-purple-500 dark:text-purple-400",border:"border-purple-500 dark:border-purple-400",bg:"bg-purple-500 dark:bg-purple-400"},{value:"fuchsia",label:"fuchsia",color:"fuchsia",text:"text-fuchsia-500 dark:text-fuchsia-400",border:"border-fiushia-500 dark:border-fuchsia-400",bg:"bg-fuchsia-500 dark:bg-fuchsia-400"},{value:"pink",label:"pink",color:"pink",text:"text-pink-500 dark:text-pink-400",border:"border-pink-500 dark:border-pink-400",bg:"bg-pink-500 dark:bg-pink-400"},{value:"rose",label:"rose",color:"rose",text:"text-rose-500 dark:text-rose-400",border:"border-rose-500 dark:border-rose-400",bg:"bg-rose-500 dark:bg-rose-400"}],n=t.reduce((r,s)=>(r[s.value]=s,r),{});function i(r){return n[r]||n[e]}return{colorList:t,colors:n,DEFAULT_COLOR:e,getColor:i}}const mZ=["src"],gZ={class:"text-md"},pZ={key:0,class:"ml-2 relative flex h-3 w-3"},yZ=He({__name:"DeviceListItem",props:{device:Object,ports:Array},setup(e){var m,g;Em();const{deviceTypes:t,connectDevice:n,autoConnectDevice:i}=Nr(),{colors:r,DEFAULT_COLOR:s}=Jl(),o=e,a=z(((m=o==null?void 0:o.device)==null?void 0:m.port)||""),l=z(((g=o==null?void 0:o.device)==null?void 0:g.autoConnect)||!1),u=z(r[s]),c=V(()=>t.find(p=>{var y;return p.value===((y=o==null?void 0:o.device)==null?void 0:y.type)}));Qt(()=>{var p,y;console.log("DeviceListItem",o.device,(p=c.value)==null?void 0:p.color,c),(y=c.value)!=null&&y.color&&(u.value=r[c.value.color])}),ye(()=>{var p;return(p=c.value)==null?void 0:p.color},p=>{console.log("deviceType.color",p),u.value=r[p]});async function d(p){console.log("handleConnect",o.device,a.value),n(a.value,o.device)}async function v(p){var y,_;console.log("handelAutoConnect",o.device,p),(y=o.device)!=null&&y.id&&await i((_=o.device)==null?void 0:_.id,p)}return(p,y)=>{var C,E;const _=Y("v-icon"),k=Y("v-chip"),A=Y("v-spacer"),T=Y("v-combobox"),D=Y("v-card-text"),R=Y("v-btn"),x=Y("v-switch"),w=Y("v-card-actions"),b=Y("v-card");return G(),pe(b,{class:un(["mx-auto w-full h-full justify-between flex flex-col border-t-4 border-b-4",u.value.border]),subtitle:((C=e.device)==null?void 0:C.type)||"ID",color:u.value.value,variant:(E=e.device)!=null&&E.isConnected?"tonal":"outlined",density:"compact"},{prepend:W(()=>{var I,P;return[(I=c.value)!=null&&I.image?(G(),Ie("img",{key:0,src:c.value.image,alt:"DCC-EX Logo",class:"w-16 h-16 mr-2"},null,8,mZ)):(G(),pe(_,{key:1,icon:((P=c.value)==null?void 0:P.icon)||"mdi-help",class:"w-16 h-16 mr-2 border rounded-full"},null,8,["icon"]))]}),title:W(()=>{var I;return[fe("span",gZ,ze((I=e.device)==null?void 0:I.id),1)]}),append:W(()=>y[2]||(y[2]=[])),default:W(()=>[f(D,null,{default:W(()=>{var I,P,F;return[f(k,{size:"small",class:"ma-1","prepend-icon":"mdi-usb",color:u.value.value},{default:W(()=>{var $;return[Le(ze((($=e.device)==null?void 0:$.connection)||"Device"),1)]}),_:1},8,["color"]),f(k,{size:"small",class:"ma-1 inline-flex",color:u.value.value,"prepend-icon":"mdi-memory"},{default:W(()=>{var $;return[Le(ze((($=e.device)==null?void 0:$.port)||"--"),1)]}),_:1},8,["color"]),f(k,{size:"small",class:"ma-1 inline-flex",variant:(I=e.device)!=null&&I.isConnected?"elevated":"outlined",color:u.value.value,"prepend-icon":"mdi-memory"},{append:W(()=>{var $;return[($=e.device)!=null&&$.isConnected?(G(),Ie("span",pZ,y[3]||(y[3]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-green-600 animate-ping opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-green-600"},null,-1)]))):at("",!0)]}),default:W(()=>{var $;return[Le(" "+ze(($=e.device)!=null&&$.isConnected?"Connected":"Disconnected"),1)]}),_:1},8,["variant","color"]),f(A,{class:"mt-4"}),(P=e.device)!=null&&P.isConnected?at("",!0):(G(),pe(T,{key:0,label:"USB Port",modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=$=>a.value=$),variant:"outlined","item-title":"label",density:"compact",items:e.ports,disabled:(F=e.device)==null?void 0:F.isConnected},null,8,["modelValue","items","disabled"]))]}),_:1}),f(w,null,{default:W(()=>{var I,P;return[(I=e.device)!=null&&I.isConnected?(G(),pe(R,{key:1,text:"Reset",color:u.value.value,variant:"outlined","prepend-icon":"mdi-usb",disabled:""},null,8,["color"])):(G(),pe(R,{key:0,text:"Connect",color:u.value.value,variant:"elevated","prepend-icon":"mdi-usb",onClick:d},null,8,["color"])),(P=e.device)!=null&&P.isConnected?(G(),pe(x,{key:2,"onUpdate:modelValue":[v,y[1]||(y[1]=F=>l.value=F)],modelValue:l.value,color:"green",label:"Auto Connect","hide-details":""},null,8,["modelValue"])):at("",!0)]}),_:1})]),_:1},8,["class","subtitle","color","variant"])}}}),_Z={class:"flex text-sky-500 dark:text-sky-400 mt-4"},bZ={class:"flex flex-col justify-center items-center py-2"},wZ={class:"mt-4"},kZ={class:"flex flex-col justify-center items-center py-2"},SZ={class:"mt-4"},CZ=He({__name:"AddDeviceItem",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=t,i=e,r=z(!1),s=z(!1),o=z(null),a=z(null),l=z(null),u={required:[p=>!!p||"Required."]},{createDevice:c,deviceTypes:d}=Nr(),v=["usb","wifi"];async function m(p){s.value=!0;const y=await p;if(y.valid){const _={connection:o.value,type:a.value};await c(l.value,_),console.log(y,p,_)}s.value=!1}function g(){r.value=!1,n("close")}return(p,y)=>{const _=Y("v-icon"),k=Y("v-card-title"),A=Y("v-btn"),T=Y("v-btn-toggle"),D=Y("v-divider"),R=Y("v-text-field"),x=Y("v-card-text"),w=Y("v-spacer"),b=Y("v-card-actions"),C=Y("v-card"),E=Y("v-form");return G(),pe(E,{"validate-on":"submit lazy",onSubmit:Ho(m,["prevent"])},{default:W(()=>[r.value||i.show?(G(),pe(C,{key:0},{default:W(()=>[f(k,null,{default:W(()=>[fe("h3",_Z,[f(_,{icon:"mdi-memory",class:"w-8 h-8 mr-2"}),y[3]||(y[3]=fe("span",{class:"text-xl"},"Add Device",-1))])]),_:1}),f(x,{class:"pb-0"},{default:W(()=>[f(T,{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=I=>a.value=I),color:"cyan",divided:"",class:"flex-col sm:flex-row flex-wrap h-auto",size:"x-large"},{default:W(()=>[(G(!0),Ie(le,null,At(se(d),I=>(G(),pe(A,{value:I.value,key:I.value,class:"md:min-h-24 border"},{default:W(()=>[fe("div",bZ,[f(_,{icon:I.icon,color:I.color},null,8,["icon","color"]),fe("div",wZ,ze(I.label),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),f(D,{class:"my-4"}),f(T,{modelValue:o.value,"onUpdate:modelValue":y[1]||(y[1]=I=>o.value=I),color:"cyan",divided:"",class:"flex-wrap h-auto",size:"x-large"},{default:W(()=>[(G(),Ie(le,null,At(v,I=>f(A,{value:I,key:I,class:"min-h-24 min-w-24 border"},{default:W(()=>[fe("div",kZ,[f(_,{icon:`mdi-${I}`},null,8,["icon"]),fe("div",SZ,ze(I),1)])]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),f(D,{class:"my-4"}),f(R,{modelValue:l.value,"onUpdate:modelValue":y[2]||(y[2]=I=>l.value=I),label:"ID",variant:"outlined",density:"compact",rules:u.required},null,8,["modelValue","rules"]),y[4]||(y[4]=fe("div",{class:"grid grid-cols-2 gap-8 my-4"},null,-1))]),_:1}),f(b,null,{default:W(()=>[f(A,{text:"Close",type:"button",variant:"tonal",onClick:g}),f(w),f(A,{loading:s.value,text:"Submit",type:"submit",color:"cyan",variant:"flat"},null,8,["loading"])]),_:1})]),_:1})):at("",!0)]),_:1})}}}),Im=He({__name:"AddTile",props:{color:{type:String,default:"gray"}},setup(e){const t=e,{getColor:n}=Jl(),i=n(t.color);return(r,s)=>{const o=Y("v-sheet");return G(),pe(o,{rounded:"lg",class:un([`${se(i).border} `,"w-full h-full min-h-36 border-2 border-opacity-30 dark:border-opacity-30 hover:border-opacity-100 hover:dark:border-opacity-90 text-white mx-auto border-dashed"])},{default:W(()=>[fe("button",{class:un(["cursor-pointer w-full h-full flex items-center justify-center",`${se(i).text} hover:text-slate-50 hover:bg-${se(i).value}-500 hover:dark:bg-${se(i).value}-500`]),onClick:s[0]||(s[0]=a=>r.$emit("add"))},[f(se(wJ),{class:"w-16 h-16 stroke-none"})],2)]),_:1},8,["class"])}}}),EZ={class:"text-sky-500 bg-gradient-to-r from-sky-400 to-purple-700 p-3 text-zinc-950 text-3xl"},IZ={class:"flex text-sky-500 dark:text-sky-400 mt-4"},TZ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},xZ={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},AZ=He({__name:"Layout",setup(e){const{getLayout:t,getDevices:n}=Nr(),i=t(),r=n(),s=z(!1);return(o,a)=>{var m,g;const l=Y("v-icon"),u=Y("v-list-item"),c=Y("v-list"),d=Y("v-card-text"),v=Y("v-card");return G(),Ie(le,null,[f(Mr,{menu:"Layout"}),fe("h2",EZ,ze((m=se(i))==null?void 0:m.name),1),a[3]||(a[3]=fe("hr",{class:"my-4 border-sky-500"},null,-1)),fe("h3",IZ,[f(l,{icon:"mdi-usb",class:"w-8 h-8 mr-2"}),a[2]||(a[2]=fe("span",{class:"text-xl"},"Devices",-1))]),a[4]||(a[4]=fe("hr",{class:"my-4 border-sky-500"},null,-1)),fe("div",TZ,[(G(!0),Ie(le,null,At(se(r),p=>{var y;return G(),pe(yZ,{key:p.id,device:p,ports:(y=se(i))==null?void 0:y.ports},null,8,["device","ports"])}),128)),s.value?at("",!0):(G(),pe(Im,{key:0,color:"cyan",onClick:a[0]||(a[0]=p=>s.value=!s.value)}))]),f(CZ,{show:s.value,onClose:a[1]||(a[1]=p=>s.value=!1),class:"mt-4"},null,8,["show"]),a[5]||(a[5]=fe("hr",{class:"my-8 border-sky-500"},null,-1)),fe("div",xZ,[f(v,{class:"mx-auto w-full h-full justify-between flex flex-col border-t-4 border-b-4","prepend-icon":"mdi-usb",title:"Modules",color:"cyan",variant:"tonal",density:"compact"},{default:W(()=>[f(d,null,{default:W(()=>[f(c,{lines:"one"},{default:W(()=>{var p;return[(G(!0),Ie(le,null,At((p=se(i))==null?void 0:p.modules,y=>(G(),pe(u,{key:y,title:y},null,8,["title"]))),128))]}),_:1})]),_:1})]),_:1}),f(vZ,{ports:(g=se(i))==null?void 0:g.ports},null,8,["ports"])]),f(tr,{json:se(i),label:"RAW Layout Data"},null,8,["json"]),f(tr,{json:se(r),label:"RAW Device Data"},null,8,["json"])],64)}}});function Zl(){const e=Dn("@DEJA/cloud/layoutId","betatrack"),t=[{value:"bnsf",label:"BNSF",color:"orange"},{value:"amtrak",label:"Amtrak",color:"sky"},{value:"up",label:"Union Pacific",color:"yellow"},{value:"cn",label:"Canadian National",color:"red"},{value:"csx",label:"CSX",color:"indigo"},{value:"ns",label:"Norfolk Southern",color:"zinc"},{value:"mrl",label:"Montana Rail Link",color:"blue"},{value:"gn",label:"Great Northern",color:"orange"},{value:"bn",label:"Burlington Northern",color:"green"},{value:"santefe",label:"Santa Fe",color:"red"}],n=V(()=>e.value?wi(Ct,`layouts/${e.value}/locos`):null);function i(d){return t.find(v=>v.value===d)}function r(){return Il(n)}function s(d){const v=V(()=>e.value?yn(Ct,`layouts/${e.value}/locos`,d):null);return xb(v)}async function o(d){await o(yn(Ct,`layouts/${e.value}/locos`,d))}async function a(d,v,m,g,p){console.log("updateLoco",m);try{const y={name:g,locoId:m,meta:{},timestamp:br()};p&&(y.meta={roadname:p});const _=yn(Ct,`layouts/${d}/locos`,v);return await zs(_,{...y},{merge:!0}),console.log("loco written with ID: ",v),m}catch(y){console.error("Error adding throttle: ",y)}}async function l(d,v){console.log("updateConsist",d,v);try{const m=yn(Ct,`layouts/${e.value}/locos`,d);await zs(m,{consist:v},{merge:!0})}catch(m){console.error("Error updating consist: ",m)}}async function u(d,v){console.log("updateFunctions",d,v);try{const m=yn(Ct,`layouts/${e.value}/locos`,d);await zs(m,{functions:v},{merge:!0})}catch(m){console.error("Error updating functions: ",m)}}async function c(d,v,m,g){console.log("dejaCloud createLoco",v);try{const p={locoId:v,name:m,meta:{},timestamp:br()};g&&(p.meta={roadname:g});const y=await Ib(wi(Ct,`layouts/${d}/locos`),p);return console.log("loco written with ID: ",y),y.id}catch(p){console.error("Error adding throttle: ",p)}}return{getLoco:s,getLocos:r,createLoco:c,updateLoco:a,deleteLoco:o,updateConsist:l,updateFunctions:u,roadnames:t,getRoadname:i}}const PZ={class:"text-xl mb-8 bg-gradient-to-r from-pink-700 to-pink-400 p-3"},VZ={class:"grid grid-cols-1 lg:grid-cols-3 gap-2"},RZ={class:"grid grid-cols-2 gap-8 my-4"},DZ=He({__name:"AddLoco",props:{layoutId:String},emits:["close"],setup(e,{emit:t}){const n=t,i=e,{roadnames:r,createLoco:s}=Zl(),o=z(null),a=z(""),l=z(null),u=z(!1),c={required:[v=>!!v||"Required."]};async function d(v){u.value=!0;const m=await v;console.log(m);const g=parseInt(o.value);g&&i.layoutId&&await s(i.layoutId,g,a.value,l.value||void 0),u.value=!1,n("close")}return(v,m)=>{const g=Y("v-icon"),p=Y("v-text-field"),y=Y("v-divider"),_=Y("v-chip"),k=Y("v-chip-group"),A=Y("v-btn"),T=Y("v-form"),D=Y("v-sheet");return G(),pe(D,{class:"p-5"},{default:W(()=>[fe("h2",PZ,[f(g,{icon:"mdi-train",class:"mr-2"}),m[4]||(m[4]=Le(" Add Loco "))]),f(T,{"validate-on":"submit lazy",onSubmit:Ho(d,["prevent"])},{default:W(()=>[fe("div",VZ,[f(p,{modelValue:o.value,"onUpdate:modelValue":m[0]||(m[0]=R=>o.value=R),label:"DCC Address",variant:"outlined","prepend-inner-icon":"mdi-train",hint:"2/4-digit DCC address",color:"pink",class:"mr-4",rules:c.required,clearable:""},{append:W(()=>[f(g,{icon:"mdi-check",color:"gray",class:"opacity-10"})]),_:1},8,["modelValue","rules"]),f(p,{modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=R=>a.value=R),label:"Name",variant:"outlined",color:"pink",class:"col-span-2",clearable:""},null,8,["modelValue"])]),f(y,{class:"my-4"}),f(k,{modelValue:l.value,"onUpdate:modelValue":m[2]||(m[2]=R=>l.value=R),"selected-class":"text-primary",column:"",mandatory:""},{default:W(()=>[(G(!0),Ie(le,null,At(se(r),R=>(G(),pe(_,{key:R.value,value:R.value,text:R.label,variant:"outlined",filter:""},null,8,["value","text"]))),128))]),_:1},8,["modelValue"]),fe("div",RZ,[f(A,{class:"mt-2",text:"Close",type:"button",variant:"tonal",onClick:m[3]||(m[3]=R=>v.$emit("close")),block:""}),f(A,{loading:u.value,class:"mt-2",text:"Submit",type:"submit",color:"pink",block:""},null,8,["loading"])])]),_:1})]),_:1})}}}),OZ=He({__name:"LeadLoco",props:{loco:Object,color:Object},setup(e){return(t,n)=>{const i=Y("v-icon"),r=Y("v-btn"),s=Y("v-avatar"),o=Y("v-list-item");return G(),pe(o,null,{prepend:W(()=>[f(i,{icon:"mdi-train",class:"w-8 h-8"})]),title:W(()=>[f(r,{class:"ma-2",icon:"mdi-arrow-left-circle",variant:"tonal",color:"green"}),f(s,{color:e.color.value},{default:W(()=>{var a;return[Le(ze((a=e.loco)==null?void 0:a.locoId),1)]}),_:1},8,["color"]),f(r,{class:"ma-2",icon:"mdi-arrow-right-circle",variant:"tonal",disabled:""})]),_:1})}}}),LZ=He({__name:"ConsistLoco",props:{cloco:Object,color:Object},setup(e){return(t,n)=>{var u;const i=Y("v-icon"),r=Y("v-btn"),s=Y("v-avatar"),o=Y("v-sheet"),a=Y("v-spacer"),l=Y("v-list-item");return G(),pe(l,{title:(u=e.cloco)==null?void 0:u.address},{prepend:W(()=>[f(i,{icon:"mdi-train",class:"w-8 h-8"})]),title:W(()=>[f(r,{class:"ma-2",icon:"mdi-arrow-left-circle",variant:"tonal",color:e.cloco.direction?"green":"gray",onClick:n[0]||(n[0]=c=>t.$emit("toggle",e.cloco,!0))},null,8,["color"]),f(s,{color:e.color.value},{default:W(()=>{var c;return[Le(ze((c=e.cloco)==null?void 0:c.address),1)]}),_:1},8,["color"]),f(r,{class:"ma-2",icon:"mdi-arrow-right-circle",variant:"tonal",color:e.cloco.direction?"gray":"green",onClick:n[1]||(n[1]=c=>t.$emit("toggle",e.cloco,!1))},null,8,["color"])]),append:W(()=>[f(o,{class:"ma-2 bg-blue-800 rounded-full py-2 px-2"},{default:W(()=>[n[5]||(n[5]=fe("span",{class:"mx-2"},"Trim",-1)),f(r,{icon:"mdi-minus-circle",size:"small",class:"mx-1",onClick:n[2]||(n[2]=c=>t.$emit("trim",e.cloco,-1))}),f(r,{icon:"mdi-plus-circle",size:"small",class:"mx-1",onClick:n[3]||(n[3]=c=>t.$emit("trim",e.cloco,1))}),f(s,{color:e.color.value,class:"mx-1"},{default:W(()=>{var c;return[Le(ze((c=e.cloco)==null?void 0:c.trim),1)]}),_:1},8,["color"])]),_:1}),f(a),f(r,{class:"ma-2",icon:"mdi-delete",variant:"tonal",onClick:n[4]||(n[4]=c=>t.$emit("delete",e.cloco))})]),_:1},8,["title"])}}}),MZ=He({__name:"AddConsistLoco",props:{alocos:Array,loco:Object,color:Object,open:Boolean},setup(e){const n=z(e.open);return(i,r)=>{const s=Y("v-btn"),o=Y("v-list-item"),a=Y("v-divider"),l=Y("v-icon"),u=Y("v-avatar"),c=Y("v-list");return G(),Ie(le,null,[f(o,{title:"Add Loco to Consist"},{prepend:W(()=>[f(s,{color:"pink",icon:"mdi-plus-circle",variant:"tonal",class:"mr-8",onClick:r[0]||(r[0]=d=>n.value=!n.value)})]),_:1}),f(a),n.value||e.open?(G(),pe(c,{key:0,class:"bg-red-960"},{default:W(()=>[(G(!0),Ie(le,null,At(e.alocos,d=>(G(),pe(o,{key:d.locoId,subtitle:d.name},{prepend:W(()=>[f(l,{icon:"mdi-train",class:"w-8 h-8"})]),title:W(()=>{var v,m,g,p,y,_;return[f(s,{class:"ma-2",icon:"mdi-arrow-left-circle",variant:"tonal",onClick:k=>i.$emit("add",d==null?void 0:d.locoId,!0),disabled:!!((d==null?void 0:d.locoId)===((v=e.loco)==null?void 0:v.locoId)||(g=(m=e.loco)==null?void 0:m.consist)!=null&&g.find(k=>k.address===(d==null?void 0:d.locoId)))},null,8,["onClick","disabled"]),f(u,{color:e.color.value},{default:W(()=>[Le(ze(d==null?void 0:d.locoId),1)]),_:2},1032,["color"]),f(s,{class:"ma-2",icon:"mdi-arrow-right-circle",variant:"tonal",onClick:k=>i.$emit("add",d==null?void 0:d.locoId,!1),disabled:!!((d==null?void 0:d.locoId)===((p=e.loco)==null?void 0:p.locoId)||(_=(y=e.loco)==null?void 0:y.consist)!=null&&_.find(k=>k.address===(d==null?void 0:d.locoId)))},null,8,["onClick","disabled"])]}),_:2},1032,["subtitle"]))),128))]),_:1})):at("",!0)],64)}}}),NZ={class:"my-2 p-2 inset-2 bg-gray-500 rounded-full w-auto"},FZ=He({__name:"EditConsist",props:{loco:Object,color:Object},setup(e){const t=e,{getLocos:n,updateConsist:i}=Zl(),r=z(!1);let s=Se(n());async function o(c){if(t.loco){const d=(t.loco.consist||[]).filter(v=>v.address!==c.address);console.log("newConsist",d),await i(t.loco.id,d),s.value=n()}}async function a(c,d){if(t.loco){const v=(t.loco.consist||[]).map(m=>(m.address===c.address&&(m.trim+=d),m));console.log("newConsist",v),await i(t.loco.id,v)}}async function l(c,d=!0){if(t.loco){const v={address:parseInt(c),direction:d,trim:0},m=[...t.loco.consist||[],v];console.log("newConsist",m),await i(t.loco.id,m),r.value=!1}}async function u(c,d){if(t.loco){const v=(t.loco.consist||[]).map(m=>(m.address===c.address&&(m.direction=d),m));console.log("newConsist",v),await i(t.loco.id,v)}}return(c,d)=>{var y,_,k;const v=Y("v-chip"),m=Y("v-icon"),g=Y("v-divider"),p=Y("v-list");return G(),Ie(le,null,[fe("div",NZ,[f(v,{class:"ma-1",variant:"elevated","prepend-icon":"mdi-arrow-left-circle",color:e.color.value},{default:W(()=>{var A;return[Le(ze((A=e.loco)==null?void 0:A.locoId),1)]}),_:1},8,["color"]),((_=(y=e.loco)==null?void 0:y.consist)==null?void 0:_.length)>0?(G(!0),Ie(le,{key:0},At((k=e.loco)==null?void 0:k.consist,A=>(G(),pe(v,{class:"ma-1",variant:"elevated","prepend-icon":A.direction?"mdi-arrow-left-circle":"","append-icon":A.direction?"":"mdi-arrow-right-circle",key:A.address,color:e.color.value},{default:W(()=>[Le(ze(A==null?void 0:A.address),1)]),_:2},1032,["prepend-icon","append-icon","color"]))),128)):at("",!0),f(v,{class:"ma-1 border-dashed",variant:"outlined","prepend-icon":"mdi-arrow-left-circle","append-icon":"mdi-arrow-right-circle",color:e.color.value,onClick:d[0]||(d[0]=A=>r.value=!r.value)},{default:W(()=>[f(m,{icon:"mdi-plus"})]),_:1},8,["color"])]),f(p,null,{default:W(()=>{var A,T,D;return[((T=(A=e.loco)==null?void 0:A.consist)==null?void 0:T.length)>0?(G(),pe(OZ,{key:0,loco:e.loco,color:e.color},null,8,["loco","color"])):at("",!0),f(g),(G(!0),Ie(le,null,At((D=e.loco)==null?void 0:D.consist,R=>(G(),Ie(le,{key:R.address},[f(LZ,{cloco:R,color:e.color,onToggle:u,onTrim:a,onDelete:o},null,8,["cloco","color"]),f(g)],64))),128)),f(MZ,{alocos:se(s),loco:e.loco,color:e.color,open:r.value,onAdd:l},null,8,["alocos","loco","color","open"]),f(g)]}),_:1})],64)}}});function BZ(){return{defaultFunctions:Array.from({length:32},(n,i)=>({id:i,label:`F${i}`}))}}function $Z(e){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M240.49,15.51a12,12,0,0,0-17,0L173.94,65.09l-2.54-2.55a36.05,36.05,0,0,0-50.91,0L100,83l-3.51-3.52a12,12,0,0,0-17,17L83,100,62.54,120.49a36,36,0,0,0,0,50.91l2.55,2.54L15.51,223.51a12,12,0,0,0,17,17l49.57-49.58,2.54,2.55a36.06,36.06,0,0,0,50.91,0L156,173l3.51,3.52a12,12,0,0,0,17-17L173,156l20.49-20.49a36,36,0,0,0,0-50.91l-2.55-2.54,49.58-49.57A12,12,0,0,0,240.49,15.51Zm-121.95,161a12,12,0,0,1-17,0L79.51,154.43a12,12,0,0,1,0-17L100,117l39,39Zm58-57.95h0L156,139l-39-39,20.49-20.49a12,12,0,0,1,17,0l22.06,22.06a12,12,0,0,1,0,17ZM20.62,92.21A12,12,0,0,1,35.8,84.62l12,4a12,12,0,1,1-7.59,22.76l-12-4A12,12,0,0,1,20.62,92.21Zm64-56.41a12,12,0,1,1,22.76-7.59l4,12A12,12,0,0,1,88.62,47.8Zm150.76,128a12,12,0,0,1-15.18,7.58l-12-4a12,12,0,0,1,7.59-22.76l12,4A12,12,0,0,1,235.38,163.8Zm-64,56.41a12,12,0,1,1-22.76,7.58l-4-12a12,12,0,1,1,22.76-7.58Z"}}]})(e)}function UZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216Z"}}]})(e)}function t4(e){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M160,80a8,8,0,0,1,8-8h72a8,8,0,0,1,0,16H168A8,8,0,0,1,160,80Zm80,88H168a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm0-64H168a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16Zm0,32H168a8,8,0,0,0,0,16h72a8,8,0,0,0,0-16ZM128,48H88.9C44.62,48,8.33,83.62,8,127.39A80,80,0,0,0,88,208h40a16,16,0,0,0,16-16V64A16,16,0,0,0,128,48Z"}}]})(e)}function n4(e){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M122,40V32a6,6,0,0,1,12,0v8a6,6,0,0,1-12,0Zm68,88a62,62,0,1,1-62-62A62.07,62.07,0,0,1,190,128Zm-12,0a50,50,0,1,0-50,50A50.06,50.06,0,0,0,178,128ZM59.76,68.24a6,6,0,1,0,8.48-8.48l-8-8a6,6,0,0,0-8.48,8.48Zm0,119.52-8,8a6,6,0,1,0,8.48,8.48l8-8a6,6,0,1,0-8.48-8.48Zm136-136-8,8a6,6,0,1,0,8.48,8.48l8-8a6,6,0,0,0-8.48-8.48Zm.48,136a6,6,0,0,0-8.48,8.48l8,8a6,6,0,0,0,8.48-8.48ZM40,122H32a6,6,0,0,0,0,12h8a6,6,0,0,0,0-12Zm88,88a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-8A6,6,0,0,0,128,210Zm96-88h-8a6,6,0,0,0,0,12h8a6,6,0,0,0,0-12Z"}}]})(e)}function HZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M233,135a60,60,0,0,0-89.62-35.45l16.39-65.44a8,8,0,0,0-3.45-8.68A60,60,0,1,0,95.69,128.91L30.82,147.44a8,8,0,0,0-5.8,7.32,60,60,0,0,0,44.42,60.66,60.52,60.52,0,0,0,15.62,2.07,60.07,60.07,0,0,0,59.88-62l48.48,46.92a8,8,0,0,0,9.25,1.35A60,60,0,0,0,233,135Zm-121-7a16,16,0,1,1,16,16A16,16,0,0,1,112,128ZM80,76a44,44,0,0,1,62.75-39.82L127.77,96A32,32,0,0,0,99.85,112.8,43.85,43.85,0,0,1,80,76Zm27,119.57a44,44,0,0,1-65.86-34.43l59.31-16.94A32,32,0,0,0,128,160l.91,0A43.82,43.82,0,0,1,107,195.57Zm106.17-23a43.92,43.92,0,0,1-13,14.14l-44.32-42.89a31.91,31.91,0,0,0-.59-32.57,44,44,0,0,1,57.91,61.32Z"}}]})(e)}function jZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"}}]})(e)}function zZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M576 240c0-23.63-12.95-44.04-32-55.12V32.01C544 23.26 537.02 0 512 0c-7.12 0-14.19 2.38-19.98 7.02l-85.03 68.03C364.28 109.19 310.66 128 256 128H64c-35.35 0-64 28.65-64 64v96c0 35.35 28.65 64 64 64h33.7c-1.39 10.48-2.18 21.14-2.18 32 0 39.77 9.26 77.35 25.56 110.94 5.19 10.69 16.52 17.06 28.4 17.06h74.28c26.05 0 41.69-29.84 25.9-50.56-16.4-21.52-26.15-48.36-26.15-77.44 0-11.11 1.62-21.79 4.41-32H256c54.66 0 108.28 18.81 150.98 52.95l85.03 68.03a32.023 32.023 0 0 0 19.98 7.02c24.92 0 32-22.78 32-32V295.13C563.05 284.04 576 263.63 576 240zm-96 141.42l-33.05-26.44C392.95 311.78 325.12 288 256 288v-96c69.12 0 136.95-23.78 190.95-66.98L480 98.58v282.84z"}}]})(e)}function WZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M446.53 97.43C439.67 60.23 407.19 32 368 32c-39.23 0-71.72 28.29-78.54 65.54C126.75 112.96-.5 250.12 0 416.98.11 451.9 29.08 480 64 480h304c8.84 0 16-7.16 16-16 0-17.67-14.33-32-32-32h-79.49l35.8-48.33c24.14-36.23 10.35-88.28-33.71-106.6-23.89-9.93-51.55-4.65-72.24 10.88l-32.76 24.59c-7.06 5.31-17.09 3.91-22.41-3.19-5.3-7.08-3.88-17.11 3.19-22.41l34.78-26.09c36.84-27.66 88.28-27.62 125.13 0 10.87 8.15 45.87 39.06 40.8 93.21L469.62 480H560c8.84 0 16-7.16 16-16 0-17.67-14.33-32-32-32h-53.63l-98.52-104.68 154.44-86.65A58.16 58.16 0 0 0 576 189.94c0-21.4-11.72-40.95-30.48-51.23-40.56-22.22-98.99-41.28-98.99-41.28zM368 136c-13.26 0-24-10.75-24-24 0-13.26 10.74-24 24-24 13.25 0 24 10.74 24 24 0 13.25-10.75 24-24 24z"}}]})(e)}function qZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M336 192h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16zM176 352c53.02 0 96-42.98 96-96h-85.33c-5.89 0-10.67-3.58-10.67-8v-16c0-4.42 4.78-8 10.67-8H272v-32h-85.33c-5.89 0-10.67-3.58-10.67-8v-16c0-4.42 4.78-8 10.67-8H272v-32h-85.33c-5.89 0-10.67-3.58-10.67-8v-16c0-4.42 4.78-8 10.67-8H272c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96z"}}]})(e)}function i4(e){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function GZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 192h-64v-37.88c37.2-13.22 64-48.38 64-90.12h-64V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v32H0c0 41.74 26.8 76.9 64 90.12V192H0c0 41.74 26.8 76.9 64 90.12V320H0c0 42.84 28.25 78.69 66.99 91.05C79.42 468.72 130.6 512 192 512s112.58-43.28 125.01-100.95C355.75 398.69 384 362.84 384 320h-64v-37.88c37.2-13.22 64-48.38 64-90.12zM192 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm0-128c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm0-128c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48z"}}]})(e)}function KZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.03 72.04L126.06 161H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V89.02c0-21.47-25.96-31.98-40.97-16.98zm123.2 108.08c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 229.28 336 242.62 336 257c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.87z"}}]})(e)}function YZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"}}]})(e)}function QZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}}]})(e)}function XZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M12 8a4 4 0 1 1 -3.995 4.2l-.005 -.2l.005 -.2a4 4 0 0 1 3.995 -3.8z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M12 4a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M17 6a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M19 11a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M17 16a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M12 18a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M7 16a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M5 11a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}},{tag:"path",attr:{d:"M7 6a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1z",strokeWidth:"0",fill:"currentColor"}}]})(e)}function JZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M4 15l11 -11m5 5l-11 11m-4 -8l7 7m-3.5 -10.5l7 7m-3.5 -10.5l7 7"}}]})(e)}function ZZ(e){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M202.6 72.77c-59.2-.34-118.46 11.4-176.32 33.93l3.79 20.2H364.2l4-20.1c-54.3-22.72-109.9-33.7-165.6-34.03zm234.5 52.33c-28.5 0-51.5 23.1-51.5 51.5 0 28.3 23 51.4 51.5 51.4 28.3 0 51.4-23.1 51.4-51.4 0-28.4-23.1-51.5-51.4-51.5zm0 20.8c16.8 0 30.6 13.8 30.6 30.7s-13.8 30.6-30.6 30.6-30.6-13.7-30.6-30.6c0-16.9 13.8-30.7 30.6-30.7zm-404.39 4.6v20.8H361.5v-20.8H32.71zm1.73 44.8v243.3h20.83V195.3H34.44zm304.06 0v243.3h20.9V195.3h-20.9zm88.1 55.5v187.6h20.8V250.8h-20.8zm-316.7 92.6c-16.47 0-29.85 13.4-29.85 29.9V405h40.35v34h20.8v-34h111.9v34h20.8v-34h40.3v-31.7c0-16.5-13.3-29.9-29.8-29.9H109.9z"}}]})(e)}function eee(e){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M262.5 33l-10 30h87l-10-30h-67zM160 39c-26 0-45.2 9.12-56.9 23.24C91.32 76.35 87 94.5 87 112v263h18V112c0-14.5 3.7-28.35 11.9-38.24C125.2 63.88 138 57 160 57h75.5l6-18H160zm79.3 42l-43.7 42.5 41.9-19.1-34.5 86.9 62.6-58.3-1.1 91.7 31.8-101.2 70.5 117.6-31.3-130.9 61.5 36.1L349.5 81H239.3zM72.55 393l-5.08 100h57.03l-5.1-100H72.55z"}}]})(e)}function l1(e){return rt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.4981 3C12.1772 3.76965 12 4.61413 12 5.5C12 6.01621 12.0602 6.51837 12.1739 6.99984L5 7V11L15.035 11.0004C16.038 11.6336 17.2262 12 18.5 12C19.3861 12 20.2308 11.8227 21.0006 11.5016L21 18C21 19.1046 20.1046 20 19 20H17.2L19 21.5V22H5V21.5L6.8 20H5C3.89543 20 3 19.1046 3 18V7C3 4.79086 4.79086 3 7 3H12.4981ZM12 14C10.8954 14 10 14.8954 10 16C10 17.1046 10.8954 18 12 18C13.1046 18 14 17.1046 14 16C14 14.8954 13.1046 14 12 14ZM18.5 1C20.9853 1 23 3.01472 23 5.5C23 7.98528 20.9853 10 18.5 10C16.0147 10 14 7.98528 14 5.5C14 3.01472 16.0147 1 18.5 1ZM18.4998 6.16667C18.0089 6.16667 17.5593 6.34354 17.2113 6.63704L17.0856 6.75245L18.4998 8.16667L19.9131 6.7515C19.5512 6.39013 19.0516 6.16667 18.4998 6.16667ZM18.4998 3.5C17.2966 3.5 16.1998 3.95536 15.3722 4.70316L15.199 4.86781L16.1428 5.80964C16.746 5.20643 17.5794 4.83333 18.4998 4.83333C19.3436 4.83333 20.1141 5.14684 20.7013 5.66372L20.8569 5.80964L21.7997 4.86684C20.9552 4.02233 19.7885 3.5 18.4998 3.5Z"}}]})(e)}const xE=[{name:"light",icon:t4},{name:"bell",icon:UZ},{name:"horn",icon:zZ},{name:"wifi",icon:l1},{name:"coupler",icon:$Z},{name:"fan",icon:HZ},{name:"brake",icon:CJ},{name:"station",icon:ZZ},{name:"mute",icon:YZ},{name:"quiet",icon:KZ},{name:"sound",icon:QZ},{name:"track",icon:JZ},{name:"air",icon:IJ},{name:"announce",icon:qZ},{name:"dim",icon:n4}];function u1(){console.log("useFunctionIcon");function e(n){if(!n)return;const i=xE.find(r=>r.name===n);return i?i.icon:l1}function t(){return xE}return{getIconComponent:e,getAllIcons:t}}const tee=He({__name:"Function",props:{func:Object,config:Object,editMode:{type:Boolean,default:!1}},emits:["edit","update"],setup(e,{emit:t}){const n=t,i=e,{getIconComponent:r}=u1(),s=V(()=>{var l;return(l=i==null?void 0:i.func)!=null&&l.icon?r(i.func.icon):null});function o(l){console.log("runFunc",l)}function a(){console.log("handleEdit"),i.editMode?n("edit",i.config.id):o(i.config.id)}return(l,u)=>{var m;const c=Y("v-icon"),d=Y("v-btn"),v=Y("v-badge");return(m=e.func)!=null&&m.isFavorite?(G(),pe(v,{key:0,color:"yellow",icon:"mdi-star"},{default:W(()=>[f(d,{onClick:a,class:"m-1",variant:"tonal",color:"pink",size:"large"},{default:W(()=>{var g,p;return[(G(),pe(Ji(s.value),{class:"mr-2"})),Le(" "+ze(((g=e.func)==null?void 0:g.label)||((p=e.config)==null?void 0:p.label))+" ",1),e.editMode?(G(),pe(c,{key:0,onClick:u[0]||(u[0]=y=>l.$emit("edit")),class:"ml-2",icon:"mdi-pencil"})):at("",!0)]}),_:1})]),_:1})):(G(),pe(d,{key:1,onClick:a,class:"m-1",variant:"tonal",color:"pink",size:"large"},{default:W(()=>{var g,p;return[(G(),pe(Ji(s.value),{class:"mr-2"})),Le(" "+ze(((g=e.func)==null?void 0:g.label)||((p=e.config)==null?void 0:p.label))+" ",1),e.editMode?(G(),pe(c,{key:0,onClick:u[1]||(u[1]=y=>l.$emit("edit")),class:"ml-2",icon:"mdi-pencil"})):at("",!0)]}),_:1}))}}}),nee={class:"flex justify-between items-center"},iee=He({__name:"EditFunction",props:{loco:Object,func:Object,config:Object},emits:["cancel"],setup(e,{emit:t}){var m,g,p;const n=t,i=e,r=z((m=i.func)==null?void 0:m.label),s=z(!!((g=i.func)!=null&&g.isFavorite)),o=z((p=i.func)==null?void 0:p.icon),{updateFunctions:a}=Zl(),{getIconComponent:l,getAllIcons:u}=u1(),c=V(()=>u()),d=V(()=>o.value?l(o.value):null);async function v(){var A,T,D,R;console.log("handleSave",i.config.id,!!s.value,r.value,o.value);const y=(T=(A=i.loco)==null?void 0:A.functions)==null?void 0:T.find(x=>x.id===i.config.id),_={isFavorite:s.value,label:r.value,icon:o.value};let k=y?(((D=i.loco)==null?void 0:D.functions)||[]).map(x=>x.id===i.config.id?{...x,..._}:x):[...((R=i.loco)==null?void 0:R.functions)||[],{...i.config,...y,..._}];console.log("handleSave",k,_,y),await a(i.loco.id,k),n("cancel")}return(y,_)=>{const k=Y("v-btn"),A=Y("v-spacer"),T=Y("v-text-field"),D=Y("v-sheet"),R=Y("v-icon"),x=Y("v-divider");return G(),Ie(le,null,[f(D,{class:"my-4"},{default:W(()=>[fe("div",nee,[f(k,{class:"m-2",icon:s.value?"mdi-star":"mdi-star-outline",color:s.value?"yellow":"gray",variant:"tonal",size:"small",onClick:_[0]||(_[0]=w=>s.value=!s.value)},null,8,["icon","color"]),f(k,{class:"m-2",variant:"tonal",color:"pink",size:"large"},{default:W(()=>{var w;return[(G(),pe(Ji(d.value),{class:"mr-2"})),Le(" "+ze(r.value||((w=e.config)==null?void 0:w.label)),1)]}),_:1}),f(A),f(T,{modelValue:r.value,"onUpdate:modelValue":_[1]||(_[1]=w=>r.value=w),label:"Label",variant:"outlined",density:"compact",class:"flex-inline m-2","hide-details":""},null,8,["modelValue"])]),f(D,null,{default:W(()=>[(G(!0),Ie(le,null,At(c.value,w=>(G(),pe(k,{key:w,class:"m-2",color:"pink-darken-3",variant:o.value===w.name?"elevated":"tonal",onClick:b=>o.value=w.name},{default:W(()=>[(G(),pe(Ji(w==null?void 0:w.icon),{class:"mr-2"})),Le(" "+ze(w.name),1)]),_:2},1032,["variant","onClick"]))),128))]),_:1}),f(D,{class:"flex"},{default:W(()=>[f(k,{onClick:_[2]||(_[2]=w=>y.$emit("cancel")),class:"m-2",color:"rose",variant:"tonal"},{default:W(()=>_[3]||(_[3]=[Le(" Cancel ")])),_:1}),f(A),f(k,{class:"m-2",color:"pink",onClick:v},{default:W(()=>[f(R,null,{default:W(()=>_[4]||(_[4]=[Le("mdi-content-save")])),_:1}),_[5]||(_[5]=Le(" Save "))]),_:1})]),_:1})]),_:1}),f(x,{class:"my-4"})],64)}}}),ree=He({__name:"Functions",props:{loco:Object},setup(e){const t=e;u1();const n=z(!1),i=z(null),r=z(null),{defaultFunctions:s}=BZ();function o(l){var u,c;console.log("handleEdit",l),i.value=(c=(u=t.loco)==null?void 0:u.functions)==null?void 0:c.find(d=>d.id===l),r.value=s.find(d=>d.id===l)}function a(){console.log("handleCancel"),i.value=null,r.value=null}return(l,u)=>{var v;const c=Y("v-btn"),d=Y("templat");return G(),Ie(le,null,[r.value?(G(),pe(iee,{key:0,loco:e.loco,config:r.value,func:i.value,onCancel:a},null,8,["loco","config","func"])):(G(),Ie(le,{key:1},[n.value?(G(),pe(c,{key:0,class:"m-1",color:"pink-accent-1","prepend-icon":"mdi-pencil",onClick:u[0]||(u[0]=m=>n.value=!1)},{default:W(()=>u[2]||(u[2]=[Le("Cancel Edit Mode")])),_:1})):(G(),pe(c,{key:1,class:"m-1",color:"pink","prepend-icon":"mdi-pencil",onClick:u[1]||(u[1]=m=>n.value=!0)},{default:W(()=>u[3]||(u[3]=[Le("Enable Edit Mode")])),_:1})),(G(!0),Ie(le,null,At(se(s),m=>(G(),pe(d,{key:m.label},{default:W(()=>{var g,p;return[f(tee,{onEdit:o,config:m,editMode:n.value,func:(p=(g=e.loco)==null?void 0:g.functions)==null?void 0:p.find(y=>y.id===m.id)},null,8,["config","editMode","func"])]}),_:2},1024))),128))],64)),f(tr,{json:(v=e.loco)==null?void 0:v.functions,label:"RAW Functions Data"},null,8,["json"]),f(tr,{json:se(s),label:"RAW DEFAULT FUNCTIONS"},null,8,["json"])],64)}}}),see={class:"text-lg mb-8 bg-gradient-to-r from-pink-700 to-pink-400 p-3"},oee={class:"grid grid-cols-1 md:grid-cols-3 gap-2"},aee={class:"grid grid-cols-2 gap-8 my-4"},lee={class:"text-lg mb-8 bg-gradient-to-r from-pink-700 to-pink-400 p-3"},uee={class:"text-lg mb-8 bg-gradient-to-r from-pink-700 to-pink-400 p-3"},cee=He({__name:"EditLoco",props:{layoutId:String,loco:Object},emits:["close"],setup(e,{emit:t}){var A,T,D,R,x,w,b;const{colors:n,getColor:i}=Jl(),r=e,s=t,{roadnames:o,getLoco:a,updateLoco:l,getRoadname:u}=Zl();console.log("typeof lco",r.loco,typeof r.loco);const c=a((A=r.loco)!=null&&A.id?r.loco.id:null),d=z(((T=r.loco)==null?void 0:T.locoId)||null),v=z(((D=r.loco)==null?void 0:D.name)||""),m=z(u((x=(R=r.loco)==null?void 0:R.meta)==null?void 0:x.roadname)||null),g=z((w=m.value)==null?void 0:w.value),p=z(!1),y={required:[C=>!!C||"Required."]},_=i((b=m==null?void 0:m.value)==null?void 0:b.color);async function k(C){var P,F;p.value=!0;const E=await C;console.log(E);const I=parseInt(d.value);console.log("handleSave",I,r.layoutId,(P=r.loco)==null?void 0:P.id),I&&r.layoutId&&((F=r.loco)!=null&&F.id)&&await l(r.layoutId,r.loco.id,I,v.value,g.value||void 0),p.value=!1,s("close")}return(C,E)=>{var B;const I=Y("v-divider"),P=Y("v-icon"),F=Y("v-text-field"),$=Y("v-chip"),j=Y("v-chip-group"),K=Y("v-btn"),U=Y("v-form");return G(),Ie(le,null,[f(I,{class:"my-8 border-pink-500"}),fe("h2",see,[f(P,{icon:"mdi-train",class:"mr-2"}),E[4]||(E[4]=Le(" Edit Loco "))]),f(U,{"validate-on":"submit lazy",onSubmit:Ho(k,["prevent"])},{default:W(()=>[fe("div",oee,[f(F,{modelValue:d.value,"onUpdate:modelValue":E[0]||(E[0]=H=>d.value=H),label:"DCC Address",variant:"outlined","prepend-icon":"mdi-train",hint:"2/4-digit DCC address",color:"pink",class:"mr-4",rules:y.required,clearable:""},{append:W(()=>[f(P,{icon:"mdi-check",color:"gray",class:"opacity-10"})]),_:1},8,["modelValue","rules"]),f(F,{modelValue:v.value,"onUpdate:modelValue":E[1]||(E[1]=H=>v.value=H),label:"Name",variant:"outlined",color:"pink",class:"col-span-2",clearable:""},null,8,["modelValue"])]),f(I,{class:"my-4"}),f(j,{modelValue:g.value,"onUpdate:modelValue":E[2]||(E[2]=H=>g.value=H),"selected-class":"text-primary",column:"",mandatory:""},{default:W(()=>[(G(!0),Ie(le,null,At(se(o),H=>{var q;return G(),pe($,{key:H.value,value:H.value,text:H.label,variant:"outlined",class:un(`${(q=se(i)(H.color))==null?void 0:q.border}`),filter:""},null,8,["value","text","class"])}),128))]),_:1},8,["modelValue"]),fe("div",aee,[f(K,{class:"mt-2",text:"Close",type:"button",variant:"tonal",onClick:E[3]||(E[3]=H=>C.$emit("close")),block:""}),f(K,{loading:p.value,class:"mt-2",text:"Submit",type:"submit",color:"pink",block:""},null,8,["loading"])])]),_:1}),f(I,{class:"my-8 border-pink-500"}),fe("h2",lee,[f(P,{icon:"mdi-train",class:"mr-2"}),E[5]||(E[5]=Le(" Consist "))]),f(FZ,{loco:se(c),color:se(_)},null,8,["loco","color"]),f(I,{class:"my-8 border-pink-500"}),fe("h2",uee,[f(P,{icon:"mdi-cogs",class:"mr-2"}),E[6]||(E[6]=Le(" Functions "))]),f(ree,{loco:se(c),color:se(_)},null,8,["loco","color"]),f(tr,{json:e.loco,label:"RAW Loco Data"},null,8,["json"]),f(tr,{json:(B=e.loco)==null?void 0:B.consist,label:"RAW Cosist Data"},null,8,["json"])],64)}}}),dee=He({__name:"RosterItem",props:{loco:Object,allowEdit:{type:Boolean,default:!0}},setup(e){const{colors:t,DEFAULT_COLOR:n}=Jl(),{getRoadname:i,deleteLoco:r}=Zl(),s=e,o=z(!1),a=V(()=>{var c,d;return i((d=(c=s==null?void 0:s.loco)==null?void 0:c.meta)==null?void 0:d.roadname)}),l=V(()=>{var c;return t[((c=a==null?void 0:a.value)==null?void 0:c.color)||n]});ye(()=>{var c;return(c=s.loco)==null?void 0:c.roadname},c=>{var d;a.value=i((d=c==null?void 0:c.meta)==null?void 0:d.roadname),l.value=t[(a==null?void 0:a.color)||n]});async function u(){console.log("handleDelete",s.loco.id),await r(s.loco.id),o.value=!1}return(c,d)=>{var R,x,w;const v=Y("v-avatar"),m=Y("v-chip"),g=Y("v-badge"),p=Y("v-icon"),y=Y("v-card-text"),_=Y("v-spacer"),k=Y("v-btn"),A=Y("v-card-actions"),T=Y("v-card"),D=Y("v-dialog");return G(),Ie(le,null,[f(T,{class:un(["mx-auto w-full justify-between flex flex-col border-t-4 border-b-4",`${(R=l.value)==null?void 0:R.border}`]),title:(x=e.loco)==null?void 0:x.name,subtitle:((w=a.value)==null?void 0:w.label)||"Loco"},{append:W(()=>[f(v,{size:"large",color:l.value.value,class:un(l.value.bg)},{default:W(()=>{var b;return[Le(ze((b=e.loco)==null?void 0:b.locoId),1)]}),_:1},8,["color","class"])]),default:W(()=>[f(y,{class:"min-h-16 flex flex-wrap"},{default:W(()=>{var b,C,E,I,P,F;return[f(g,{class:"m-2",color:((b=l.value)==null?void 0:b.value)||"primary",content:((E=(C=e.loco)==null?void 0:C.functions)==null?void 0:E.length)||0},{default:W(()=>{var $;return[f(m,{variant:"outlined",color:(($=l.value)==null?void 0:$.value)||"primary"},{prepend:W(()=>[f(se(WD),{class:"mr-2"})]),default:W(()=>[d[5]||(d[5]=Le(" Functions "))]),_:1},8,["color"])]}),_:1},8,["color","content"]),f(g,{class:"m-2",color:((I=l.value)==null?void 0:I.value)||"primary",content:((F=(P=e.loco)==null?void 0:P.consist)==null?void 0:F.length)+1||0},{default:W(()=>{var $;return[f(m,{variant:"outlined",onClick:d[0]||(d[0]=j=>c.show=!c.show),color:(($=l.value)==null?void 0:$.value)||"primary"},{prepend:W(()=>[f(p,{class:"mr-2",icon:"mdi-cogs"})]),default:W(()=>[d[6]||(d[6]=Le(" Consist "))]),_:1},8,["color"])]}),_:1},8,["color","content"])]}),_:1}),f(_),f(A,null,{default:W(()=>{var b;return[f(k,{class:un(`${(b=l.value)==null?void 0:b.text}`),text:"Edit",variant:"tonal",onClick:d[1]||(d[1]=C=>c.$emit("edit",e.loco))},null,8,["class"]),f(_),f(k,{icon:"mdi-delete",variant:"tonal",onClick:d[2]||(d[2]=C=>o.value=!0)})]}),_:1})]),_:1},8,["title","subtitle","class"]),f(D,{modelValue:o.value,"onUpdate:modelValue":d[4]||(d[4]=b=>o.value=b),"max-width":"400",persistent:""},{default:W(()=>[f(T,{"prepend-icon":"mdi-delete",title:"Confirm Delete",text:"Are you sure you want to delete this loco? There is no undo."},{actions:W(()=>[f(_),f(k,{onClick:d[3]||(d[3]=b=>o.value=!1)},{default:W(()=>d[7]||(d[7]=[Le(" Cancel ")])),_:1}),f(k,{onClick:u},{default:W(()=>d[8]||(d[8]=[Le(" Agree ")])),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),fee={class:"relative grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},hee=He({__name:"RosterList",emits:["edit"],setup(e,{emit:t}){const n=t,{getLocos:i}=Zl();let r=i();function s(o){console.log("handleEdit",o),n("edit",o)}return(o,a)=>{var l;return G(),Ie("div",fee,[Vo(o.$slots,"prepend"),(l=se(r))!=null&&l.length?(G(!0),Ie(le,{key:0},At(se(r),u=>(G(),pe(dee,{key:u.id,loco:u,onEdit:s},null,8,["loco"]))),128)):at("",!0)])}}}),vee=He({__name:"Roster",setup(e){const t=z(!1),n=z(!1),i=z(null);function r(s){console.log("handleEdit",s),i.value=s,n.value=!0}return(s,o)=>(G(),Ie(le,null,[f(Mr,{menu:"Roster"}),f(kr,{name:"slide"},{default:W(()=>[t.value?(G(),pe(DZ,{key:0,onClose:o[0]||(o[0]=a=>t.value=!1),layoutId:s.layoutId},null,8,["layoutId"])):n.value?(G(),pe(cee,{key:1,onClose:o[1]||(o[1]=a=>n.value=!1),layoutId:s.layoutId,loco:i.value},null,8,["layoutId","loco"])):!t.value&&!n.value?(G(),pe(hee,{key:2,onEdit:r,onAdd:o[3]||(o[3]=a=>t.value=!0),allowEdit:!n.value},{prepend:W(()=>[f(Im,{color:"pink",onClick:o[2]||(o[2]=a=>t.value=!0)})]),_:1},8,["allowEdit"])):at("",!0)]),_:1})],64))}});function kd(){const e=Dn("@DEJA/cloud/layoutId","betatrack"),{getDevice:t}=Nr(),{sendDccCommand:n}=Xl(),{sendDejaCommand:i}=Em(),r=V(()=>e.value?wi(Ct,`layouts/${e.value}/turnouts`):null);function s(){return Il(r)}async function o(u){const c=yn(Ct,`layouts/${e.value}/turnouts`,u),d=await gd(c);if(d.exists())return{...d.data(),id:d.id};console.error("No such document!")}async function a(u){console.log("switchTurnout SEND",u,u==null?void 0:u.id);try{const c=await t(u.device);console.log("device",c,c==null?void 0:c.type),(c==null?void 0:c.type)==="dcc-ex"?n({action:"turnout",payload:{turnoutId:u.turnoutIdx,state:!u.state}}):(c==null?void 0:c.type)==="deja-arduino"&&i({action:"turnouts",payload:{...u,id:u==null?void 0:u.id}})}catch(c){console.error("Error adding document: ",c)}}async function l(u,c){console.log("createTurnout",c);try{await zs(yn(Ct,`layouts/${e.value}/turnouts`,u),{...c,timestamp:br()});const d=await t(c.device);return console.log("device",d,d==null?void 0:d.type),(d==null?void 0:d.type)==="dcc-ex"&&n({action:"dcc",payload:`T ${c.turnoutIdx} SERVO ${c.turnoutIdx} ${c.straight} ${c.divergent} 2`}),!0}catch(d){console.error("Error adding throttle: ",d)}}return{getTurnouts:s,getTurnout:o,switchTurnout:a,setTurnout:l}}function mee(e){return rt({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M2.26428 4.93674C1.01354 4.93674 0 5.95018 0 7.20093c0 1.25074 1.01363 2.26428 2.26437 2.26428 1.05365 0 1.9393-.71975 2.1919-1.69462h10.3387c.98764 0 1.79128.80368 1.79128 1.79146 0 .98779-.80359 1.79156-1.79128 1.79156h-5.7309c-1.67246 0-3.03319 1.36067-3.03319 3.03318 0 1.67252 1.36063 3.03301 3.0332 3.03301h10.49429c.26987.9487 1.14197 1.64346 2.17735 1.64346 1.25074 0 2.26428-1.01344 2.26428-2.26419 0-1.25074-1.01354-2.26428-2.26428-2.26428-1.0353 0-1.9074.69469-2.17735 1.64328H9.06397c-.98777 0-1.79145-.80359-1.79145-1.79128 0-.98797.80358-1.79164 1.79146-1.79164h5.7309c1.67251 0 3.033-1.36063 3.033-3.0331 0-1.67246-1.36044-3.03319-3.033-3.03319H4.42718c-.2863-.92243-1.1464-1.59212-2.1629-1.59212Z"}}]})(e)}const gee=l1,AE=[{name:"light",icon:t4},{name:"led",icon:XZ},{name:"streetlight",icon:eee},{name:"relay",icon:mee},{name:"frog",icon:WZ},{name:"power",icon:jZ},{name:"pin",icon:n4},{name:"sound",icon:bJ},{name:"signal",icon:GZ},{name:"magic",icon:EJ}];function pee(){console.log("useEfxIcon");function e(n){if(!n)return;const i=AE.find(r=>r.name===n);return i?i.icon:gee}function t(){return AE}return{getIconComponent:e,getAllIcons:t}}const eu=()=>{const e=Dn("@DEJA/cloud/layoutId","betatrack"),{getDevices:t,getDevice:n}=Nr(),{getTurnout:i}=kd(),{sendDccCommand:r}=Xl(),{sendDejaCommand:s}=Em(),{getIconComponent:o}=pee(),a=V(()=>e.value?wi(Ct,`layouts/${e.value}/effects`):null);function l(){return Il(a)}async function u(k){const A=yn(Ct,`layouts/${e.value}/effects`,k),T=await gd(A);if(T.exists())return{...T.data(),id:T.id};console.error("No such document!")}const c=[{value:"light",label:"Light",icon:o("headlight"),color:"yellow",require:["device","pin"]},{value:"led",label:"LED",icon:o("led"),color:"lime",require:["device","pin"]},{value:"streetlight",label:"Street Light",icon:o("streetlight"),color:"yellow",require:["device","pin"]},{value:"relay",label:"Relay",icon:o("relay"),color:"indigo",require:["device","pin"]},{value:"frog",label:"Frog Juicer",icon:o("frog"),color:"green",require:["device","pin"]},{value:"power",label:"Power",icon:o("power"),color:"red",require:["device","pin"]},{value:"pin",label:"PIN",icon:o("pin"),color:"orange",require:["device","pin"]},{value:"sound",label:"Sound",icon:o("sound"),color:"cyan",require:["sound"]},{value:"macro",label:"Macro",icon:o("magic"),color:"purple",require:[""]}];function d(k){return c.find(A=>A.value===k)}const v=d("pin");async function m(k,A){console.log("setEfx",A);try{const T=k||_(`${A.device||"macro"}-${A.type}-${A.name}`);return await zs(yn(Ct,`layouts/${e.value}/effects`,T),{...A,timestamp:br()}),!0}catch(T){console.error("Error adding throttle: ",T)}}async function g(k){try{console.log("deleteEfx",k),await by(yn(Ct,`layouts/${e.value}/effects`,k))}catch(A){console.error("Error deleting document: ",A)}}async function p(k){console.log("dejaCloud runEffect",k,k==null?void 0:k.id);try{if((k==null?void 0:k.type)==="macro"){await y(k);return}const A=await n(k.device);console.log("device",A,A==null?void 0:A.type),(A==null?void 0:A.type)==="dcc-ex"?r({action:"output",payload:k}):(A==null?void 0:A.type)==="deja-arduino"&&s({action:"effects",payload:{...k,id:k==null?void 0:k.id}})}catch(A){console.error("Error adding document: ",A)}}async function y(k){try{console.log("dejaCloud runMacro",k,k==null?void 0:k.id);const A=await t(),T=A.value.find(U=>U.type==="dcc-ex");console.log("dccExDevice",T,A.value);const D=k==null?void 0:k[k.state?"on":"off"],R=D.filter(U=>U.type==="effect"),x=R.filter(U=>U.device!==T.id),w=R.filter(U=>U.device===T.id),b=D.filter(U=>U.type==="turnout"),C=b.filter(U=>U.device!==T.id),E=b.filter(U=>U.device===T.id);console.log("items",D,R,x,w,b,C,E),w.forEach(async U=>{const B=await u(U.id);r({action:"output",payload:{...B,state:k.state?U.state:!U.state}})}),E.forEach(async U=>{const B=await i(U.id);r({action:"turnout",payload:{turnoutId:B.turnoutIdx,state:k.state?U.state:!U.state}})});const I=x.map(async U=>({...await u(U.id),state:k.state?U.state:!U.state})),P=await Promise.all(I),F=C.map(async U=>({...await i(U.id),state:k.state?U.state:!U.state})),$=await Promise.all(F),j=[...new Set([...P,...$].map(U=>U.device))],K={};j.map(U=>{K[U]={effects:P.filter(B=>B.device===U),turnouts:$.filter(B=>B.device===U)}}),console.log("dejaEffects",K,j,P,$),s({action:"macro",payload:{macro:K,id:k==null?void 0:k.id}})}catch(A){console.error("Error adding document: ",A)}}function _(k){return k=k.replace(/^\s+|\s+$/g,""),k=k.toLowerCase(),k=k.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),k}return{setEfx:m,efxTypes:c,getEfxType:d,DEFAULT_TYPE:v,runEffect:p,getEffects:l,getEffect:u,deleteEfx:g}},yee="modulepreload",_ee=function(e){return"/"+e},PE={},bee=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=_ee(l),l in PE)return;PE[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":yee,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((v,m)=>{d.addEventListener("load",v),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function wee(e,{volume:t=1,playbackRate:n=1,soundEnabled:i=!0,interrupt:r=!1,autoplay:s=!1,onload:o,...a}={}){const l=z(null),u=z(!1),c=z(null),d=z(null);function v(){var _;typeof o=="function"&&o.call(this),c.value=(c.value||((_=d.value)==null?void 0:_.duration())||0)*1e3,s===!0&&(u.value=!0)}return Qt(async()=>{const _=await bee(()=>import("./howler-Bqxph9z3.js").then(k=>k.h),[]);l.value=_.default.Howl,d.value=new l.value({src:se(e),volume:se(t),rate:se(n),onload:v,...a})}),ye(()=>[e],()=>{l.value&&l.value&&d&&d.value&&(d.value=new l.value({src:se(e),volume:se(t),rate:se(n),onload:v,...a}))}),ye(()=>[se(t),se(n)],()=>{d.value&&(d.value.volume(se(t)),d.value.rate(se(n)))}),{play:_=>{typeof _>"u"&&(_={}),!(!d.value||!i&&!_.forceSoundEnabled)&&(r&&d.value.stop(),_.playbackRate&&d.value.rate(_.playbackRate),d.value.play(_.id),d.value.once("end",()=>{d.value&&d.value&&!d.value.playing()&&(u.value=!1)}),u.value=!0)},sound:d,isPlaying:u,duration:c,pause:_=>{d.value&&(d.value.pause(typeof _=="number"?_:void 0),u.value=!1)},stop:_=>{d.value&&(d.value.stop(typeof _=="number"?_:void 0),u.value=!1)}}}const VE=He({__name:"MacroAdd",props:{defaultState:String},emits:["add","close"],setup(e,{emit:t}){const n=t,{getEffects:i}=eu(),{getTurnouts:r}=kd(),s=i(),o=r(),a=z([]),l=z([]);function u(){console.log("handleOk",a.value,l.value),n("add",a.value,l.value)}return(c,d)=>{const v=Y("v-chip"),m=Y("v-chip-group"),g=Y("v-sheet"),p=Y("v-divider"),y=Y("v-btn"),_=Y("v-spacer"),k=Y("v-card");return G(),pe(k,{"min-width":"400","prepend-icon":"mdi-plus",title:"Add to Macro",color:"deep-purple"},{text:W(()=>[f(g,{class:"p-4 mb-4",color:"surface"},{default:W(()=>[d[3]||(d[3]=fe("h2",{class:"text-lg"},"Effects",-1)),f(m,{column:"",multiple:"",variant:"flat",modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=A=>a.value=A)},{default:W(()=>[(G(!0),Ie(le,null,At(se(s),A=>(G(),pe(v,{key:A.id,value:A,size:"small",color:"deep-purple",variant:"outlined",selected:""},{default:W(()=>[Le(ze(A.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),f(p,{class:"my-4 border-fuchsia-500"}),f(g,{class:"p-4 mb-4",color:"surface"},{default:W(()=>[d[4]||(d[4]=fe("h2",{class:"text-lg"},"Turnouts",-1)),f(m,{column:"",multiple:"",variant:"flat",modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=A=>l.value=A)},{default:W(()=>[(G(!0),Ie(le,null,At(se(o),A=>(G(),pe(v,{key:A.id,value:A,size:"small",color:"yellow",variant:"outlined",selected:""},{default:W(()=>[Le(ze(A.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),actions:W(()=>[f(y,{class:"ms-auto",text:"Cancel",variant:"outlined",color:"surface",onClick:d[2]||(d[2]=A=>c.$emit("close"))}),f(_),f(y,{class:"ms-auto",text:"Ok",variant:"flat",color:"surface",onClick:u})]),_:1})}}}),kee=He({__name:"MacroForm",props:{on:{},off:{}},emits:["change"],setup(e,{emit:t}){const n=t,i=e,r=z(!1),s=z(!1),o=z(i.on||[]),a=z(i.off||[]);function l(m){console.log("handleOnUpdate",m,o.value),o.value=o.value.filter(g=>g.id!==(m==null?void 0:m[0])),v()}function u(m){console.log("handleOffUpdate",m,a.value),a.value=a.value.filter(g=>g.id!==(m==null?void 0:m[0])),v()}function c(m,g){console.log("handleAddOn",m,g),o.value=o.value.concat(m.map(p=>({id:p.id,name:p.name,device:p.device,type:"effect",state:!0}))),o.value=o.value.concat(g.map(p=>({id:p.id,name:p.name,device:p.device,type:"turnout",state:!0}))),v(),r.value=!1}function d(m,g){console.log("handleAddOff",m,g),a.value=a.value.concat(m.map(p=>({id:p.id,name:p.name,device:p.device,type:"effect",state:!1}))),a.value=a.value.concat(g.map(p=>({id:p.id,name:p.name,device:p.device,type:"turnout",state:!1}))),v(),s.value=!1}function v(){n("change",{on:o.value,off:a.value})}return(m,g)=>{const p=Y("v-btn"),y=Y("v-icon"),_=Y("v-chip"),k=Y("v-chip-group"),A=Y("v-card-text"),T=Y("v-card"),D=Y("v-dialog");return G(),Ie(le,null,[f(T,{title:"ON",color:"green",variant:"tonal"},{prepend:W(()=>[f(p,{icon:"mdi-rocket-launch",color:"green-lighten-1"})]),append:W(()=>[f(p,{onClick:g[0]||(g[0]=R=>r.value=!0),icon:"mdi-plus",color:"purple"})]),default:W(()=>[f(A,null,{default:W(()=>[f(k,{column:"",multiple:"",color:"purple",variant:"flat","model-value":o.value},{default:W(()=>[(G(!0),Ie(le,null,At(o.value,R=>(G(),pe(_,{key:R.id,value:R.id,size:"small",color:"primary",variant:"outlined",selected:""},{prepend:W(()=>[f(y,{onClick:x=>R.state=!R.state,class:"mr-2",icon:R.type==="effect"?"mdi-rocket-launch":"mdi-directions-fork",color:R.state?"green":"red"},null,8,["onClick","icon","color"])]),append:W(()=>[f(y,{onClick:x=>l([R.id]),class:"ml-2",icon:"mdi-delete",color:"grey"},null,8,["onClick"])]),default:W(()=>[Le(" "+ze(R.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["model-value"])]),_:1})]),_:1}),f(T,{title:"OFF",color:"red",variant:"tonal"},{prepend:W(()=>[f(p,{icon:"mdi-rocket-launch",color:"red-lighten-1"})]),append:W(()=>[f(p,{onClick:g[1]||(g[1]=R=>s.value=!0),icon:"mdi-plus",color:"purple"})]),default:W(()=>[f(A,null,{default:W(()=>[f(k,{column:"",multiple:"",color:"purple",variant:"flat","model-value":a.value},{default:W(()=>[(G(!0),Ie(le,null,At(a.value,R=>(G(),pe(_,{key:R.id,value:R.id,size:"small",color:"primary",variant:"outlined","prepend-icon":R.type==="effect"?"mdi-rocket-launch":"mdi-directions-fork",selected:""},{prepend:W(()=>[f(y,{onClick:x=>R.state=!R.state,class:"mr-2",icon:R.type==="effect"?"mdi-rocket-launch":"mdi-directions-fork",color:R.state?"green":"red"},null,8,["onClick","icon","color"])]),append:W(()=>[f(y,{onClick:x=>u([R.id]),class:"ml-2",icon:"mdi-delete",color:"grey"},null,8,["onClick"])]),default:W(()=>[Le(" "+ze(R.name),1)]),_:2},1032,["value","prepend-icon"]))),128))]),_:1},8,["model-value"])]),_:1})]),_:1}),f(D,{modelValue:r.value,"onUpdate:modelValue":g[3]||(g[3]=R=>r.value=R),width:"auto"},{default:W(()=>[f(VE,{onClose:g[2]||(g[2]=R=>r.value=!1),onAdd:c,defaultState:"on"})]),_:1},8,["modelValue"]),f(D,{modelValue:s.value,"onUpdate:modelValue":g[5]||(g[5]=R=>s.value=R),width:"auto"},{default:W(()=>[f(VE,{onClose:g[4]||(g[4]=R=>s.value=!1),onAdd:d,defaultState:"off"})]),_:1},8,["modelValue"])],64)}}}),See={class:"flex flex-col"},Cee={class:"mt-4"},Eee={class:"flex flex-col justify-center items-center"},Iee={class:"mt-4"},Tee={key:2,class:"flex items-center"},xee={class:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-8"},Aee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pee={class:"grid grid-cols-2 gap-8 my-4"},Vee="dccex",Ree=He({__name:"EffectForm",props:{efx:{}},emits:["close"],setup(e,{emit:t}){var C,E,I,P,F,$,j,K;const n=e,i=t,{getDevices:r}=Nr(),{setEfx:s,efxTypes:o,getEfxType:a,DEFAULT_TYPE:l}=eu(),u=z(((C=n.efx)==null?void 0:C.device)||Vee),c=z(((E=n.efx)==null?void 0:E.name)||""),d=z(((I=n.efx)==null?void 0:I.pin)||""),v=z(((P=n.efx)==null?void 0:P.on)||[]),m=z(((F=n.efx)==null?void 0:F.off)||[]),g=z(""),p=z(null),y=z((($=n.efx)==null?void 0:$.type)||(l==null?void 0:l.value)),_=z((j=n.efx)!=null&&j.type?a((K=n.efx)==null?void 0:K.type):l),k=z(!1),A={required:[U=>!!U||"Required."]},T=r();ye(g,U=>{console.log("sound",U),p.value=new Audio(U)}),ye(y,U=>{console.log("efxType",U),_.value=a(U)});async function D(){var B,H,q,J;k.value=!0;const U={name:c.value,type:y.value};(B=_.value)!=null&&B.require.includes("device")&&(U.device=u.value),(H=_.value)!=null&&H.require.includes("pin")&&(U.pin=parseInt(d.value)),(q=_.value)!=null&&q.require.includes("sound")&&(U.sound=g.value),y.value==="macro"&&(U.on=v.value,U.off=m.value),await s((J=n.efx)==null?void 0:J.id,U),console.log(n.efx,U),k.value=!1,i("close")}function R({on:U,off:B}){console.log("handleMacro",U,B),v.value=U,m.value=B}const x=wee(g.value||"");function w(){var U;console.log("playSound",g.value,x),(U=p.value)==null||U.play()}function b(){var U;console.log("playSound",g.value),(U=p.value)==null||U.pause()}return(U,B)=>{const H=Y("v-divider"),q=Y("v-label"),J=Y("v-btn"),he=Y("v-btn-toggle"),_e=Y("v-text-field"),Ce=Y("v-form"),ie=mi("id");return G(),Ie(le,null,[f(Ce,{"validate-on":"submit lazy",onSubmit:Ho(D,["prevent"])},{default:W(()=>{var be,xe,Oe,Re,me,Be;return[f(H,{class:"my-4 border-fuchsia-500"}),f(q,{class:"m-2 text-fuchsia-400 text-2xl"},{default:W(()=>[Le(ze(U.efx?"Edit":"Add")+" Effect",1)]),_:1}),f(H,{class:"my-4 border-fuchsia-500"}),f(he,{modelValue:y.value,"onUpdate:modelValue":B[0]||(B[0]=L=>y.value=L),divided:"",class:"flex-wrap h-auto",size:"x-large"},{default:W(()=>[(G(!0),Ie(le,null,At(se(o),L=>(G(),pe(J,{value:L.value,key:L.value,class:"min-h-48 min-w-48 border",color:"purple"},{default:W(()=>[fe("div",See,[(G(),pe(Ji(L.icon),{color:L.color,class:"w-16 h-16 stroke-none"},null,8,["color"])),fe("div",Cee,ze(L.label),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),f(H,{class:"my-4 border-fuchsia-500"}),(xe=(be=_.value)==null?void 0:be.require)!=null&&xe.includes("device")?(G(),Ie(le,{key:0},[f(q,{class:"m-2"},{default:W(()=>B[6]||(B[6]=[Le("Device")])),_:1}),f(H,{class:"my-4 border-fuchsia-500"}),f(he,{modelValue:u.value,"onUpdate:modelValue":B[1]||(B[1]=L=>u.value=L),divided:"",class:"flex-wrap h-auto",size:"x-large"},{default:W(()=>[(G(!0),Ie(le,null,At(se(T),L=>(G(),pe(J,{value:L.id,key:L.id,class:"min-h-48 min-w-48 border",color:"purple"},{default:W(()=>[fe("div",Eee,[(G(),pe(Ji(L.icon),{class:"w-16 h-16 stroke-none"})),fe("div",Iee,ze(L.id),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])],64)):at("",!0),f(H,{class:"my-4 border-fuchsia-500"}),(Re=(Oe=_.value)==null?void 0:Oe.require)!=null&&Re.includes("pin")?(G(),pe(_e,{key:1,modelValue:d.value,"onUpdate:modelValue":B[2]||(B[2]=L=>d.value=L),label:"Pin",variant:"outlined","min-width":"100","max-width":"200"},{append:W(()=>{var L,N,X;return[(L=_.value)!=null&&L.icon?(G(),pe(Ji((N=_.value)==null?void 0:N.icon),{key:0,color:(X=_.value)==null?void 0:X.color,class:"w-16 h-16 stoke-none"},null,8,["color"])):at("",!0)]}),_:1},8,["modelValue"])):(Be=(me=_.value)==null?void 0:me.require)!=null&&Be.includes("sound")?(G(),Ie("div",Tee,[f(_e,{modelValue:g.value,"onUpdate:modelValue":B[3]||(B[3]=L=>g.value=L),label:"Sound URL",variant:"outlined","min-width":"300"},null,8,["modelValue"]),fe("div",xee,[xt(f(J,{onClick:w,icon:"mdi-play"},null,512),[[ie,g.value]]),xt(f(J,{onClick:b,icon:"mdi-stop"},null,512),[[ie,g.value]])])])):y.value==="macro"?(G(),pe(kee,{key:3,onChange:R,on:v.value,off:m.value},null,8,["on","off"])):at("",!0),f(H,{class:"my-4 border-fuchsia-500"}),fe("div",Aee,[f(_e,{modelValue:c.value,"onUpdate:modelValue":B[4]||(B[4]=L=>c.value=L),label:"Name",variant:"outlined",rules:A.required},null,8,["modelValue","rules"])]),f(H,{class:"my-4"}),fe("div",Pee,[f(J,{class:"mt-2",text:"Close",type:"button",variant:"tonal",onClick:B[5]||(B[5]=L=>U.$emit("close")),block:""}),f(J,{loading:k.value,class:"mt-2",text:"Submit",type:"submit",color:"purple",block:""},null,8,["loading"])])]}),_:1}),f(tr,{json:U.efx,label:"Efx"},null,8,["json"]),f(tr,{json:_.value,label:"efxObj"},null,8,["json"]),f(tr,{json:se(o),label:"efxTypes"},null,8,["json"])],64)}}}),Dee={class:"text-sm"},Oee={class:"grid grid-cols-2 gap-2"},Lee={class:"flex flex-col items-center justify-center"},Mee=He({__name:"EffectListItem",props:{efx:Object,efxId:String},setup(e){const{colors:t,DEFAULT_COLOR:n}=Jl(),{efxTypes:i,runEffect:r,deleteEfx:s}=eu(),o=e;z(!1);const a=z(!1),l=V(()=>i.find(d=>{var v;return d.value===((v=o==null?void 0:o.efx)==null?void 0:v.type)})),u=V(()=>{var d;return t[((d=l==null?void 0:l.value)==null?void 0:d.color)||n]});async function c(d){var v,m,g;console.log("handleEfx",o.efx,(v=o.efx)==null?void 0:v.id,d,(m=d==null?void 0:d.target)==null?void 0:m.checked),o!=null&&o.efx&&(o!=null&&o.efxId)&&await r({...o.efx,id:o.efxId,state:(g=d==null?void 0:d.target)==null?void 0:g.checked})}return(d,v)=>{const m=Y("v-avatar"),g=Y("v-chip"),p=Y("v-chip-group"),y=Y("v-icon"),_=Y("v-switch"),k=Y("v-card-text"),A=Y("v-spacer"),T=Y("v-btn"),D=Y("v-card-actions"),R=Y("v-card");return G(),pe(R,{class:un(["mx-auto w-full h-full justify-between flex flex-col",u.value.border]),color:u.value.value,variant:"outlined",density:"compact"},{title:W(()=>{var x;return[fe("span",Dee,ze((x=e.efx)==null?void 0:x.name),1)]}),append:W(()=>[f(m,{color:u.value.value},{default:W(()=>{var x;return[Le(ze((x=e.efx)==null?void 0:x.pin),1)]}),_:1},8,["color"])]),default:W(()=>[f(k,{class:un(["min-h-8 flex border-t-2 py-2 justify-space-between",u.value.border]),variant:"flat"},{default:W(()=>{var x;return[fe("div",Oee,[f(p,{column:""},{default:W(()=>[f(g,{size:"small",class:"",color:u.value.value},{default:W(()=>[Le(ze(e.efxId),1)]),_:1},8,["color"]),f(g,{size:"small",class:"",color:u.value.value},{default:W(()=>{var w;return[Le(ze(((w=l.value)==null?void 0:w.label)||"Effect"),1)]}),_:1},8,["color"]),f(g,{size:"small",class:"",color:u.value.value,"prepend-icon":"mdi-memory"},{default:W(()=>{var w;return[Le(ze((w=e.efx)==null?void 0:w.device),1)]}),_:1},8,["color"])]),_:1}),fe("div",Lee,[f(y,{icon:((x=l.value)==null?void 0:x.icon)||"mdi-help",class:un(["text-5xl m-3",u.value.text])},null,8,["icon","class"]),f(_,{"hide-details":"",color:u.value.value,onClick:c},null,8,["color"])])])]}),_:1},8,["class"]),f(A),f(D,null,{default:W(()=>[a.value?(G(),Ie(le,{key:1},[f(T,{class:"ma-2",text:"Cancel",variant:"outlined",size:"small",onClick:v[1]||(v[1]=x=>a.value=!1)}),f(T,{class:"ma-2",text:"Confirm",variant:"tonal",size:"small","prepend-icon":"mdi-delete",onClick:v[2]||(v[2]=x=>{var w;return se(s)((w=e.efx)==null?void 0:w.id)})})],64)):(G(),pe(T,{key:0,class:"ma-2",icon:"mdi-delete",variant:"tonal",size:"small",onClick:v[0]||(v[0]=x=>a.value=!0)})),f(A),f(T,{text:"Edit",variant:"tonal","prepend-icon":"mdi-pencil",size:"small",onClick:v[3]||(v[3]=x=>d.$emit("edit",e.efx))})]),_:1})]),_:1},8,["class","color"])}}}),Nee=He({__name:"EffectsList",emits:["edit"],setup(e,{emit:t}){const n=t,{getEffects:i}=eu(),r=i();function s(o){console.log("handleEdit",o),n("edit",o)}return(o,a)=>{const l=Y("v-col"),u=Y("v-row"),c=Y("v-container");return G(),pe(c,null,{default:W(()=>[f(u,null,{default:W(()=>[f(l,{cols:"12",xs:"12",sm:"6",lg:"4"},{default:W(()=>[Vo(o.$slots,"prepend")]),_:3}),(G(!0),Ie(le,null,At(se(r),d=>(G(),pe(l,{key:d.id,cols:"12",xs:"12",sm:"6",lg:"4"},{default:W(()=>[f(Mee,{efx:d,efxId:d.id,onEdit:s},null,8,["efx","efxId"])]),_:2},1024))),128))]),_:3})]),_:3})}}}),Fee=He({__name:"Effects",setup(e){const t=z(!1),n=z(null);function i(s){console.log("handleEdit",s),n.value=s,t.value=!0}function r(){t.value=!1,n.value=null}return(s,o)=>(G(),Ie(le,null,[f(Mr,{menu:"Effects"}),f(kr,{name:"slide"},{default:W(()=>[t.value?xt((G(),pe(Ree,{key:0,onClose:r,efx:n.value},null,8,["efx"])),[[xi,t.value]]):(G(),pe(Nee,{key:1,onEdit:i},{prepend:W(()=>[f(Im,{onClick:o[0]||(o[0]=a=>t.value=!0),color:"purple"})]),_:1}))]),_:1})],64))}}),Bee={class:"grid grid-cols-2 gap-2"},$ee={class:"flex flex-col items-center justify-center"},Uee=He({__name:"TurnoutListItem",props:{turnout:Object,turnoutId:String},emits:["edit"],setup(e){var a;const{switchTurnout:t}=kd(),{runEffect:n,getEffect:i}=eu(),r=e,s=z(((a=r.turnout)==null?void 0:a.state)||!0);async function o(){var l;await t({...r.turnout,id:r.turnoutId,state:s.value}),(l=r.turnout)!=null&&l.effectId&&LX(async()=>{var c;const u=await i((c=r.turnout)==null?void 0:c.effectId);await n({...u,state:s.value})},2e3)}return(l,u)=>{const c=Y("v-card-title"),d=Y("v-card-item"),v=Y("v-chip"),m=Y("v-chip-group"),g=Y("v-switch"),p=Y("v-card-text"),y=Y("v-spacer"),_=Y("v-btn"),k=Y("v-card-actions"),A=Y("v-card");return G(),pe(A,{class:"mx-auto w-full h-full justify-between flex flex-col bg-zinc-500 bg-opacity-20",variant:"outlined",density:"compact",color:"yellow"},{default:W(()=>[f(d,{class:"font-weight-black bg-yellow-300 text-gray-900"},{default:W(()=>[f(c,{class:"font-weight-black"},{default:W(()=>{var T;return[Le(ze((T=e.turnout)==null?void 0:T.name),1)]}),_:1})]),_:1}),f(p,{class:"min-h-8 flex py-2 justify-space-between bg-blend-lighten bg-opacity-30",variant:""},{default:W(()=>[fe("div",Bee,[f(m,{column:""},{default:W(()=>{var T;return[f(v,{size:"small",class:"",icon:"mdi-directions-fork"},{default:W(()=>{var D;return[Le(ze(((D=e.turnout)==null?void 0:D.type)||"Effect"),1)]}),_:1}),f(v,{size:"small",class:"","prepend-icon":"mdi-memory"},{default:W(()=>{var D;return[Le(ze((D=e.turnout)==null?void 0:D.device),1)]}),_:1}),(T=e.turnout)!=null&&T.effectId?(G(),pe(v,{key:0,size:"small",class:"","prepend-icon":"mdi-rocket-launch"},{default:W(()=>{var D;return[Le(ze((D=e.turnout)==null?void 0:D.effectId),1)]}),_:1})):at("",!0)]}),_:1}),fe("div",$ee,[f(g,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=T=>s.value=T),onChange:o,color:"yellow","hide-details":""},null,8,["modelValue"])])])]),_:1}),f(y),f(k,null,{default:W(()=>[f(_,{class:"ma-2",icon:"mdi-delete",variant:"tonal",size:"small",disabled:""}),f(y),f(_,{text:"Edit",variant:"tonal","prepend-icon":"mdi-pencil",size:"small",onClick:u[1]||(u[1]=T=>l.$emit("edit",e.turnout))})]),_:1})]),_:1})}}}),Hee=He({__name:"TurnoutsList",emits:["edit"],setup(e,{emit:t}){const n=t,{getTurnouts:i}=kd(),r=i();function s(o){console.log("handleEdit",o),n("edit",o)}return(o,a)=>{const l=Y("v-col"),u=Y("v-row"),c=Y("v-container");return G(),Ie(le,null,[f(c,null,{default:W(()=>[f(u,null,{default:W(()=>[f(l,{cols:"12",xs:"12",sm:"6",lg:"4"},{default:W(()=>[Vo(o.$slots,"prepend")]),_:3}),(G(!0),Ie(le,null,At(se(r),d=>(G(),pe(l,{key:d.id,cols:"12",xs:"12",sm:"6",lg:"4"},{default:W(()=>[f(Uee,{turnout:d,turnoutId:d.id,onEdit:s},null,8,["turnout","turnoutId"])]),_:2},1024))),128))]),_:3})]),_:3}),f(tr,{json:se(r),label:"Turnouts"},null,8,["json"])],64)}}}),jee={class:"flex flex-col"},zee={class:"mt-4"},Wee={class:"flex flex-col justify-center items-center"},qee={class:"mt-4"},Gee={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Kee={class:"grid grid-cols-2 gap-8 my-4"},RE="dccex",DE="kato",Yee=He({__name:"TurnoutForm",props:{turnout:{}},emits:["close"],setup(e,{emit:t}){var E,I,P,F,$,j,K,U;const n=e,i=t,{getEffects:r}=eu(),{getDevices:s}=Nr(),{setTurnout:o}=kd(),a=s(),l=r(),u=z(((E=n.turnout)==null?void 0:E.id)||""),c=z(((I=n.turnout)==null?void 0:I.name)||""),d=z(((P=n.turnout)==null?void 0:P.desc)||""),v=z(((F=n.turnout)==null?void 0:F.turnoutIdx)||""),m=z((($=n.turnout)==null?void 0:$.effectId)||""),g=z(((j=n.turnout)==null?void 0:j.device)||RE),p=z(((K=n.turnout)==null?void 0:K.straight)||""),y=z(((U=n.turnout)==null?void 0:U.divergent)||""),_=z(DE),k=z(!1),A={required:[B=>!!B||"Required."]},T=l==null?void 0:l.value.map(B=>({title:`${B.name} [${B.id}]`,value:B.id}));ye(c,D),ye(g,D),ye(v,D);function D(){u.value=c.value&&g.value&&v.value?`${b(c.value)}-${b(v.value)}-${b(g.value)}`:""}async function R(B){var q,J;if(k.value=!0,(await B).valid){const he={device:g.value,name:c.value,desc:d.value,turnoutIdx:v.value,effectId:((q=m.value)==null?void 0:q.value)||null,type:_.value,state:!1,straight:p.value,divergent:y.value};await o(((J=n.turnout)==null?void 0:J.id)||u.value,he),console.log(he),k.value=!1,w(),i("close")}else w(),k.value=!1}function x(){w(),i("close")}function w(){u.value="",c.value="",d.value="",v.value="",m.value="",g.value=RE,p.value="",y.value="",_.value=DE}function b(B){return B=B.replace(/^\s+|\s+$/g,""),B=B.toLowerCase(),B=B.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),B}const C=["kato","servo"];return(B,H)=>{const q=Y("v-divider"),J=Y("v-label"),he=Y("v-btn"),_e=Y("v-btn-toggle"),Ce=Y("v-text-field"),ie=Y("v-combobox"),be=Y("v-form");return G(),pe(be,{"validate-on":"submit lazy",onSubmit:Ho(R,["prevent"])},{default:W(()=>{var xe;return[f(q,{class:"my-4 border-yellow-500"}),f(J,{class:"m-2 text-yellow-400 text-2xl"},{default:W(()=>[Le(ze(n.turnout?"Edit":"Add")+" Turnout",1)]),_:1}),f(q,{class:"my-4 border-yellow-500"}),f(_e,{modelValue:_.value,"onUpdate:modelValue":H[0]||(H[0]=Oe=>_.value=Oe),divided:"",class:"flex-wrap h-auto",size:"x-large",mandatory:""},{default:W(()=>[(G(),Ie(le,null,At(C,Oe=>f(he,{value:Oe,key:Oe,class:"min-h-48 min-w-48 border",color:"yellow"},{default:W(()=>[fe("div",jee,[fe("div",zee,ze(Oe),1)])]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),f(q,{class:"my-4 border-yellow-500"}),f(J,{class:"m-2"},{default:W(()=>H[9]||(H[9]=[Le("Device")])),_:1}),f(q,{class:"my-4 border-yellow-500"}),f(_e,{modelValue:g.value,"onUpdate:modelValue":H[1]||(H[1]=Oe=>g.value=Oe),divided:"",class:"flex-wrap h-auto",size:"x-large"},{default:W(()=>[(G(!0),Ie(le,null,At(se(a),Oe=>(G(),pe(he,{value:Oe.id,key:Oe.id,class:"min-h-48 min-w-48 border",color:"yellow"},{default:W(()=>[fe("div",Wee,[f(se(qD),{class:"w-16 h-16 stroke-none"}),fe("div",qee,ze(Oe.id),1)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),f(q,{class:"my-4"}),fe("div",Gee,[f(Ce,{modelValue:c.value,"onUpdate:modelValue":H[2]||(H[2]=Oe=>c.value=Oe),label:"Name",variant:"outlined",color:"yellow",rules:A.required},null,8,["modelValue","rules"]),f(Ce,{modelValue:v.value,"onUpdate:modelValue":H[3]||(H[3]=Oe=>v.value=Oe),label:"Index",variant:"outlined","min-width":"100","max-width":"200",color:"yellow",rules:A.required},null,8,["modelValue","rules"]),f(Ce,{modelValue:d.value,"onUpdate:modelValue":H[4]||(H[4]=Oe=>d.value=Oe),label:"Description",variant:"outlined",color:"yellow"},null,8,["modelValue"]),f(Ce,{modelValue:u.value,"onUpdate:modelValue":H[5]||(H[5]=Oe=>u.value=Oe),label:"ID",variant:"outlined",color:"yellow",rules:A.required,disabled:!!((xe=n.turnout)!=null&&xe.id)},null,8,["modelValue","rules","disabled"]),f(Ce,{modelValue:p.value,"onUpdate:modelValue":H[6]||(H[6]=Oe=>p.value=Oe),label:"Straight",variant:"outlined","min-width":"100","max-width":"200",color:"yellow",rules:A.required},null,8,["modelValue","rules"]),f(Ce,{modelValue:y.value,"onUpdate:modelValue":H[7]||(H[7]=Oe=>y.value=Oe),label:"Divergent",variant:"outlined","min-width":"100","max-width":"200",color:"yellow",rules:A.required},null,8,["modelValue","rules"]),f(ie,{class:"col-span-2",modelValue:m.value,"onUpdate:modelValue":H[8]||(H[8]=Oe=>m.value=Oe),label:"Effect",variant:"outlined",items:se(T),clearable:""},null,8,["modelValue","items"])]),f(q,{class:"my-4"}),fe("div",Kee,[f(he,{class:"mt-2",text:"Close",type:"button",variant:"tonal",onClick:x,block:""}),f(he,{loading:k.value,class:"mt-2",text:"Submit",type:"submit",color:"yellow",block:""},null,8,["loading"])])]}),_:1})}}}),Qee=He({__name:"Turnouts",setup(e){const t=z(!1),n=z(null);function i(s){console.log("handleEdit",s),n.value=s,t.value=!0}function r(){t.value=!1,n.value=null}return(s,o)=>(G(),Ie(le,null,[f(Mr,{menu:"Turnouts"}),t.value?xt((G(),pe(Yee,{key:0,onClose:r,turnout:n.value},null,8,["turnout"])),[[xi,t.value]]):(G(),pe(Hee,{key:1,onEdit:i},{prepend:W(()=>[f(Im,{onClick:o[0]||(o[0]=a=>t.value=!0),color:"yellow"})]),_:1}))],64))}}),Xee=He({__name:"RoutesList",setup(e){return(t,n)=>(G(),Ie(le,null,[f(Mr,{menu:"Routes"}),n[0]||(n[0]=hv('<div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-96 mb-4"></div><div class="grid grid-cols-2 gap-4"><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div></div>',2))],64))}}),Jee=He({__name:"SignalList",setup(e){return(t,n)=>(G(),Ie(le,null,[f(Mr,{menu:"Signals"}),n[0]||(n[0]=hv('<div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-96 mb-4"></div><div class="grid grid-cols-2 gap-4"><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div></div>',2))],64))}}),OE=He({__name:"Settings",setup(e){return(t,n)=>(G(),Ie(le,null,[f(Mr,{menu:"Settings"}),n[0]||(n[0]=hv('<div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-96 mb-4"></div><div class="grid grid-cols-2 gap-4"><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div><div class="border-2 border-dashed rounded-lg border-gray-300 dark:border-gray-600 h-48 md:h-72"></div></div>',2))],64))}}),Zee=He({__name:"UserProfile",setup(e){return(t,n)=>(G(),pe(Mr,{label:"User Profile",color:"red",icon:se(mJ)},null,8,["icon"]))}}),ete=He({__name:"ToggleSidebar",setup(e){return(t,n)=>{const i=Y("v-app-bar-nav-icon");return G(),pe(i,{onClick:n[0]||(n[0]=r=>t.$emit("toggle")),"aria-controls":"drawer-navigation",class:"lg:hidden p-2 mr-2 text-gray-600 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100 focus:bg-gray-100 dark:focus:bg-gray-700 focus:ring-2 focus:ring-gray-100 dark:focus:ring-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"})}}}),tte=He({__name:"ToggleSearch",setup(e){return(t,n)=>(G(),Ie("button",{type:"button",onClick:n[0]||(n[0]=i=>t.$emit("toggle")),"aria-controls":"drawer-navigation",class:"p-2 mr-1 text-gray-500 rounded-lg md:hidden hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"},[n[1]||(n[1]=fe("span",{class:"sr-only"},"Toggle search",-1)),f(se(i4),{"aria-hidden":"true",class:"w-6 h-6"})]))}}),nte=He({__name:"Header",props:{layoutId:String},setup(e){return(t,n)=>{const i=Y("v-spacer"),r=Y("v-app-bar");return G(),pe(r,{class:"px-3"},{default:W(()=>[f(ete,{onToggle:n[0]||(n[0]=s=>t.$emit("toggle"))}),Vo(t.$slots,"title",{},()=>[f(zD)]),Vo(t.$slots,"search"),f(i),f(tte,{onToggle:n[1]||(n[1]=s=>t.$emit("toggle"))}),Vo(t.$slots,"menu")]),_:3})}}}),ite={class:"hidden overflow-hidden z-50 my-4 max-w-sm text-base list-none bg-white rounded divide-y divide-gray-100 shadow-lg dark:bg-gray-700 dark:divide-gray-600 rounded-xl",id:"apps-dropdown"},rte={class:"grid grid-cols-3 gap-4 p-4"},ste=["onClick"],ote={class:"text-sm"},ate=He({__name:"AppMenu",setup(e){const{menu:t}=o1();return(n,i)=>(G(),Ie(le,null,[i[2]||(i[2]=fe("button",{type:"button","data-dropdown-toggle":"apps-dropdown",class:"p-2 text-gray-500 rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"},[fe("span",{class:"sr-only"},"View notifications"),fe("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[fe("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})])],-1)),fe("div",ite,[i[1]||(i[1]=fe("div",{class:"block py-2 px-4 text-base font-medium text-center text-gray-700 bg-gray-50 dark:bg-gray-600 dark:text-gray-300"}," Apps ",-1)),fe("div",rte,[(G(!0),Ie(le,null,At(se(t),r=>(G(),Ie("button",{key:r.label,class:un(["block p-4 text-center rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 group",`text-${r.color}-500 dark:text-${r.color}-400`]),onClick:s=>n.$emit("menu",r.label)},[(G(),pe(Ji(r.icon),{class:un([`text-${r.color}-500 dark:text-${r.color}-400`,"mx-auto mb-1 w-7 h-7 text-gray-500 dark:text-gray-400 stroke-none"])},null,8,["class"])),fe("div",ote,ze(r.label),1)],10,ste))),128)),i[0]||(i[0]=fe("a",{href:"#",class:"block p-4 text-center rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 group"},[fe("svg",{"aria-hidden":"true",class:"mx-auto mb-1 w-7 h-7 text-gray-400 group-hover:text-gray-500 dark:text-gray-400 dark:group-hover:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[fe("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})]),fe("div",{class:"text-sm text-gray-900 dark:text-white"}," Logout ")],-1))])])],64))}}),lte={type:"button",class:"flex mx-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600",id:"user-menu-button","aria-expanded":"false","data-dropdown-toggle":"user-dropdown"},ute=["src"],cte={class:"hidden z-50 my-4 w-56 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600 rounded-xl",id:"user-dropdown"},dte={class:"py-3 px-4"},fte={class:"block text-sm font-semibold text-gray-900 dark:text-white"},hte={class:"block text-sm text-gray-900 truncate dark:text-white"},vte={class:"py-1 text-gray-700 dark:text-gray-300","aria-labelledby":"user-dropdown"},mte=He({__name:"UserProfile",setup(e){const t=jl();return(n,i)=>{var r,s,o;return G(),Ie(le,null,[fe("button",lte,[i[0]||(i[0]=fe("span",{class:"sr-only"},"Open user menu",-1)),fe("img",{class:"w-8 h-8 rounded-full",src:(r=se(t))==null?void 0:r.photoURL,alt:"user photo"},null,8,ute)]),fe("div",cte,[fe("div",dte,[fe("span",fte,ze((s=se(t))==null?void 0:s.displayName),1),fe("span",hte,ze((o=se(t))==null?void 0:o.email),1)]),fe("ul",vte,[fe("li",null,[f(ZD)])])])],64)}}}),gte={action:"#",method:"GET",class:"md:pl-2"},pte={class:"relative w-full md:w-32 lg:w-48"},yte={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},LE=He({__name:"Search",setup(e){return(t,n)=>(G(),Ie("form",gte,[n[1]||(n[1]=fe("label",{for:"topbar-search",class:"sr-only"},"Search",-1)),fe("div",pte,[fe("div",yte,[f(se(i4),{class:"w-5 h-5 text-gray-500 dark:text-gray-400"})]),n[0]||(n[0]=fe("input",{type:"text",name:"email",id:"topbar-search",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",disabled:""},null,-1))])]))}}),_te=He({__name:"Menu",props:{view:String},setup(e){const{menu:t}=o1(),{colors:n}=Jl();return console.log("colors",n),(i,r)=>{const s=Y("v-list-item");return G(!0),Ie(le,null,At(se(t),o=>{var a;return G(),pe(s,{key:o.label,title:o.label,class:un(`${(a=se(n)[o.color])==null?void 0:a.text}`),active:e.view===o.label,onClick:l=>i.$emit("change",o.label),link:""},{prepend:W(()=>[(G(),pe(Ji(o.icon),{class:un([`text-${o.color}-500 dark:text-${o.color}-400`,"w-6 h-6 stroke-none mr-4"])},null,8,["class"]))]),_:2},1032,["title","class","active","onClick"])}),128)}}}),bte={key:0,class:"ml-2 relative flex h-3 w-3"},wte={key:1,class:"ml-2 relative flex h-3 w-3"},kte={class:"hidden lg:flex"},Ste=He({__name:"DeviceStatus",setup(e){const{getDevices:t}=Nr(),n=t();return(i,r)=>{const s=Y("v-chip");return G(!0),Ie(le,null,At(se(n),o=>(G(),pe(s,{key:o.id,size:"small",class:"ma-1","prepend-icon":o.type==="dcc-ex"?"mdi-memory":"mdi-usb",color:o!=null&&o.isConnected?"green":"red"},{append:W(()=>[o!=null&&o.isConnected?(G(),Ie("span",bte,r[0]||(r[0]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-green-600 animate-ping opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-green-600"},null,-1)]))):(G(),Ie("span",wte,r[1]||(r[1]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-red-600 animate-bounce opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-red-600"},null,-1)])))]),default:W(()=>[fe("span",kte,ze((o==null?void 0:o.id)||"Device"),1)]),_:2},1032,["prepend-icon","color"]))),128)}}}),Cte={key:0,class:"ml-2 relative flex h-3 w-3"},Ete={key:1,class:"ml-2 relative flex h-3 w-3"},Ite=He({__name:"DCCLogStatus",setup(e){const t=Dn("@DEJA/pref/ws-logging",!1);return(n,i)=>{const r=Y("v-chip"),s=Y("v-btn"),o=Y("v-sheet"),a=Y("v-dialog");return G(),pe(a,null,{activator:W(({props:l})=>[f(r,oe(l,{size:"small",class:"ma-1",color:se(t)?"green":"red"}),{append:W(()=>[se(t)?(G(),Ie("span",Cte,i[0]||(i[0]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-green-600 animate-ping opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-green-600"},null,-1)]))):(G(),Ie("span",Ete,i[1]||(i[1]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-red-600 animate-bounce opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-red-600"},null,-1)])))]),default:W(()=>i[2]||(i[2]=[fe("span",{class:"hidden lg:flex"},"log",-1)])),_:2},1040,["color"])]),default:W(({isActive:l})=>[f(o,{class:"p-4"},{default:W(()=>[f(e4),f(s,{text:"Close Dialog",color:"red",onClick:u=>l.value=!1},null,8,["onClick"])]),_:2},1024)]),_:1})}}}),Tte=He({__name:"AddLayout",setup(e){const{createLayout:t}=Nr(),n=z(!1),i=z(""),r=z("");async function s(){console.log("handleAdd",i,r),await t(r.value,{name:i.value,layoutId:r.value})}return(o,a)=>{const l=Y("v-text-field"),u=Y("v-card-text"),c=Y("v-btn"),d=Y("v-spacer"),v=Y("v-card-actions"),m=Y("v-card"),g=Y("v-form");return n.value?(G(),pe(g,{key:0},{default:W(()=>[f(m,{title:"New Layout",color:"orange",variant:"tonal"},{default:W(()=>[f(u,null,{default:W(()=>[f(l,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=p=>i.value=p),label:"Layout Name",variant:"outlined"},null,8,["modelValue"]),f(l,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=p=>r.value=p),label:"Layout ID",variant:"outlined"},null,8,["modelValue"])]),_:1}),f(v,null,{default:W(()=>[f(c,{onClick:a[2]||(a[2]=p=>n.value=!1),color:"orange",variant:"outlined"},{default:W(()=>a[4]||(a[4]=[Le("Cancel")])),_:1}),f(d),f(c,{onClick:s,color:"orange",variant:"outlined"},{default:W(()=>a[5]||(a[5]=[Le("Add")])),_:1})]),_:1})]),_:1})]),_:1})):(G(),pe(c,{key:1,onClick:a[3]||(a[3]=p=>n.value=!n.value),color:"orange",variant:"outlined",class:"m-4"},{default:W(()=>a[6]||(a[6]=[Le("Add Layout")])),_:1}))}}}),xte=He({__name:"SelectLayout",props:{layoutId:String},emits:["selected","clear"],setup(e,{emit:t}){const{getLayouts:n,getLayout:i}=Nr(),r=t,s=e,o=n();i(s.layoutId);const a=z(s.layoutId);console.log("layouts",o,a);async function l(u){console.log("handleLayoutSelect",u.value,u),r("selected",u)}return(u,c)=>{const d=Y("v-chip"),v=Y("v-btn"),m=Y("v-card-text"),g=Y("v-card");return G(),pe(g,{title:"Select Layout",color:"orange",variant:"tonal"},{default:W(()=>[f(m,null,{default:W(()=>[(G(!0),Ie(le,null,At(se(o),p=>(G(),pe(v,{key:p.layoutId,variant:"outlined",color:"primary",class:"m-1",onClick:y=>l(p.layoutId)},{append:W(()=>[f(d,{size:"small",variant:"outlined",class:"m-1"},{default:W(()=>[Le(ze(p.layoutId),1)]),_:2},1024)]),default:W(()=>[Le(" "+ze(p.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})}}}),Ate={key:0,class:"ml-2 relative flex h-3 w-3"},Pte={key:1,class:"ml-2 relative flex h-3 w-3"},Vte={class:"hidden lg:flex"},Rte=He({__name:"LayoutStatus",setup(e){const t=Dn("@DEJA/cloud/layoutId","betatrack");function n(i){console.log("handleSelect",i),t.value=i}return(i,r)=>{const s=Y("v-chip"),o=Y("v-divider"),a=Y("v-btn"),l=Y("v-sheet"),u=Y("v-dialog");return G(),pe(u,null,{activator:W(({props:c})=>[f(s,oe(c,{size:"small",class:"ma-1","prepend-icon":"mdi-home",color:se(t)?"green":"red"}),{append:W(()=>[se(t)?(G(),Ie("span",Ate,r[0]||(r[0]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-green-600 animate-ping opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-green-600"},null,-1)]))):(G(),Ie("span",Pte,r[1]||(r[1]=[fe("span",{class:"absolute inline-flex h-full w-full rounded-full bg-red-600 animate-bounce opacity-75"},null,-1),fe("span",{class:"relative inline-flex h-full w-full rounded-full bg-red-600"},null,-1)])))]),default:W(()=>[fe("span",Vte,ze(se(t)),1)]),_:2},1040,["color"])]),default:W(({isActive:c})=>[f(l,{class:"p-4 relative"},{default:W(()=>[f(xte,{layoutId:se(t),onSelected:n},null,8,["layoutId"]),f(o,{class:"my-4"}),f(Tte),f(a,{icon:"mdi-close",color:"red",class:"absolute top-2 right-2",onClick:d=>c.value=!1},null,8,["onClick"])]),_:2},1024)]),_:1})}}}),Dte=He({__name:"App",setup(e){const t=Dn("@DEJA/cloud/layoutId","betatrack"),n=Dn("@DEJA/pref/ws-logging",!1),i=jl(),r=Dn("@DEJA/cloud/view","Effects"),s=z("dark"),o=z(null),a=z(null);function l(u){console.log("handleMenu",u),r.value=u}return(u,c)=>{const d=Y("v-spacer"),v=Y("v-navigation-drawer"),m=Y("v-container"),g=Y("v-main"),p=Y("v-app"),y=Y("v-responsive");return G(),pe(y,{class:"border rounded"},{default:W(()=>[se(i)?(G(),pe(p,{key:0,theme:s.value},{default:W(()=>[se(n)?(G(),pe(zX,{key:0})):at("",!0),f(nte,{layoutId:se(t),onToggle:c[0]||(c[0]=_=>o.value=!o.value)},{search:W(()=>[f(LE,{class:"hidden md:block mx-2"})]),menu:W(()=>[f(Ite),f(Rte),se(i)?(G(),pe(Ste,{key:0})):at("",!0),f(ate,{onMenu:l}),f(mte)]),_:1},8,["layoutId"]),f(v,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=_=>o.value=_),mobile:a.value,"mobile-breakpoint":"md"},{default:W(()=>[f(LE,{class:"md:hidden p-2"}),f(d,{class:"sm:hidden"}),f(_te,{onChange:l,view:se(r)},null,8,["view"])]),_:1},8,["modelValue","mobile"]),f(g,null,{default:W(()=>[f(m,null,{default:W(()=>[se(t)?(G(),Ie(le,{key:0},[se(r)=="Dashboard"?(G(),pe(sZ,{key:0})):at("",!0),se(r)=="DCC-EX"?(G(),pe(hZ,{key:1})):at("",!0),se(r)=="Layout"?(G(),pe(AZ,{key:2})):at("",!0),se(r)=="Roster"?(G(),pe(vee,{key:3})):at("",!0),se(r)=="Effects"?(G(),pe(Fee,{key:4})):at("",!0),se(r)=="Turnouts"?(G(),pe(Qee,{key:5})):at("",!0),se(r)=="Signals"?(G(),pe(Jee,{key:6,layoutId:se(t)},null,8,["layoutId"])):at("",!0),se(r)=="Routes"?(G(),pe(Xee,{key:7,layoutId:se(t)},null,8,["layoutId"])):at("",!0),se(r)=="Settings"?(G(),pe(OE,{key:8})):at("",!0),se(r)=="Profile"?(G(),pe(Zee,{key:9})):at("",!0),se(r)=="Emulator"?(G(),pe(OE,{key:10})):at("",!0)],64)):(G(),Ie(le,{key:1},[Le(" Select a layout ")],64))]),_:1})]),_:1})]),_:1},8,["theme"])):(G(),pe(p,{key:1,theme:s.value},{default:W(()=>[f(fJ)]),_:1},8,["theme"]))]),_:1})}}}),Ote=qT({components:bB,directives:RB,icons:{defaultSet:"mdi",aliases:BT,sets:{mdi:$T}}}),c1=YO(Dte);c1.use(vY,{firebaseApp:MD,modules:[dY()]});c1.use(Ote);c1.mount("#app");export{GD as c,KD as g};
